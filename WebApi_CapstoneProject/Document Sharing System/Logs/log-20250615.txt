2025-06-15 12:30:20.358 +05:30 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2025-06-15 12:30:20.474 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-15 12:30:20.528 +05:30 [DBG] Hosting starting
2025-06-15 12:30:20.538 +05:30 [INF] User profile is available. Using '/Users/presidio/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-15 12:30:20.547 +05:30 [DBG] Reading data from file '/Users/presidio/.aspnet/DataProtection-Keys/key-032b8071-e1bc-4982-a9fc-1d6d95560aec.xml'.
2025-06-15 12:30:20.555 +05:30 [DBG] Found key {032b8071-e1bc-4982-a9fc-1d6d95560aec}.
2025-06-15 12:30:20.571 +05:30 [DBG] Considering key {032b8071-e1bc-4982-a9fc-1d6d95560aec} with expiration date 2025-08-31 17:13:50Z as default key.
2025-06-15 12:30:20.574 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-06-15 12:30:20.580 +05:30 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-06-15 12:30:20.580 +05:30 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-06-15 12:30:20.601 +05:30 [DBG] Using key {032b8071-e1bc-4982-a9fc-1d6d95560aec} as the default key.
2025-06-15 12:30:20.617 +05:30 [DBG] Key ring with default key {032b8071-e1bc-4982-a9fc-1d6d95560aec} was loaded during application startup.
2025-06-15 12:30:20.681 +05:30 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-06-15 12:30:20.683 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-15 12:30:20.697 +05:30 [INF] Now listening on: http://localhost:5015
2025-06-15 12:30:20.697 +05:30 [DBG] Loaded hosting startup assembly Document Sharing System
2025-06-15 12:30:20.697 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-15 12:30:20.697 +05:30 [INF] Hosting environment: Development
2025-06-15 12:30:20.697 +05:30 [INF] Content root path: /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System
2025-06-15 12:30:20.699 +05:30 [DBG] Hosting started
2025-06-15 12:30:59.893 +05:30 [DBG] Connection id "0HNDBR9H6NJ33" received FIN.
2025-06-15 12:30:59.900 +05:30 [DBG] Connection id "0HNDBR9H6NJ33" accepted.
2025-06-15 12:30:59.901 +05:30 [DBG] Connection id "0HNDBR9H6NJ33" started.
2025-06-15 12:30:59.903 +05:30 [DBG] Connection id "0HNDBR9H6NJ34" accepted.
2025-06-15 12:30:59.903 +05:30 [DBG] Connection id "0HNDBR9H6NJ34" started.
2025-06-15 12:30:59.914 +05:30 [DBG] Connection id "0HNDBR9H6NJ33" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 12:30:59.920 +05:30 [DBG] Connection id "0HNDBR9H6NJ33" disconnecting.
2025-06-15 12:30:59.921 +05:30 [DBG] Connection id "0HNDBR9H6NJ33" stopped.
2025-06-15 12:30:59.948 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/api/v1/Auth/login - application/json 63
2025-06-15 12:30:59.974 +05:30 [DBG] POST requests are not supported
2025-06-15 12:31:00.001 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-06-15 12:31:00.004 +05:30 [DBG] Endpoint 'DSS.Controllers.AuthController.Login (Document Sharing System)' with route pattern 'api/v1/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-06-15 12:31:00.005 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.AuthController.Login (Document Sharing System)'
2025-06-15 12:31:00.047 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-15 12:31:00.066 +05:30 [INF] Executing endpoint 'DSS.Controllers.AuthController.Login (Document Sharing System)'
2025-06-15 12:31:00.089 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[DSS.Models.DTOs.AuthResponse]] Login(DSS.Models.DTOs.LoginRequestDto) on controller DSS.Controllers.AuthController (Document Sharing System).
2025-06-15 12:31:00.091 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 12:31:00.091 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 12:31:00.091 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 12:31:00.091 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 12:31:00.092 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 12:31:00.095 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.AuthController (Document Sharing System)
2025-06-15 12:31:00.223 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-15 12:31:00.245 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.AuthController (Document Sharing System)
2025-06-15 12:31:00.249 +05:30 [DBG] Attempting to bind parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto' ...
2025-06-15 12:31:00.251 +05:30 [DBG] Attempting to bind parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto' using the name '' in request data ...
2025-06-15 12:31:00.252 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-15 12:31:00.273 +05:30 [DBG] Connection id "0HNDBR9H6NJ34", Request id "0HNDBR9H6NJ34:00000001": started reading request body.
2025-06-15 12:31:00.273 +05:30 [DBG] Connection id "0HNDBR9H6NJ34", Request id "0HNDBR9H6NJ34:00000001": done reading request body.
2025-06-15 12:31:00.280 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'DSS.Models.DTOs.LoginRequestDto'
2025-06-15 12:31:00.280 +05:30 [DBG] Done attempting to bind parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto'.
2025-06-15 12:31:00.281 +05:30 [DBG] Done attempting to bind parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto'.
2025-06-15 12:31:00.281 +05:30 [DBG] Attempting to validate the bound parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto' ...
2025-06-15 12:31:00.289 +05:30 [DBG] Done attempting to validate the bound parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto'.
2025-06-15 12:31:00.295 +05:30 [INF] Fetching user by email: vignesh@gmail.com
2025-06-15 12:31:00.959 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 12:31:00.979 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()'
2025-06-15 12:31:01.197 +05:30 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<User>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string) Required, 1], [Property: User.PasswordHash (string) Required, 2], [Property: User.RegisteredAt (DateTime) Required, 3], [Property: User.Role (string) Required, 4], [Property: User.UpdatedAt (DateTime) Required, 5], [Property: User.Username (string) Required, 6] }
        SELECT u.Id, u.Email, u.PasswordHash, u.RegisteredAt, u.Role, u.UpdatedAt, u.Username
        FROM Users AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string) Required, 1], [Property: User.PasswordHash (string) Required, 2], [Property: User.RegisteredAt (DateTime) Required, 3], [Property: User.Role (string) Required, 4], [Property: User.UpdatedAt (DateTime) Required, 5], [Property: User.Username (string) Required, 6] }
        SELECT u.Id, u.Email, u.PasswordHash, u.RegisteredAt, u.Role, u.UpdatedAt, u.Username
        FROM Users AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            User instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(User);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("DSS.Models.User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (User)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("DSS.Models.User")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("DSS.Models.User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<Email>k__BackingField = dataReader.GetString(1);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(2);
                                instance.<RegisteredAt>k__BackingField = dataReader.GetDateTime(3);
                                instance.<Role>k__BackingField = dataReader.GetString(4);
                                instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(5);
                                instance.<Username>k__BackingField = dataReader.GetString(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("DSS.Models.User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: DSS.Contexts.DssContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-06-15 12:31:01.232 +05:30 [DBG] Creating DbConnection.
2025-06-15 12:31:01.266 +05:30 [DBG] Created DbConnection. (33ms).
2025-06-15 12:31:01.269 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:31:01.476 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:31:01.480 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:31:01.487 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-06-15 12:31:01.488 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-06-15 12:31:01.495 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:31:01.537 +05:30 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:31:01.615 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:31:01.640 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:31:01.644 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:31:01.652 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 111ms reading results.
2025-06-15 12:31:01.656 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:31:01.660 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (3ms).
2025-06-15 12:31:01.661 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 12:31:01.661 +05:30 [WRN] User not found for email: vignesh@gmail.com
2025-06-15 12:31:01.662 +05:30 [ERR] Error occurred while fetching user with email: vignesh@gmail.com
System.Collections.Generic.KeyNotFoundException: User not found
   at DSS.Services.UserService.GetUserByEmail(String Email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserService.cs:line 94
2025-06-15 12:31:01.681 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-15 12:31:01.682 +05:30 [DBG] No information found on request to perform content negotiation.
2025-06-15 12:31:01.683 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-15 12:31:01.683 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-15 12:31:01.684 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-15 12:31:01.684 +05:30 [INF] Executing ObjectResult, writing value of type 'DSS.Models.DTOs.ErrorObjectDto'.
2025-06-15 12:31:01.698 +05:30 [INF] Executed action DSS.Controllers.AuthController.Login (Document Sharing System) in 1602.8804ms
2025-06-15 12:31:01.704 +05:30 [INF] Executed endpoint 'DSS.Controllers.AuthController.Login (Document Sharing System)'
2025-06-15 12:31:01.707 +05:30 [DBG] Connection id "0HNDBR9H6NJ34" completed keep alive response.
2025-06-15 12:31:01.709 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 12:31:01.716 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:31:01.717 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (1ms).
2025-06-15 12:31:01.719 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5015/api/v1/Auth/login - 404 null application/json; charset=utf-8 1773.9234ms
2025-06-15 12:31:48.125 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/api/v1/Auth/login - application/json 63
2025-06-15 12:31:48.130 +05:30 [DBG] POST requests are not supported
2025-06-15 12:31:48.133 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-06-15 12:31:48.133 +05:30 [DBG] Endpoint 'DSS.Controllers.AuthController.Login (Document Sharing System)' with route pattern 'api/v1/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-06-15 12:31:48.134 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.AuthController.Login (Document Sharing System)'
2025-06-15 12:31:48.136 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-15 12:31:48.137 +05:30 [INF] Executing endpoint 'DSS.Controllers.AuthController.Login (Document Sharing System)'
2025-06-15 12:31:48.138 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[DSS.Models.DTOs.AuthResponse]] Login(DSS.Models.DTOs.LoginRequestDto) on controller DSS.Controllers.AuthController (Document Sharing System).
2025-06-15 12:31:48.138 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 12:31:48.138 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 12:31:48.138 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 12:31:48.138 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 12:31:48.139 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 12:31:48.139 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.AuthController (Document Sharing System)
2025-06-15 12:31:48.140 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.AuthController (Document Sharing System)
2025-06-15 12:31:48.141 +05:30 [DBG] Attempting to bind parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto' ...
2025-06-15 12:31:48.141 +05:30 [DBG] Attempting to bind parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto' using the name '' in request data ...
2025-06-15 12:31:48.141 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-15 12:31:48.142 +05:30 [DBG] Connection id "0HNDBR9H6NJ34", Request id "0HNDBR9H6NJ34:00000002": started reading request body.
2025-06-15 12:31:48.142 +05:30 [DBG] Connection id "0HNDBR9H6NJ34", Request id "0HNDBR9H6NJ34:00000002": done reading request body.
2025-06-15 12:31:48.142 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'DSS.Models.DTOs.LoginRequestDto'
2025-06-15 12:31:48.142 +05:30 [DBG] Done attempting to bind parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto'.
2025-06-15 12:31:48.142 +05:30 [DBG] Done attempting to bind parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto'.
2025-06-15 12:31:48.142 +05:30 [DBG] Attempting to validate the bound parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto' ...
2025-06-15 12:31:48.143 +05:30 [DBG] Done attempting to validate the bound parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto'.
2025-06-15 12:31:48.143 +05:30 [INF] Fetching user by email: vignesh@gmail.com
2025-06-15 12:31:48.162 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 12:31:48.163 +05:30 [DBG] Creating DbConnection.
2025-06-15 12:31:48.163 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 12:31:48.164 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:31:48.164 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:31:48.164 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:31:48.164 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:31:48.165 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:31:48.165 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:31:48.169 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:31:48.170 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:31:48.170 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:31:48.170 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:31:48.171 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-15 12:31:48.171 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:31:48.171 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:31:48.172 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 12:31:48.172 +05:30 [WRN] User not found for email: vignesh@gmail.com
2025-06-15 12:31:48.172 +05:30 [ERR] Error occurred while fetching user with email: vignesh@gmail.com
System.Collections.Generic.KeyNotFoundException: User not found
   at DSS.Services.UserService.GetUserByEmail(String Email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserService.cs:line 94
2025-06-15 12:31:48.173 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-15 12:31:48.173 +05:30 [DBG] No information found on request to perform content negotiation.
2025-06-15 12:31:48.173 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-15 12:31:48.173 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-15 12:31:48.174 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-15 12:31:48.174 +05:30 [INF] Executing ObjectResult, writing value of type 'DSS.Models.DTOs.ErrorObjectDto'.
2025-06-15 12:31:48.174 +05:30 [INF] Executed action DSS.Controllers.AuthController.Login (Document Sharing System) in 35.4675ms
2025-06-15 12:31:48.174 +05:30 [INF] Executed endpoint 'DSS.Controllers.AuthController.Login (Document Sharing System)'
2025-06-15 12:31:48.175 +05:30 [DBG] Connection id "0HNDBR9H6NJ34" completed keep alive response.
2025-06-15 12:31:48.175 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 12:31:48.175 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:31:48.175 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:31:48.175 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5015/api/v1/Auth/login - 404 null application/json; charset=utf-8 50.3958ms
2025-06-15 12:32:19.561 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/api/v1/Auth/login - application/json 63
2025-06-15 12:32:19.563 +05:30 [DBG] POST requests are not supported
2025-06-15 12:32:19.563 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-06-15 12:32:19.563 +05:30 [DBG] Endpoint 'DSS.Controllers.AuthController.Login (Document Sharing System)' with route pattern 'api/v1/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-06-15 12:32:19.563 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.AuthController.Login (Document Sharing System)'
2025-06-15 12:32:19.565 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-15 12:32:19.566 +05:30 [INF] Executing endpoint 'DSS.Controllers.AuthController.Login (Document Sharing System)'
2025-06-15 12:32:19.566 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[DSS.Models.DTOs.AuthResponse]] Login(DSS.Models.DTOs.LoginRequestDto) on controller DSS.Controllers.AuthController (Document Sharing System).
2025-06-15 12:32:19.566 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 12:32:19.566 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 12:32:19.567 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 12:32:19.567 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 12:32:19.567 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 12:32:19.567 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.AuthController (Document Sharing System)
2025-06-15 12:32:19.570 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.AuthController (Document Sharing System)
2025-06-15 12:32:19.571 +05:30 [DBG] Attempting to bind parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto' ...
2025-06-15 12:32:19.571 +05:30 [DBG] Attempting to bind parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto' using the name '' in request data ...
2025-06-15 12:32:19.571 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-15 12:32:19.571 +05:30 [DBG] Connection id "0HNDBR9H6NJ34", Request id "0HNDBR9H6NJ34:00000003": started reading request body.
2025-06-15 12:32:19.571 +05:30 [DBG] Connection id "0HNDBR9H6NJ34", Request id "0HNDBR9H6NJ34:00000003": done reading request body.
2025-06-15 12:32:19.572 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'DSS.Models.DTOs.LoginRequestDto'
2025-06-15 12:32:19.572 +05:30 [DBG] Done attempting to bind parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto'.
2025-06-15 12:32:19.572 +05:30 [DBG] Done attempting to bind parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto'.
2025-06-15 12:32:19.572 +05:30 [DBG] Attempting to validate the bound parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto' ...
2025-06-15 12:32:19.573 +05:30 [DBG] Done attempting to validate the bound parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto'.
2025-06-15 12:32:19.573 +05:30 [INF] Fetching user by email: nithish@gmail.com
2025-06-15 12:32:19.647 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 12:32:19.648 +05:30 [DBG] Creating DbConnection.
2025-06-15 12:32:19.648 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 12:32:19.648 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:19.648 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:19.648 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:32:19.648 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:32:19.648 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:32:19.649 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:32:19.651 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:32:19.651 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:32:19.652 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:32:19.652 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:19.652 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:32:19.653 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:19.653 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:32:19.653 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 12:32:19.653 +05:30 [INF] User found for email: nithish@gmail.com
2025-06-15 12:32:19.957 +05:30 [DBG] 'DssContext' generated a value for the property 'AuthSession.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:32:19.991 +05:30 [DBG] The navigation 'AuthSession.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:32:20.010 +05:30 [DBG] Context 'DssContext' started tracking 'AuthSession' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:32:20.015 +05:30 [DBG] SaveChanges starting for 'DssContext'.
2025-06-15 12:32:20.021 +05:30 [DBG] DetectChanges starting for 'DssContext'.
2025-06-15 12:32:20.047 +05:30 [DBG] DetectChanges completed for 'DssContext'.
2025-06-15 12:32:20.137 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:20.137 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:20.140 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:32:20.140 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:32:20.148 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-06-15 12:32:20.151 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuthSessions" ("Id", "CreatedAt", "ExpiresAt", "IsRevoked", "RefreshToken", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-15 12:32:20.223 +05:30 [INF] Executed DbCommand (74ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuthSessions" ("Id", "CreatedAt", "ExpiresAt", "IsRevoked", "RefreshToken", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-15 12:32:20.226 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:20.227 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-06-15 12:32:20.228 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:20.228 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:32:20.238 +05:30 [DBG] An entity of type 'AuthSession' tracked by 'DssContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:32:20.240 +05:30 [DBG] SaveChanges completed for 'DssContext' with 1 entities written to the database.
2025-06-15 12:32:20.242 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-15 12:32:20.242 +05:30 [DBG] No information found on request to perform content negotiation.
2025-06-15 12:32:20.242 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-15 12:32:20.242 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-15 12:32:20.242 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-15 12:32:20.242 +05:30 [INF] Executing OkObjectResult, writing value of type 'DSS.Models.DTOs.AuthResponse'.
2025-06-15 12:32:20.244 +05:30 [INF] Executed action DSS.Controllers.AuthController.Login (Document Sharing System) in 676.7525ms
2025-06-15 12:32:20.245 +05:30 [INF] Executed endpoint 'DSS.Controllers.AuthController.Login (Document Sharing System)'
2025-06-15 12:32:20.247 +05:30 [DBG] Connection id "0HNDBR9H6NJ34" completed keep alive response.
2025-06-15 12:32:20.247 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 12:32:20.247 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:20.248 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:32:20.248 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5015/api/v1/Auth/login - 200 null application/json; charset=utf-8 686.5108ms
2025-06-15 12:32:33.450 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=vignesh@gmail.com - null null
2025-06-15 12:32:33.453 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:32:33.453 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:32:33.454 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:32:33.454 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:32:33.504 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:32:33.505 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:32:33.510 +05:30 [DBG] Authorization was successful.
2025-06-15 12:32:33.511 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:32:33.517 +05:30 [DBG] Connection id "0HNDBR9H6NJ34" received FIN.
2025-06-15 12:32:33.517 +05:30 [DBG] Connection id "0HNDBR9H6NJ34" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 12:32:33.518 +05:30 [DBG] Connection id "0HNDBR9H6NJ34" disconnecting.
2025-06-15 12:32:33.519 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 12:32:33.519 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 12:32:33.519 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 12:32:33.519 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 12:32:33.520 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 12:32:33.520 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 12:32:33.520 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:32:33.522 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:32:33.522 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 12:32:33.523 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 12:32:33.523 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:32:33.523 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:32:33.523 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 12:32:33.524 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 12:32:33.524 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:32:33.524 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 12:32:33.525 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:32:33.525 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:32:33.525 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:32:33.525 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:32:33.528 +05:30 [INF] Fetching user by email: vignesh@gmail.com
2025-06-15 12:32:33.529 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 12:32:33.529 +05:30 [DBG] Creating DbConnection.
2025-06-15 12:32:33.529 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 12:32:33.530 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:33.530 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:33.530 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:32:33.530 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:32:33.530 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:32:33.530 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:32:33.531 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:32:33.531 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:32:33.531 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:32:33.531 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:33.531 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:32:33.531 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:33.531 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:32:33.532 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 12:32:33.532 +05:30 [WRN] User not found for email: vignesh@gmail.com
2025-06-15 12:32:33.532 +05:30 [ERR] Error occurred while fetching user with email: vignesh@gmail.com
System.Collections.Generic.KeyNotFoundException: User not found
   at DSS.Services.UserService.GetUserByEmail(String Email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserService.cs:line 94
2025-06-15 12:32:33.533 +05:30 [ERR] Error fetching document Movie_rental_Tables.txt for uploader vignesh@gmail.com
System.Collections.Generic.KeyNotFoundException: User not found
   at DSS.Services.UserService.GetUserByEmail(String Email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserService.cs:line 94
   at DSS.Services.UserDocService.GetByFileName(String filename, String email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserDocService.cs:line 69
2025-06-15 12:32:33.535 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-15 12:32:33.536 +05:30 [DBG] No information found on request to perform content negotiation.
2025-06-15 12:32:33.536 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-15 12:32:33.536 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-15 12:32:33.536 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-15 12:32:33.536 +05:30 [INF] Executing ObjectResult, writing value of type 'DSS.Models.DTOs.ErrorObjectDto'.
2025-06-15 12:32:33.537 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 17.5951ms
2025-06-15 12:32:33.538 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:32:33.538 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 12:32:33.538 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:33.538 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:32:33.538 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=vignesh@gmail.com - 499 null application/json; charset=utf-8 88.7252ms
2025-06-15 12:32:33.540 +05:30 [DBG] Connection id "0HNDBR9H6NJ34" stopped.
2025-06-15 12:32:34.501 +05:30 [DBG] Connection id "0HNDBR9H6NJ35" accepted.
2025-06-15 12:32:34.501 +05:30 [DBG] Connection id "0HNDBR9H6NJ35" received FIN.
2025-06-15 12:32:34.501 +05:30 [DBG] Connection id "0HNDBR9H6NJ35" started.
2025-06-15 12:32:34.501 +05:30 [DBG] Connection id "0HNDBR9H6NJ36" accepted.
2025-06-15 12:32:34.501 +05:30 [DBG] Connection id "0HNDBR9H6NJ36" started.
2025-06-15 12:32:34.501 +05:30 [DBG] Connection id "0HNDBR9H6NJ35" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 12:32:34.501 +05:30 [DBG] Connection id "0HNDBR9H6NJ35" disconnecting.
2025-06-15 12:32:34.502 +05:30 [DBG] Connection id "0HNDBR9H6NJ35" stopped.
2025-06-15 12:32:34.502 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=vignesh@gmail.com - null null
2025-06-15 12:32:34.502 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:32:34.504 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:32:34.504 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:32:34.504 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:32:34.504 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:32:34.505 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:32:34.506 +05:30 [DBG] Authorization was successful.
2025-06-15 12:32:34.506 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:32:34.506 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 12:32:34.506 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 12:32:34.506 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 12:32:34.507 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 12:32:34.507 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 12:32:34.507 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 12:32:34.507 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:32:34.508 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:32:34.508 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 12:32:34.509 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 12:32:34.509 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:32:34.509 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:32:34.509 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 12:32:34.509 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 12:32:34.509 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:32:34.509 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 12:32:34.510 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:32:34.510 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:32:34.510 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:32:34.510 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:32:34.510 +05:30 [INF] Fetching user by email: vignesh@gmail.com
2025-06-15 12:32:34.511 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 12:32:34.511 +05:30 [DBG] Creating DbConnection.
2025-06-15 12:32:34.512 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 12:32:34.512 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:34.513 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:34.513 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:32:34.513 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:32:34.513 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:32:34.513 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:32:34.514 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:32:34.514 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:32:34.515 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:32:34.515 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:34.515 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:32:34.515 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:34.515 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:32:34.515 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 12:32:34.516 +05:30 [WRN] User not found for email: vignesh@gmail.com
2025-06-15 12:32:34.516 +05:30 [ERR] Error occurred while fetching user with email: vignesh@gmail.com
System.Collections.Generic.KeyNotFoundException: User not found
   at DSS.Services.UserService.GetUserByEmail(String Email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserService.cs:line 94
2025-06-15 12:32:34.517 +05:30 [ERR] Error fetching document Movie_rental_Tables.txt for uploader vignesh@gmail.com
System.Collections.Generic.KeyNotFoundException: User not found
   at DSS.Services.UserService.GetUserByEmail(String Email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserService.cs:line 94
   at DSS.Services.UserDocService.GetByFileName(String filename, String email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserDocService.cs:line 69
2025-06-15 12:32:34.518 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-15 12:32:34.519 +05:30 [DBG] No information found on request to perform content negotiation.
2025-06-15 12:32:34.519 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-15 12:32:34.519 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-15 12:32:34.519 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-15 12:32:34.519 +05:30 [INF] Executing ObjectResult, writing value of type 'DSS.Models.DTOs.ErrorObjectDto'.
2025-06-15 12:32:34.519 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 12.4015ms
2025-06-15 12:32:34.520 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:32:34.520 +05:30 [DBG] Connection id "0HNDBR9H6NJ36" completed keep alive response.
2025-06-15 12:32:34.520 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 12:32:34.520 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:34.520 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:32:34.521 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=vignesh@gmail.com - 404 null application/json; charset=utf-8 18.8393ms
2025-06-15 12:32:38.559 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=vignesh@gmail.com - null null
2025-06-15 12:32:38.559 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:32:38.559 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:32:38.559 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:32:38.559 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:32:38.560 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:32:38.560 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:32:38.562 +05:30 [DBG] Authorization was successful.
2025-06-15 12:32:38.562 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:32:38.562 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 12:32:38.562 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 12:32:38.562 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 12:32:38.562 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 12:32:38.562 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 12:32:38.562 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 12:32:38.563 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:32:38.564 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:32:38.564 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 12:32:38.564 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 12:32:38.564 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:32:38.564 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:32:38.564 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 12:32:38.564 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 12:32:38.565 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:32:38.565 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 12:32:38.565 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:32:38.565 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:32:38.565 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:32:38.565 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:32:38.565 +05:30 [INF] Fetching user by email: vignesh@gmail.com
2025-06-15 12:32:38.566 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 12:32:38.566 +05:30 [DBG] Creating DbConnection.
2025-06-15 12:32:38.566 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 12:32:38.567 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:38.567 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:38.567 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:32:38.567 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:32:38.567 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:32:38.567 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:32:38.568 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:32:38.568 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:32:38.568 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:32:38.568 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:38.568 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:32:38.568 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:38.568 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:32:38.569 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 12:32:38.569 +05:30 [WRN] User not found for email: vignesh@gmail.com
2025-06-15 12:32:38.569 +05:30 [ERR] Error occurred while fetching user with email: vignesh@gmail.com
System.Collections.Generic.KeyNotFoundException: User not found
   at DSS.Services.UserService.GetUserByEmail(String Email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserService.cs:line 94
2025-06-15 12:32:38.570 +05:30 [ERR] Error fetching document Movie_rental_Tables.txt for uploader vignesh@gmail.com
System.Collections.Generic.KeyNotFoundException: User not found
   at DSS.Services.UserService.GetUserByEmail(String Email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserService.cs:line 94
   at DSS.Services.UserDocService.GetByFileName(String filename, String email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserDocService.cs:line 69
2025-06-15 12:32:38.571 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-15 12:32:38.571 +05:30 [DBG] No information found on request to perform content negotiation.
2025-06-15 12:32:38.571 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-15 12:32:38.571 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-15 12:32:38.571 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-15 12:32:38.572 +05:30 [INF] Executing ObjectResult, writing value of type 'DSS.Models.DTOs.ErrorObjectDto'.
2025-06-15 12:32:38.572 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 9.4201ms
2025-06-15 12:32:38.572 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:32:38.572 +05:30 [DBG] Connection id "0HNDBR9H6NJ36" completed keep alive response.
2025-06-15 12:32:38.572 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 12:32:38.573 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:38.573 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:32:38.573 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=vignesh@gmail.com - 404 null application/json; charset=utf-8 14.0281ms
2025-06-15 12:32:42.097 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=vignesh@gmail.com - null null
2025-06-15 12:32:42.098 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:32:42.098 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:32:42.098 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:32:42.098 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:32:42.098 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:32:42.098 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:32:42.098 +05:30 [DBG] Authorization was successful.
2025-06-15 12:32:42.098 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:32:42.099 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 12:32:42.099 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 12:32:42.099 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 12:32:42.099 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 12:32:42.099 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 12:32:42.099 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 12:32:42.099 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:32:42.099 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:32:42.099 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 12:32:42.099 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 12:32:42.100 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:32:42.100 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:32:42.100 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 12:32:42.100 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 12:32:42.100 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:32:42.100 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 12:32:42.100 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:32:42.100 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:32:42.100 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:32:42.100 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:32:42.100 +05:30 [INF] Fetching user by email: vignesh@gmail.com
2025-06-15 12:32:42.101 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 12:32:42.101 +05:30 [DBG] Creating DbConnection.
2025-06-15 12:32:42.101 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 12:32:42.101 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:42.101 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:42.101 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:32:42.101 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:32:42.101 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:32:42.101 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:32:42.102 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:32:42.102 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:32:42.102 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:32:42.102 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:42.103 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:32:42.103 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:42.103 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:32:42.103 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 12:32:42.104 +05:30 [WRN] User not found for email: vignesh@gmail.com
2025-06-15 12:32:42.104 +05:30 [ERR] Error occurred while fetching user with email: vignesh@gmail.com
System.Collections.Generic.KeyNotFoundException: User not found
   at DSS.Services.UserService.GetUserByEmail(String Email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserService.cs:line 94
2025-06-15 12:32:42.104 +05:30 [ERR] Error fetching document Movie_rental_Tables.txt for uploader vignesh@gmail.com
System.Collections.Generic.KeyNotFoundException: User not found
   at DSS.Services.UserService.GetUserByEmail(String Email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserService.cs:line 94
   at DSS.Services.UserDocService.GetByFileName(String filename, String email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserDocService.cs:line 69
2025-06-15 12:32:42.106 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-15 12:32:42.106 +05:30 [DBG] No information found on request to perform content negotiation.
2025-06-15 12:32:42.106 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-15 12:32:42.106 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-15 12:32:42.106 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-15 12:32:42.106 +05:30 [INF] Executing ObjectResult, writing value of type 'DSS.Models.DTOs.ErrorObjectDto'.
2025-06-15 12:32:42.106 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 7.0872ms
2025-06-15 12:32:42.106 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:32:42.106 +05:30 [DBG] Connection id "0HNDBR9H6NJ36" completed keep alive response.
2025-06-15 12:32:42.106 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 12:32:42.107 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:42.107 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:32:42.107 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=vignesh@gmail.com - 404 null application/json; charset=utf-8 9.3661ms
2025-06-15 12:32:46.341 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=vignesh@gmail.com - null null
2025-06-15 12:32:46.341 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:32:46.341 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:32:46.341 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:32:46.341 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:32:46.341 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:32:46.341 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:32:46.342 +05:30 [DBG] Authorization was successful.
2025-06-15 12:32:46.342 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:32:46.342 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 12:32:46.342 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 12:32:46.342 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 12:32:46.342 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 12:32:46.342 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 12:32:46.342 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 12:32:46.342 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:32:46.343 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:32:46.343 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 12:32:46.343 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 12:32:46.343 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:32:46.343 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:32:46.343 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 12:32:46.343 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 12:32:46.343 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:32:46.344 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 12:32:46.344 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:32:46.344 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:32:46.344 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:32:46.344 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:32:46.344 +05:30 [INF] Fetching user by email: vignesh@gmail.com
2025-06-15 12:32:46.344 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 12:32:46.345 +05:30 [DBG] Creating DbConnection.
2025-06-15 12:32:46.345 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 12:32:46.345 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:46.345 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:46.345 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:32:46.345 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:32:46.345 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:32:46.345 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:32:46.350 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:32:46.351 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:32:46.351 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:32:46.351 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:46.351 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:32:46.351 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:46.352 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:32:46.352 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 12:32:46.352 +05:30 [WRN] User not found for email: vignesh@gmail.com
2025-06-15 12:32:46.352 +05:30 [ERR] Error occurred while fetching user with email: vignesh@gmail.com
System.Collections.Generic.KeyNotFoundException: User not found
   at DSS.Services.UserService.GetUserByEmail(String Email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserService.cs:line 94
2025-06-15 12:32:46.352 +05:30 [ERR] Error fetching document Movie_rental_Tables.txt for uploader vignesh@gmail.com
System.Collections.Generic.KeyNotFoundException: User not found
   at DSS.Services.UserService.GetUserByEmail(String Email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserService.cs:line 94
   at DSS.Services.UserDocService.GetByFileName(String filename, String email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserDocService.cs:line 69
2025-06-15 12:32:46.353 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-15 12:32:46.353 +05:30 [DBG] No information found on request to perform content negotiation.
2025-06-15 12:32:46.353 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-15 12:32:46.353 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-15 12:32:46.353 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-15 12:32:46.353 +05:30 [INF] Executing ObjectResult, writing value of type 'DSS.Models.DTOs.ErrorObjectDto'.
2025-06-15 12:32:46.354 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 11.0699ms
2025-06-15 12:32:46.354 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:32:46.354 +05:30 [DBG] Connection id "0HNDBR9H6NJ36" completed keep alive response.
2025-06-15 12:32:46.354 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 12:32:46.354 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:46.354 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:32:46.354 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=vignesh@gmail.com - 404 null application/json; charset=utf-8 13.4239ms
2025-06-15 12:32:46.810 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=vignesh@gmail.com - null null
2025-06-15 12:32:46.811 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:32:46.811 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:32:46.811 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:32:46.811 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:32:46.811 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:32:46.811 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:32:46.811 +05:30 [DBG] Authorization was successful.
2025-06-15 12:32:46.811 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:32:46.811 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 12:32:46.811 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 12:32:46.811 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 12:32:46.812 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 12:32:46.812 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 12:32:46.812 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 12:32:46.812 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:32:46.812 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:32:46.812 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 12:32:46.812 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 12:32:46.812 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:32:46.812 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:32:46.812 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 12:32:46.812 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 12:32:46.812 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:32:46.813 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 12:32:46.813 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:32:46.813 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:32:46.813 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:32:46.813 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:32:46.813 +05:30 [INF] Fetching user by email: vignesh@gmail.com
2025-06-15 12:32:46.813 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 12:32:46.813 +05:30 [DBG] Creating DbConnection.
2025-06-15 12:32:46.814 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 12:32:46.814 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:46.814 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:46.814 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:32:46.814 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:32:46.814 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:32:46.814 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:32:46.814 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:32:46.815 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:32:46.815 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:32:46.815 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:46.815 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:32:46.815 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:46.815 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:32:46.815 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 12:32:46.815 +05:30 [WRN] User not found for email: vignesh@gmail.com
2025-06-15 12:32:46.816 +05:30 [ERR] Error occurred while fetching user with email: vignesh@gmail.com
System.Collections.Generic.KeyNotFoundException: User not found
   at DSS.Services.UserService.GetUserByEmail(String Email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserService.cs:line 94
2025-06-15 12:32:46.816 +05:30 [ERR] Error fetching document Movie_rental_Tables.txt for uploader vignesh@gmail.com
System.Collections.Generic.KeyNotFoundException: User not found
   at DSS.Services.UserService.GetUserByEmail(String Email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserService.cs:line 94
   at DSS.Services.UserDocService.GetByFileName(String filename, String email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserDocService.cs:line 69
2025-06-15 12:32:46.817 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-15 12:32:46.817 +05:30 [DBG] No information found on request to perform content negotiation.
2025-06-15 12:32:46.817 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-15 12:32:46.817 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-15 12:32:46.818 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-15 12:32:46.818 +05:30 [INF] Executing ObjectResult, writing value of type 'DSS.Models.DTOs.ErrorObjectDto'.
2025-06-15 12:32:46.818 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 6.1739ms
2025-06-15 12:32:46.818 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:32:46.818 +05:30 [DBG] Connection id "0HNDBR9H6NJ36" completed keep alive response.
2025-06-15 12:32:46.818 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 12:32:46.819 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:46.819 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:32:46.819 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=vignesh@gmail.com - 404 null application/json; charset=utf-8 8.6392ms
2025-06-15 12:32:47.362 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=vignesh@gmail.com - null null
2025-06-15 12:32:47.362 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:32:47.362 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:32:47.362 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:32:47.362 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:32:47.362 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:32:47.362 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:32:47.363 +05:30 [DBG] Authorization was successful.
2025-06-15 12:32:47.363 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:32:47.363 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 12:32:47.363 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 12:32:47.363 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 12:32:47.363 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 12:32:47.363 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 12:32:47.363 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 12:32:47.363 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:32:47.363 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:32:47.363 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 12:32:47.364 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 12:32:47.364 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:32:47.364 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:32:47.364 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 12:32:47.364 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 12:32:47.364 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:32:47.364 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 12:32:47.364 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:32:47.364 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:32:47.364 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:32:47.364 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:32:47.364 +05:30 [INF] Fetching user by email: vignesh@gmail.com
2025-06-15 12:32:47.365 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 12:32:47.365 +05:30 [DBG] Creating DbConnection.
2025-06-15 12:32:47.365 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 12:32:47.365 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:47.365 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:47.365 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:32:47.365 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:32:47.365 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:32:47.366 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:32:47.366 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:32:47.366 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:32:47.366 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:32:47.366 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:47.367 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:32:47.367 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:47.367 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:32:47.367 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 12:32:47.367 +05:30 [WRN] User not found for email: vignesh@gmail.com
2025-06-15 12:32:47.367 +05:30 [ERR] Error occurred while fetching user with email: vignesh@gmail.com
System.Collections.Generic.KeyNotFoundException: User not found
   at DSS.Services.UserService.GetUserByEmail(String Email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserService.cs:line 94
2025-06-15 12:32:47.367 +05:30 [ERR] Error fetching document Movie_rental_Tables.txt for uploader vignesh@gmail.com
System.Collections.Generic.KeyNotFoundException: User not found
   at DSS.Services.UserService.GetUserByEmail(String Email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserService.cs:line 94
   at DSS.Services.UserDocService.GetByFileName(String filename, String email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserDocService.cs:line 69
2025-06-15 12:32:47.369 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-15 12:32:47.369 +05:30 [DBG] No information found on request to perform content negotiation.
2025-06-15 12:32:47.369 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-15 12:32:47.369 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-15 12:32:47.369 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-15 12:32:47.370 +05:30 [INF] Executing ObjectResult, writing value of type 'DSS.Models.DTOs.ErrorObjectDto'.
2025-06-15 12:32:47.370 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 7.145ms
2025-06-15 12:32:47.371 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:32:47.371 +05:30 [DBG] Connection id "0HNDBR9H6NJ36" completed keep alive response.
2025-06-15 12:32:47.371 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 12:32:47.371 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:47.371 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:32:47.371 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=vignesh@gmail.com - 404 null application/json; charset=utf-8 9.6443ms
2025-06-15 12:32:48.223 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=vignesh@gmail.com - null null
2025-06-15 12:32:48.223 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:32:48.223 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:32:48.223 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:32:48.223 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:32:48.224 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:32:48.224 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:32:48.224 +05:30 [DBG] Authorization was successful.
2025-06-15 12:32:48.224 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:32:48.224 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 12:32:48.224 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 12:32:48.224 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 12:32:48.224 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 12:32:48.224 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 12:32:48.225 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 12:32:48.225 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:32:48.225 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:32:48.225 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 12:32:48.225 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 12:32:48.225 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:32:48.225 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:32:48.225 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 12:32:48.225 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 12:32:48.225 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:32:48.225 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 12:32:48.225 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:32:48.225 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:32:48.226 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:32:48.226 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:32:48.226 +05:30 [INF] Fetching user by email: vignesh@gmail.com
2025-06-15 12:32:48.226 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 12:32:48.226 +05:30 [DBG] Creating DbConnection.
2025-06-15 12:32:48.226 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 12:32:48.226 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:48.226 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:48.226 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:32:48.227 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:32:48.227 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:32:48.227 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:32:48.227 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:32:48.227 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:32:48.228 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:32:48.228 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:48.228 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:32:48.228 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:48.228 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:32:48.228 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 12:32:48.228 +05:30 [WRN] User not found for email: vignesh@gmail.com
2025-06-15 12:32:48.229 +05:30 [ERR] Error occurred while fetching user with email: vignesh@gmail.com
System.Collections.Generic.KeyNotFoundException: User not found
   at DSS.Services.UserService.GetUserByEmail(String Email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserService.cs:line 94
2025-06-15 12:32:48.229 +05:30 [ERR] Error fetching document Movie_rental_Tables.txt for uploader vignesh@gmail.com
System.Collections.Generic.KeyNotFoundException: User not found
   at DSS.Services.UserService.GetUserByEmail(String Email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserService.cs:line 94
   at DSS.Services.UserDocService.GetByFileName(String filename, String email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserDocService.cs:line 69
2025-06-15 12:32:48.229 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-15 12:32:48.230 +05:30 [DBG] No information found on request to perform content negotiation.
2025-06-15 12:32:48.230 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-15 12:32:48.230 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-15 12:32:48.230 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-15 12:32:48.230 +05:30 [INF] Executing ObjectResult, writing value of type 'DSS.Models.DTOs.ErrorObjectDto'.
2025-06-15 12:32:48.230 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 5.286ms
2025-06-15 12:32:48.230 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:32:48.230 +05:30 [DBG] Connection id "0HNDBR9H6NJ36" completed keep alive response.
2025-06-15 12:32:48.230 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 12:32:48.231 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:48.231 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:32:48.231 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=vignesh@gmail.com - 404 null application/json; charset=utf-8 7.7686ms
2025-06-15 12:32:48.921 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=vignesh@gmail.com - null null
2025-06-15 12:32:48.922 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:32:48.922 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:32:48.922 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:32:48.922 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:32:48.922 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:32:48.922 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:32:48.923 +05:30 [DBG] Authorization was successful.
2025-06-15 12:32:48.923 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:32:48.923 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 12:32:48.923 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 12:32:48.923 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 12:32:48.923 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 12:32:48.923 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 12:32:48.923 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 12:32:48.923 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:32:48.924 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:32:48.924 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 12:32:48.924 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 12:32:48.924 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:32:48.924 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:32:48.924 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 12:32:48.924 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 12:32:48.924 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:32:48.924 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 12:32:48.924 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:32:48.924 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:32:48.924 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:32:48.925 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:32:48.925 +05:30 [INF] Fetching user by email: vignesh@gmail.com
2025-06-15 12:32:48.925 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 12:32:48.925 +05:30 [DBG] Creating DbConnection.
2025-06-15 12:32:48.925 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 12:32:48.925 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:48.926 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:48.926 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:32:48.926 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:32:48.926 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:32:48.926 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:32:48.926 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:32:48.927 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:32:48.927 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:32:48.927 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:48.927 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:32:48.927 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:48.927 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:32:48.927 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 12:32:48.928 +05:30 [WRN] User not found for email: vignesh@gmail.com
2025-06-15 12:32:48.928 +05:30 [ERR] Error occurred while fetching user with email: vignesh@gmail.com
System.Collections.Generic.KeyNotFoundException: User not found
   at DSS.Services.UserService.GetUserByEmail(String Email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserService.cs:line 94
2025-06-15 12:32:48.931 +05:30 [ERR] Error fetching document Movie_rental_Tables.txt for uploader vignesh@gmail.com
System.Collections.Generic.KeyNotFoundException: User not found
   at DSS.Services.UserService.GetUserByEmail(String Email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserService.cs:line 94
   at DSS.Services.UserDocService.GetByFileName(String filename, String email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserDocService.cs:line 69
2025-06-15 12:32:48.932 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-15 12:32:48.932 +05:30 [DBG] No information found on request to perform content negotiation.
2025-06-15 12:32:48.932 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-15 12:32:48.932 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-15 12:32:48.933 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-15 12:32:48.933 +05:30 [INF] Executing ObjectResult, writing value of type 'DSS.Models.DTOs.ErrorObjectDto'.
2025-06-15 12:32:48.933 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 9.6788ms
2025-06-15 12:32:48.933 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:32:48.934 +05:30 [DBG] Connection id "0HNDBR9H6NJ36" completed keep alive response.
2025-06-15 12:32:48.934 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 12:32:48.934 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:32:48.934 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:32:48.934 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=vignesh@gmail.com - 404 null application/json; charset=utf-8 12.9142ms
2025-06-15 12:32:49.381 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=vignesh@gmail.com - null null
2025-06-15 12:32:49.381 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:32:49.381 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:32:49.382 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:32:49.382 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:32:49.382 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:32:49.382 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:32:49.382 +05:30 [DBG] Authorization was successful.
2025-06-15 12:32:49.496 +05:30 [DBG] Connection id "0HNDBR9H6NJ36" received FIN.
2025-06-15 12:32:49.497 +05:30 [DBG] Connection id "0HNDBR9H6NJ36" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 12:32:49.497 +05:30 [DBG] Connection id "0HNDBR9H6NJ36" disconnecting.
2025-06-15 12:32:49.499 +05:30 [DBG] The request was canceled.
2025-06-15 12:32:49.500 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=vignesh@gmail.com - 499 null null 119.1187ms
2025-06-15 12:32:49.500 +05:30 [DBG] Connection id "0HNDBR9H6NJ36" stopped.
2025-06-15 12:32:50.313 +05:30 [DBG] Connection id "0HNDBR9H6NJ37" received FIN.
2025-06-15 12:32:50.313 +05:30 [DBG] Connection id "0HNDBR9H6NJ37" accepted.
2025-06-15 12:32:50.313 +05:30 [DBG] Connection id "0HNDBR9H6NJ37" started.
2025-06-15 12:32:50.313 +05:30 [DBG] Connection id "0HNDBR9H6NJ38" accepted.
2025-06-15 12:32:50.313 +05:30 [DBG] Connection id "0HNDBR9H6NJ37" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 12:32:50.313 +05:30 [DBG] Connection id "0HNDBR9H6NJ38" started.
2025-06-15 12:32:50.313 +05:30 [DBG] Connection id "0HNDBR9H6NJ37" disconnecting.
2025-06-15 12:32:50.314 +05:30 [DBG] Connection id "0HNDBR9H6NJ37" stopped.
2025-06-15 12:32:50.314 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=vignesh@gmail.com - null null
2025-06-15 12:32:50.314 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:32:50.314 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:32:50.314 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:32:50.314 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:32:50.314 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:32:50.314 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:32:50.315 +05:30 [DBG] Authorization was successful.
2025-06-15 12:32:50.358 +05:30 [DBG] Connection id "0HNDBR9H6NJ38" received FIN.
2025-06-15 12:32:50.358 +05:30 [DBG] Connection id "0HNDBR9H6NJ38" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 12:32:50.359 +05:30 [DBG] Connection id "0HNDBR9H6NJ38" disconnecting.
2025-06-15 12:32:50.359 +05:30 [DBG] The request was canceled.
2025-06-15 12:32:50.359 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=vignesh@gmail.com - 499 null null 45.4368ms
2025-06-15 12:32:50.359 +05:30 [DBG] Connection id "0HNDBR9H6NJ38" stopped.
2025-06-15 12:32:51.084 +05:30 [DBG] Connection id "0HNDBR9H6NJ39" accepted.
2025-06-15 12:32:51.084 +05:30 [DBG] Connection id "0HNDBR9H6NJ39" received FIN.
2025-06-15 12:32:51.084 +05:30 [DBG] Connection id "0HNDBR9H6NJ39" started.
2025-06-15 12:32:51.084 +05:30 [DBG] Connection id "0HNDBR9H6NJ3A" accepted.
2025-06-15 12:32:51.084 +05:30 [DBG] Connection id "0HNDBR9H6NJ39" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 12:32:51.084 +05:30 [DBG] Connection id "0HNDBR9H6NJ3A" started.
2025-06-15 12:32:51.084 +05:30 [DBG] Connection id "0HNDBR9H6NJ39" disconnecting.
2025-06-15 12:32:51.084 +05:30 [DBG] Connection id "0HNDBR9H6NJ39" stopped.
2025-06-15 12:32:51.084 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=vignesh@gmail.com - null null
2025-06-15 12:32:51.085 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:32:51.085 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:32:51.085 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:32:51.085 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:32:51.086 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:32:51.086 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:32:51.086 +05:30 [DBG] Authorization was successful.
2025-06-15 12:32:51.121 +05:30 [DBG] Connection id "0HNDBR9H6NJ3A" received FIN.
2025-06-15 12:32:51.121 +05:30 [DBG] Connection id "0HNDBR9H6NJ3A" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 12:32:51.122 +05:30 [DBG] Connection id "0HNDBR9H6NJ3A" disconnecting.
2025-06-15 12:32:51.122 +05:30 [DBG] The request was canceled.
2025-06-15 12:32:51.122 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=vignesh@gmail.com - 499 null null 37.7729ms
2025-06-15 12:32:51.122 +05:30 [DBG] Connection id "0HNDBR9H6NJ3A" stopped.
2025-06-15 12:33:07.231 +05:30 [DBG] Connection id "0HNDBR9H6NJ3B" received FIN.
2025-06-15 12:33:07.232 +05:30 [DBG] Connection id "0HNDBR9H6NJ3B" accepted.
2025-06-15 12:33:07.232 +05:30 [DBG] Connection id "0HNDBR9H6NJ3B" started.
2025-06-15 12:33:07.232 +05:30 [DBG] Connection id "0HNDBR9H6NJ3C" accepted.
2025-06-15 12:33:07.232 +05:30 [DBG] Connection id "0HNDBR9H6NJ3B" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 12:33:07.232 +05:30 [DBG] Connection id "0HNDBR9H6NJ3C" started.
2025-06-15 12:33:07.232 +05:30 [DBG] Connection id "0HNDBR9H6NJ3B" disconnecting.
2025-06-15 12:33:07.232 +05:30 [DBG] Connection id "0HNDBR9H6NJ3B" stopped.
2025-06-15 12:33:07.232 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 12:33:07.232 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:33:07.233 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:33:07.233 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:33:07.233 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:07.233 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:33:07.233 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:33:07.233 +05:30 [DBG] Authorization was successful.
2025-06-15 12:33:07.233 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:07.234 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 12:33:07.234 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 12:33:07.234 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 12:33:07.234 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 12:33:07.234 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 12:33:07.234 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 12:33:07.234 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:33:07.235 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:33:07.235 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 12:33:07.235 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 12:33:07.235 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:33:07.235 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:33:07.235 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 12:33:07.235 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 12:33:07.235 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:33:07.235 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 12:33:07.235 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:07.236 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:07.236 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:33:07.236 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:07.236 +05:30 [INF] Fetching user by email: arun@gmail.com
2025-06-15 12:33:07.237 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 12:33:07.237 +05:30 [DBG] Creating DbConnection.
2025-06-15 12:33:07.237 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 12:33:07.237 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:07.237 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:07.237 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:07.238 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:07.238 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:07.238 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:33:07.250 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:33:07.251 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:07.251 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:07.251 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:07.251 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:07.251 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:07.251 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:07.251 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 12:33:07.252 +05:30 [INF] User found for email: arun@gmail.com
2025-06-15 12:33:07.254 +05:30 [DBG] Compiling query expression: 
'DbSet<UserDocument>()'
2025-06-15 12:33:07.265 +05:30 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserDocument>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserDocument.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserDocument.ContentType (string) Required, 1], [Property: UserDocument.FileData (byte[]), 2], [Property: UserDocument.FileName (string) Required, 3], [Property: UserDocument.IsDeleted (bool) Required, 4], [Property: UserDocument.UploadedAt (DateTime) Required, 5], [Property: UserDocument.UploadedById (Guid) Required FK Index, 6] }
        SELECT u.Id, u.ContentType, u.FileData, u.FileName, u.IsDeleted, u.UploadedAt, u.UploadedById
        FROM UserDocuments AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserDocument.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserDocument.ContentType (string) Required, 1], [Property: UserDocument.FileData (byte[]), 2], [Property: UserDocument.FileName (string) Required, 3], [Property: UserDocument.IsDeleted (bool) Required, 4], [Property: UserDocument.UploadedAt (DateTime) Required, 5], [Property: UserDocument.UploadedById (Guid) Required FK Index, 6] }
        SELECT u.Id, u.ContentType, u.FileData, u.FileName, u.IsDeleted, u.UploadedAt, u.UploadedById
        FROM UserDocuments AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        UserDocument entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            UserDocument instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(UserDocument);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: UserDocument.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("DSS.Models.UserDocument").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (UserDocument)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: UserDocument | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("DSS.Models.UserDocument")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: UserDocument | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("DSS.Models.UserDocument")]: 
                        {
                            return 
                            {
                                UserDocument instance;
                                instance = new UserDocument();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<ContentType>k__BackingField = dataReader.GetString(1);
                                instance.<FileData>k__BackingField = dataReader.IsDBNull(2) ? default(byte[]) : dataReader.GetFieldValue<byte[]>(2);
                                instance.<FileName>k__BackingField = dataReader.GetString(3);
                                instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(4);
                                instance.<UploadedAt>k__BackingField = dataReader.GetDateTime(5);
                                instance.<UploadedById>k__BackingField = dataReader.GetGuid(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: UserDocument | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("DSS.Models.UserDocument")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(UserDocument)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: DSS.Contexts.DssContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-06-15 12:33:07.268 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:07.268 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:07.268 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:07.268 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:07.268 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:07.269 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:33:07.271 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:33:07.282 +05:30 [DBG] Context 'DssContext' started tracking 'UserDocument' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:07.292 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:07.293 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 21ms reading results.
2025-06-15 12:33:07.293 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:07.293 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:07.293 +05:30 [INF] Fetched all documents Count: 1
2025-06-15 12:33:07.294 +05:30 [WRN] Document Movie_rental_Tables.txt not found for uploader arun@gmail.com
2025-06-15 12:33:07.294 +05:30 [ERR] Error fetching document Movie_rental_Tables.txt for uploader arun@gmail.com
System.Collections.Generic.KeyNotFoundException: Document not found
   at DSS.Services.UserDocService.GetByFileName(String filename, String email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserDocService.cs:line 77
2025-06-15 12:33:07.294 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-15 12:33:07.294 +05:30 [DBG] No information found on request to perform content negotiation.
2025-06-15 12:33:07.294 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-15 12:33:07.294 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-15 12:33:07.294 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-15 12:33:07.295 +05:30 [INF] Executing ObjectResult, writing value of type 'DSS.Models.DTOs.ErrorObjectDto'.
2025-06-15 12:33:07.295 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 60.4598ms
2025-06-15 12:33:07.295 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:07.295 +05:30 [DBG] Connection id "0HNDBR9H6NJ3C" completed keep alive response.
2025-06-15 12:33:07.295 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 12:33:07.295 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:07.295 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:07.295 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=arun@gmail.com - 404 null application/json; charset=utf-8 63.0573ms
2025-06-15 12:33:09.009 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 12:33:09.009 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:33:09.009 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:33:09.010 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:33:09.010 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:09.010 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:33:09.010 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:33:09.011 +05:30 [DBG] Authorization was successful.
2025-06-15 12:33:09.011 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:09.011 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 12:33:09.011 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 12:33:09.011 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 12:33:09.011 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 12:33:09.012 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 12:33:09.012 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 12:33:09.012 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:33:09.012 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:33:09.012 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 12:33:09.012 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 12:33:09.013 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:33:09.013 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:33:09.013 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 12:33:09.013 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 12:33:09.013 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:33:09.013 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 12:33:09.013 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:09.013 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:09.014 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:33:09.014 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:09.014 +05:30 [INF] Fetching user by email: arun@gmail.com
2025-06-15 12:33:09.015 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 12:33:09.015 +05:30 [DBG] Creating DbConnection.
2025-06-15 12:33:09.015 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 12:33:09.015 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:09.015 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:09.015 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:09.015 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:09.015 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:09.015 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:33:09.017 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:33:09.017 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:09.017 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:09.018 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:09.018 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:09.018 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:09.018 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:09.018 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 12:33:09.018 +05:30 [INF] User found for email: arun@gmail.com
2025-06-15 12:33:09.018 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:09.018 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:09.018 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:09.019 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:09.019 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:09.019 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:33:09.020 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:33:09.021 +05:30 [DBG] Context 'DssContext' started tracking 'UserDocument' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:09.021 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:09.021 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:09.021 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:09.021 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:09.021 +05:30 [INF] Fetched all documents Count: 1
2025-06-15 12:33:09.021 +05:30 [WRN] Document Movie_rental_Tables.txt not found for uploader arun@gmail.com
2025-06-15 12:33:09.021 +05:30 [ERR] Error fetching document Movie_rental_Tables.txt for uploader arun@gmail.com
System.Collections.Generic.KeyNotFoundException: Document not found
   at DSS.Services.UserDocService.GetByFileName(String filename, String email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserDocService.cs:line 77
2025-06-15 12:33:09.022 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-15 12:33:09.022 +05:30 [DBG] No information found on request to perform content negotiation.
2025-06-15 12:33:09.022 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-15 12:33:09.022 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-15 12:33:09.022 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-15 12:33:09.022 +05:30 [INF] Executing ObjectResult, writing value of type 'DSS.Models.DTOs.ErrorObjectDto'.
2025-06-15 12:33:09.023 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 10.677ms
2025-06-15 12:33:09.023 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:09.023 +05:30 [DBG] Connection id "0HNDBR9H6NJ3C" completed keep alive response.
2025-06-15 12:33:09.023 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 12:33:09.023 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:09.023 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:09.023 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=arun@gmail.com - 404 null application/json; charset=utf-8 14.1768ms
2025-06-15 12:33:09.498 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 12:33:09.498 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:33:09.498 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:33:09.498 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:33:09.499 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:09.499 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:33:09.499 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:33:09.499 +05:30 [DBG] Authorization was successful.
2025-06-15 12:33:09.499 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:09.499 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 12:33:09.499 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 12:33:09.499 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 12:33:09.499 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 12:33:09.500 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 12:33:09.500 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 12:33:09.500 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:33:09.500 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:33:09.500 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 12:33:09.500 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 12:33:09.500 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:33:09.500 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:33:09.500 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 12:33:09.500 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 12:33:09.500 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:33:09.501 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 12:33:09.501 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:09.501 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:09.501 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:33:09.501 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:09.501 +05:30 [INF] Fetching user by email: arun@gmail.com
2025-06-15 12:33:09.501 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 12:33:09.502 +05:30 [DBG] Creating DbConnection.
2025-06-15 12:33:09.502 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 12:33:09.502 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:09.502 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:09.502 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:09.502 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:09.502 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:09.502 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:33:09.503 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:33:09.503 +05:30 [DBG] Connection id "0HNDBR9H6NJ3C" received FIN.
2025-06-15 12:33:09.503 +05:30 [DBG] Connection id "0HNDBR9H6NJ3C" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 12:33:09.503 +05:30 [DBG] Connection id "0HNDBR9H6NJ3C" disconnecting.
2025-06-15 12:33:09.503 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:09.504 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:09.504 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:09.504 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-15 12:33:09.505 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:09.505 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:09.557 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 12:33:09.557 +05:30 [INF] User found for email: arun@gmail.com
2025-06-15 12:33:09.557 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:09.558 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:09.558 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:09.558 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:09.559 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:09.559 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:33:09.560 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:33:09.561 +05:30 [DBG] Context 'DssContext' started tracking 'UserDocument' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:09.561 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:09.562 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:09.562 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:09.562 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:09.562 +05:30 [INF] Fetched all documents Count: 1
2025-06-15 12:33:09.562 +05:30 [WRN] Document Movie_rental_Tables.txt not found for uploader arun@gmail.com
2025-06-15 12:33:09.562 +05:30 [ERR] Error fetching document Movie_rental_Tables.txt for uploader arun@gmail.com
System.Collections.Generic.KeyNotFoundException: Document not found
   at DSS.Services.UserDocService.GetByFileName(String filename, String email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserDocService.cs:line 77
2025-06-15 12:33:09.576 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-15 12:33:09.576 +05:30 [DBG] No information found on request to perform content negotiation.
2025-06-15 12:33:09.576 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-15 12:33:09.576 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-15 12:33:09.576 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-15 12:33:09.577 +05:30 [INF] Executing ObjectResult, writing value of type 'DSS.Models.DTOs.ErrorObjectDto'.
2025-06-15 12:33:09.577 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 77.4966ms
2025-06-15 12:33:09.577 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:09.578 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 12:33:09.578 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:09.578 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:09.578 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=arun@gmail.com - 499 null application/json; charset=utf-8 80.0579ms
2025-06-15 12:33:09.579 +05:30 [DBG] Connection id "0HNDBR9H6NJ3C" stopped.
2025-06-15 12:33:09.983 +05:30 [DBG] Connection id "0HNDBR9H6NJ3D" accepted.
2025-06-15 12:33:09.983 +05:30 [DBG] Connection id "0HNDBR9H6NJ3D" received FIN.
2025-06-15 12:33:09.983 +05:30 [DBG] Connection id "0HNDBR9H6NJ3D" started.
2025-06-15 12:33:09.983 +05:30 [DBG] Connection id "0HNDBR9H6NJ3E" accepted.
2025-06-15 12:33:09.983 +05:30 [DBG] Connection id "0HNDBR9H6NJ3D" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 12:33:09.983 +05:30 [DBG] Connection id "0HNDBR9H6NJ3E" started.
2025-06-15 12:33:09.983 +05:30 [DBG] Connection id "0HNDBR9H6NJ3D" disconnecting.
2025-06-15 12:33:09.984 +05:30 [DBG] Connection id "0HNDBR9H6NJ3D" stopped.
2025-06-15 12:33:09.984 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 12:33:09.984 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:33:09.984 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:33:09.984 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:33:09.984 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:09.985 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:33:09.985 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:33:09.985 +05:30 [DBG] Authorization was successful.
2025-06-15 12:33:09.985 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:09.985 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 12:33:09.985 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 12:33:09.985 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 12:33:09.985 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 12:33:09.985 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 12:33:09.985 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 12:33:09.985 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:33:09.986 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:33:09.986 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 12:33:09.986 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 12:33:09.986 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:33:09.986 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:33:09.986 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 12:33:09.986 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 12:33:09.986 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:33:09.986 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 12:33:09.987 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:09.987 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:09.987 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:33:09.987 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:09.987 +05:30 [INF] Fetching user by email: arun@gmail.com
2025-06-15 12:33:09.987 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 12:33:09.987 +05:30 [DBG] Creating DbConnection.
2025-06-15 12:33:09.987 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 12:33:09.987 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:09.988 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:09.988 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:09.988 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:09.988 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:09.988 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:33:10.000 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:33:10.000 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:10.001 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:10.001 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:10.001 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:10.001 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:10.001 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:10.001 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 12:33:10.001 +05:30 [INF] User found for email: arun@gmail.com
2025-06-15 12:33:10.001 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:10.001 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:10.001 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:10.001 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:10.001 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:10.002 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:33:10.002 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:33:10.002 +05:30 [DBG] Context 'DssContext' started tracking 'UserDocument' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:10.002 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:10.002 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:10.003 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:10.003 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:10.003 +05:30 [INF] Fetched all documents Count: 1
2025-06-15 12:33:10.003 +05:30 [WRN] Document Movie_rental_Tables.txt not found for uploader arun@gmail.com
2025-06-15 12:33:10.003 +05:30 [ERR] Error fetching document Movie_rental_Tables.txt for uploader arun@gmail.com
System.Collections.Generic.KeyNotFoundException: Document not found
   at DSS.Services.UserDocService.GetByFileName(String filename, String email) in /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System/Services/UserDocService.cs:line 77
2025-06-15 12:33:10.004 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-15 12:33:10.004 +05:30 [DBG] No information found on request to perform content negotiation.
2025-06-15 12:33:10.004 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-15 12:33:10.004 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-15 12:33:10.004 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-15 12:33:10.004 +05:30 [INF] Executing ObjectResult, writing value of type 'DSS.Models.DTOs.ErrorObjectDto'.
2025-06-15 12:33:10.004 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 19.0907ms
2025-06-15 12:33:10.005 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:10.005 +05:30 [DBG] Connection id "0HNDBR9H6NJ3E" completed keep alive response.
2025-06-15 12:33:10.005 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 12:33:10.005 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:10.005 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:10.006 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Movie_rental_Tables.txt&UploaderEmail=arun@gmail.com - 404 null application/json; charset=utf-8 22.1231ms
2025-06-15 12:33:18.912 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 12:33:18.912 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:33:18.912 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:33:18.912 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:33:18.912 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:18.912 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:33:18.912 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:33:18.912 +05:30 [DBG] Authorization was successful.
2025-06-15 12:33:18.913 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:18.913 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 12:33:18.913 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 12:33:18.913 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 12:33:18.913 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 12:33:18.913 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 12:33:18.913 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 12:33:18.913 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:33:18.913 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:33:18.914 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 12:33:18.914 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 12:33:18.914 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:33:18.914 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:33:18.914 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 12:33:18.914 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 12:33:18.914 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:33:18.914 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 12:33:18.914 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:18.915 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:18.915 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:33:18.915 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:18.915 +05:30 [INF] Fetching user by email: arun@gmail.com
2025-06-15 12:33:18.916 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 12:33:18.916 +05:30 [DBG] Creating DbConnection.
2025-06-15 12:33:18.916 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 12:33:18.916 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:18.916 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:18.916 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:18.916 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:18.916 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:18.917 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:33:18.920 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:33:18.920 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:18.920 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:18.920 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:18.921 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:18.921 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:18.921 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:18.921 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 12:33:18.921 +05:30 [INF] User found for email: arun@gmail.com
2025-06-15 12:33:18.921 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:18.922 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:18.922 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:18.922 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:18.922 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:18.922 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:33:18.923 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:33:18.923 +05:30 [DBG] Context 'DssContext' started tracking 'UserDocument' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:18.923 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:18.923 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:18.923 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:18.923 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:18.923 +05:30 [INF] Fetched all documents Count: 1
2025-06-15 12:33:18.923 +05:30 [INF] Document Coding.txt fetched for uploader arun@gmail.com
2025-06-15 12:33:18.926 +05:30 [DBG] Compiling query expression: 
'DbSet<DocumentShare>()'
2025-06-15 12:33:18.930 +05:30 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<DocumentShare>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: DocumentShare.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: DocumentShare.DocumentId (Guid) Required FK Index, 1], [Property: DocumentShare.IsRevoked (bool) Required, 2], [Property: DocumentShare.SharedWithUserId (Guid) Required FK Index, 3] }
        SELECT d.Id, d.DocumentId, d.IsRevoked, d.SharedWithUserId
        FROM DocumentShares AS d) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: DocumentShare.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: DocumentShare.DocumentId (Guid) Required FK Index, 1], [Property: DocumentShare.IsRevoked (bool) Required, 2], [Property: DocumentShare.SharedWithUserId (Guid) Required FK Index, 3] }
        SELECT d.Id, d.DocumentId, d.IsRevoked, d.SharedWithUserId
        FROM DocumentShares AS d, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        DocumentShare entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            DocumentShare instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(DocumentShare);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: DocumentShare.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("DSS.Models.DocumentShare").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (DocumentShare)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: DocumentShare | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("DSS.Models.DocumentShare")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: DocumentShare | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("DSS.Models.DocumentShare")]: 
                        {
                            return 
                            {
                                DocumentShare instance;
                                instance = new DocumentShare();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<DocumentId>k__BackingField = dataReader.GetGuid(1);
                                instance.<IsRevoked>k__BackingField = dataReader.GetBoolean(2);
                                instance.<SharedWithUserId>k__BackingField = dataReader.GetGuid(3);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: DocumentShare | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("DSS.Models.DocumentShare")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(DocumentShare)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: DSS.Contexts.DssContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-06-15 12:33:18.932 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:18.932 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:18.933 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:18.933 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:18.933 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:18.934 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 12:33:18.952 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 12:33:18.954 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentShare' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:18.958 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:18.958 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 6ms reading results.
2025-06-15 12:33:18.958 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:18.958 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:18.959 +05:30 [INF] Fetched all document shares Count: 1
2025-06-15 12:33:18.965 +05:30 [DBG] 'DssContext' generated a value for the property 'DocumentView.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:18.973 +05:30 [DBG] The navigation 'DocumentView.Document' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:18.974 +05:30 [DBG] The navigation 'DocumentView.ViewedBy' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:18.976 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentView' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:18.976 +05:30 [DBG] SaveChanges starting for 'DssContext'.
2025-06-15 12:33:18.976 +05:30 [DBG] DetectChanges starting for 'DssContext'.
2025-06-15 12:33:18.985 +05:30 [DBG] DetectChanges completed for 'DssContext'.
2025-06-15 12:33:18.988 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:18.988 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:18.988 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:18.989 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:18.989 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:18.989 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 12:33:19.003 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 12:33:19.003 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:19.003 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:19.004 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:19.004 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:19.005 +05:30 [DBG] An entity of type 'DocumentView' tracked by 'DssContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:19.005 +05:30 [DBG] SaveChanges completed for 'DssContext' with 1 entities written to the database.
2025-06-15 12:33:19.018 +05:30 [DBG] Compiling query expression: 
'DbSet<UserDocument>()
    .SingleOrDefault(u => u.Id == __key_0)'
2025-06-15 12:33:19.079 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserDocument>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserDocument>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserDocument.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserDocument.ContentType (string) Required, 1], [Property: UserDocument.FileData (byte[]), 2], [Property: UserDocument.FileName (string) Required, 3], [Property: UserDocument.IsDeleted (bool) Required, 4], [Property: UserDocument.UploadedAt (DateTime) Required, 5], [Property: UserDocument.UploadedById (Guid) Required FK Index, 6] }
            SELECT TOP(2) u.Id, u.ContentType, u.FileData, u.FileName, u.IsDeleted, u.UploadedAt, u.UploadedById
            FROM UserDocuments AS u
            WHERE u.Id == @__key_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserDocument.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserDocument.ContentType (string) Required, 1], [Property: UserDocument.FileData (byte[]), 2], [Property: UserDocument.FileName (string) Required, 3], [Property: UserDocument.IsDeleted (bool) Required, 4], [Property: UserDocument.UploadedAt (DateTime) Required, 5], [Property: UserDocument.UploadedById (Guid) Required FK Index, 6] }
            SELECT TOP(2) u.Id, u.ContentType, u.FileData, u.FileName, u.IsDeleted, u.UploadedAt, u.UploadedById
            FROM UserDocuments AS u
            WHERE u.Id == @__key_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            UserDocument entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UserDocument instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UserDocument);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: UserDocument.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("DSS.Models.UserDocument").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (UserDocument)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UserDocument | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("DSS.Models.UserDocument")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UserDocument | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("DSS.Models.UserDocument")]: 
                            {
                                return 
                                {
                                    UserDocument instance;
                                    instance = new UserDocument();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ContentType>k__BackingField = dataReader.GetString(1);
                                    instance.<FileData>k__BackingField = dataReader.IsDBNull(2) ? default(byte[]) : dataReader.GetFieldValue<byte[]>(2);
                                    instance.<FileName>k__BackingField = dataReader.GetString(3);
                                    instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(4);
                                    instance.<UploadedAt>k__BackingField = dataReader.GetDateTime(5);
                                    instance.<UploadedById>k__BackingField = dataReader.GetGuid(6);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: UserDocument | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("DSS.Models.UserDocument")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UserDocument)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: DSS.Contexts.DssContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-15 12:33:19.090 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:19.090 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:19.090 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:19.090 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:19.091 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:19.091 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:19.100 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:19.101 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:19.101 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:19.101 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:19.101 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:19.101 +05:30 [INF] Fetched document with ID: "0197686f-6512-767c-8e7d-c893fdb41259"
2025-06-15 12:33:19.102 +05:30 [INF] Fetching user by ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 12:33:19.104 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Id == __key_0)'
2025-06-15 12:33:19.109 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string) Required, 1], [Property: User.PasswordHash (string) Required, 2], [Property: User.RegisteredAt (DateTime) Required, 3], [Property: User.Role (string) Required, 4], [Property: User.UpdatedAt (DateTime) Required, 5], [Property: User.Username (string) Required, 6] }
            SELECT TOP(2) u.Id, u.Email, u.PasswordHash, u.RegisteredAt, u.Role, u.UpdatedAt, u.Username
            FROM Users AS u
            WHERE u.Id == @__key_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string) Required, 1], [Property: User.PasswordHash (string) Required, 2], [Property: User.RegisteredAt (DateTime) Required, 3], [Property: User.Role (string) Required, 4], [Property: User.UpdatedAt (DateTime) Required, 5], [Property: User.Username (string) Required, 6] }
            SELECT TOP(2) u.Id, u.Email, u.PasswordHash, u.RegisteredAt, u.Role, u.UpdatedAt, u.Username
            FROM Users AS u
            WHERE u.Id == @__key_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("DSS.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("DSS.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("DSS.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<Email>k__BackingField = dataReader.GetString(1);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(2);
                                    instance.<RegisteredAt>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<Role>k__BackingField = dataReader.GetString(4);
                                    instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(5);
                                    instance.<Username>k__BackingField = dataReader.GetString(6);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("DSS.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: DSS.Contexts.DssContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-15 12:33:19.111 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:19.111 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:19.111 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:19.111 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:19.111 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:19.111 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:19.112 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:19.112 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:19.112 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:19.113 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:19.113 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:19.113 +05:30 [INF] Fetched user with ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 12:33:19.113 +05:30 [INF] Fetching user by ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 12:33:19.115 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:19.116 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:19.116 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:19.116 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:19.116 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:19.116 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:19.117 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:19.117 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:19.117 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:19.117 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:19.117 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:19.117 +05:30 [INF] Fetched user with ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 12:33:19.117 +05:30 [INF] Sending notification to group: arun@gmail.com
2025-06-15 12:33:19.119 +05:30 [INF] Executing FileContentResult, sending file with download name 'Coding.txt' ...
2025-06-15 12:33:19.126 +05:30 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2025-06-15 12:33:19.129 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 215.599ms
2025-06-15 12:33:19.129 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:19.129 +05:30 [DBG] Connection id "0HNDBR9H6NJ3E" completed keep alive response.
2025-06-15 12:33:19.129 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 12:33:19.129 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:19.129 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:19.129 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - 200 5164 text/plain 217.6583ms
2025-06-15 12:33:20.450 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 12:33:20.450 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:33:20.450 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:33:20.450 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:33:20.450 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:20.451 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:33:20.451 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:33:20.451 +05:30 [DBG] Authorization was successful.
2025-06-15 12:33:20.451 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:20.451 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 12:33:20.451 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 12:33:20.451 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 12:33:20.451 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 12:33:20.451 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 12:33:20.452 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 12:33:20.452 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:33:20.452 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:33:20.452 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 12:33:20.452 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 12:33:20.453 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:33:20.453 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:33:20.453 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 12:33:20.453 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 12:33:20.453 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:33:20.453 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 12:33:20.453 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:20.453 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:20.453 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:33:20.453 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:20.453 +05:30 [INF] Fetching user by email: arun@gmail.com
2025-06-15 12:33:20.454 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 12:33:20.454 +05:30 [DBG] Creating DbConnection.
2025-06-15 12:33:20.454 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 12:33:20.454 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:20.454 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:20.454 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:20.454 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:20.455 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:20.455 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:33:20.456 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:33:20.456 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:20.456 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:20.456 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:20.457 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:20.457 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:20.457 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:20.457 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 12:33:20.457 +05:30 [INF] User found for email: arun@gmail.com
2025-06-15 12:33:20.457 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:20.457 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:20.458 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:20.458 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:20.458 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:20.458 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:33:20.459 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:33:20.459 +05:30 [DBG] Context 'DssContext' started tracking 'UserDocument' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:20.459 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:20.459 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:20.459 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:20.459 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:20.460 +05:30 [INF] Fetched all documents Count: 1
2025-06-15 12:33:20.460 +05:30 [INF] Document Coding.txt fetched for uploader arun@gmail.com
2025-06-15 12:33:20.461 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:20.461 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:20.462 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:20.462 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:20.462 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:20.462 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 12:33:20.463 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 12:33:20.463 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentShare' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:20.463 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:20.463 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:20.463 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:20.463 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:20.464 +05:30 [INF] Fetched all document shares Count: 1
2025-06-15 12:33:20.464 +05:30 [DBG] 'DssContext' generated a value for the property 'DocumentView.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:20.465 +05:30 [DBG] The navigation 'DocumentView.Document' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:20.465 +05:30 [DBG] The navigation 'DocumentView.ViewedBy' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:20.465 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentView' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:20.465 +05:30 [DBG] SaveChanges starting for 'DssContext'.
2025-06-15 12:33:20.465 +05:30 [DBG] DetectChanges starting for 'DssContext'.
2025-06-15 12:33:20.465 +05:30 [DBG] DetectChanges completed for 'DssContext'.
2025-06-15 12:33:20.465 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:20.466 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:20.466 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:20.466 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:20.466 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:20.466 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 12:33:20.467 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 12:33:20.467 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:20.467 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:20.467 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:20.467 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:20.468 +05:30 [DBG] An entity of type 'DocumentView' tracked by 'DssContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:20.468 +05:30 [DBG] SaveChanges completed for 'DssContext' with 1 entities written to the database.
2025-06-15 12:33:20.468 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:20.468 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:20.468 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:20.468 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:20.469 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:20.469 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:20.469 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:20.469 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:20.470 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:20.470 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:20.470 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:20.470 +05:30 [INF] Fetched document with ID: "0197686f-6512-767c-8e7d-c893fdb41259"
2025-06-15 12:33:20.470 +05:30 [INF] Fetching user by ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 12:33:20.470 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:20.471 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:20.471 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:20.471 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:20.471 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:20.471 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:20.472 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:20.472 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:20.472 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:20.473 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:20.473 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:20.473 +05:30 [INF] Fetched user with ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 12:33:20.473 +05:30 [INF] Fetching user by ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 12:33:20.473 +05:30 [DBG] Connection id "0HNDBR9H6NJ3E" received FIN.
2025-06-15 12:33:20.473 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:20.474 +05:30 [DBG] Connection id "0HNDBR9H6NJ3E" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 12:33:20.474 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:20.474 +05:30 [DBG] Connection id "0HNDBR9H6NJ3E" disconnecting.
2025-06-15 12:33:20.474 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:20.474 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:20.474 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:20.474 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:20.476 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:20.477 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:20.477 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:20.477 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:20.477 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:20.477 +05:30 [INF] Fetched user with ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 12:33:20.477 +05:30 [INF] Sending notification to group: arun@gmail.com
2025-06-15 12:33:20.478 +05:30 [INF] Executing FileContentResult, sending file with download name 'Coding.txt' ...
2025-06-15 12:33:20.478 +05:30 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2025-06-15 12:33:20.480 +05:30 [INF] Connection id "0HNDBR9H6NJ3E", Request id "0HNDBR9H6NJ3E:00000003": the application aborted the connection.
2025-06-15 12:33:20.481 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 29.4234ms
2025-06-15 12:33:20.481 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:20.481 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 12:33:20.482 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:20.482 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:20.482 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - 499 5164 text/plain 31.926ms
2025-06-15 12:33:20.482 +05:30 [DBG] Connection id "0HNDBR9H6NJ3E" stopped.
2025-06-15 12:33:21.748 +05:30 [DBG] Connection id "0HNDBR9H6NJ3F" accepted.
2025-06-15 12:33:21.748 +05:30 [DBG] Connection id "0HNDBR9H6NJ3F" received FIN.
2025-06-15 12:33:21.749 +05:30 [DBG] Connection id "0HNDBR9H6NJ3F" started.
2025-06-15 12:33:21.749 +05:30 [DBG] Connection id "0HNDBR9H6NJ3G" accepted.
2025-06-15 12:33:21.749 +05:30 [DBG] Connection id "0HNDBR9H6NJ3F" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 12:33:21.749 +05:30 [DBG] Connection id "0HNDBR9H6NJ3G" started.
2025-06-15 12:33:21.749 +05:30 [DBG] Connection id "0HNDBR9H6NJ3F" disconnecting.
2025-06-15 12:33:21.749 +05:30 [DBG] Connection id "0HNDBR9H6NJ3F" stopped.
2025-06-15 12:33:21.749 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 12:33:21.749 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:33:21.749 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:33:21.749 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:33:21.749 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:21.750 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:33:21.750 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:33:21.750 +05:30 [DBG] Authorization was successful.
2025-06-15 12:33:21.750 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:21.750 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 12:33:21.750 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 12:33:21.750 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 12:33:21.750 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 12:33:21.750 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 12:33:21.751 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 12:33:21.751 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:33:21.751 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:33:21.751 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 12:33:21.751 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 12:33:21.751 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:33:21.751 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:33:21.751 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 12:33:21.751 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 12:33:21.751 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:33:21.752 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 12:33:21.752 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:21.752 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:21.752 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:33:21.752 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:21.752 +05:30 [INF] Fetching user by email: arun@gmail.com
2025-06-15 12:33:21.752 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 12:33:21.753 +05:30 [DBG] Creating DbConnection.
2025-06-15 12:33:21.753 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 12:33:21.753 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:21.753 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:21.753 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:21.753 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:21.753 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:21.753 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:33:21.754 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:33:21.755 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:21.755 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:21.755 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:21.756 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:21.756 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:21.756 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:21.756 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 12:33:21.756 +05:30 [INF] User found for email: arun@gmail.com
2025-06-15 12:33:21.757 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:21.757 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:21.757 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:21.757 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:21.757 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:21.757 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:33:21.758 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:33:21.758 +05:30 [DBG] Context 'DssContext' started tracking 'UserDocument' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:21.758 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:21.758 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:21.758 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:21.759 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:21.759 +05:30 [INF] Fetched all documents Count: 1
2025-06-15 12:33:21.759 +05:30 [INF] Document Coding.txt fetched for uploader arun@gmail.com
2025-06-15 12:33:21.759 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:21.759 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:21.759 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:21.760 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:21.760 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:21.760 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 12:33:21.760 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 12:33:21.761 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentShare' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:21.761 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:21.761 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:21.761 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:21.761 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:21.761 +05:30 [INF] Fetched all document shares Count: 1
2025-06-15 12:33:21.761 +05:30 [DBG] 'DssContext' generated a value for the property 'DocumentView.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:21.761 +05:30 [DBG] The navigation 'DocumentView.Document' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:21.762 +05:30 [DBG] The navigation 'DocumentView.ViewedBy' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:21.762 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentView' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:21.762 +05:30 [DBG] SaveChanges starting for 'DssContext'.
2025-06-15 12:33:21.762 +05:30 [DBG] DetectChanges starting for 'DssContext'.
2025-06-15 12:33:21.762 +05:30 [DBG] DetectChanges completed for 'DssContext'.
2025-06-15 12:33:21.762 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:21.762 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:21.763 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:21.763 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:21.763 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:21.763 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 12:33:21.764 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 12:33:21.764 +05:30 [DBG] Connection id "0HNDBR9H6NJ3G" received FIN.
2025-06-15 12:33:21.764 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:21.765 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:21.764 +05:30 [DBG] Connection id "0HNDBR9H6NJ3G" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 12:33:21.765 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:21.765 +05:30 [DBG] Connection id "0HNDBR9H6NJ3G" disconnecting.
2025-06-15 12:33:21.765 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:21.765 +05:30 [DBG] An entity of type 'DocumentView' tracked by 'DssContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:21.766 +05:30 [DBG] SaveChanges completed for 'DssContext' with 1 entities written to the database.
2025-06-15 12:33:21.766 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:21.766 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:21.766 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:21.766 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:21.766 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:21.766 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:21.767 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:21.768 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:21.768 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:21.768 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:21.768 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:21.768 +05:30 [INF] Fetched document with ID: "0197686f-6512-767c-8e7d-c893fdb41259"
2025-06-15 12:33:21.768 +05:30 [INF] Fetching user by ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 12:33:21.768 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:21.768 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:21.768 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:21.769 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:21.769 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:21.769 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:21.769 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:21.770 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:21.770 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:21.771 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:21.771 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:21.771 +05:30 [INF] Fetched user with ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 12:33:21.771 +05:30 [INF] Fetching user by ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 12:33:21.772 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:21.772 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:21.772 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:21.772 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:21.772 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:21.773 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:21.773 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:21.773 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:21.773 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:21.774 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:21.774 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:21.774 +05:30 [INF] Fetched user with ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 12:33:21.774 +05:30 [INF] Sending notification to group: arun@gmail.com
2025-06-15 12:33:21.774 +05:30 [INF] Executing FileContentResult, sending file with download name 'Coding.txt' ...
2025-06-15 12:33:21.774 +05:30 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2025-06-15 12:33:21.774 +05:30 [INF] Connection id "0HNDBR9H6NJ3G", Request id "0HNDBR9H6NJ3G:00000001": the application aborted the connection.
2025-06-15 12:33:21.774 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 23.7818ms
2025-06-15 12:33:21.775 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:21.775 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 12:33:21.775 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:21.775 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:21.775 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - 499 5164 text/plain 26.3643ms
2025-06-15 12:33:21.776 +05:30 [DBG] Connection id "0HNDBR9H6NJ3G" stopped.
2025-06-15 12:33:23.030 +05:30 [DBG] Connection id "0HNDBR9H6NJ3H" accepted.
2025-06-15 12:33:23.030 +05:30 [DBG] Connection id "0HNDBR9H6NJ3H" received FIN.
2025-06-15 12:33:23.030 +05:30 [DBG] Connection id "0HNDBR9H6NJ3H" started.
2025-06-15 12:33:23.030 +05:30 [DBG] Connection id "0HNDBR9H6NJ3I" accepted.
2025-06-15 12:33:23.030 +05:30 [DBG] Connection id "0HNDBR9H6NJ3H" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 12:33:23.030 +05:30 [DBG] Connection id "0HNDBR9H6NJ3I" started.
2025-06-15 12:33:23.030 +05:30 [DBG] Connection id "0HNDBR9H6NJ3H" disconnecting.
2025-06-15 12:33:23.031 +05:30 [DBG] Connection id "0HNDBR9H6NJ3H" stopped.
2025-06-15 12:33:23.031 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 12:33:23.031 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:33:23.031 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:33:23.031 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:33:23.031 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:23.031 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:33:23.032 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:33:23.032 +05:30 [DBG] Authorization was successful.
2025-06-15 12:33:23.032 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:23.032 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 12:33:23.032 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 12:33:23.032 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 12:33:23.032 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 12:33:23.032 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 12:33:23.032 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 12:33:23.032 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:33:23.033 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:33:23.033 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 12:33:23.033 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 12:33:23.033 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:33:23.033 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:33:23.033 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 12:33:23.033 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 12:33:23.033 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:33:23.033 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 12:33:23.033 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:23.033 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:23.034 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:33:23.034 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:23.034 +05:30 [INF] Fetching user by email: arun@gmail.com
2025-06-15 12:33:23.034 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 12:33:23.034 +05:30 [DBG] Creating DbConnection.
2025-06-15 12:33:23.034 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 12:33:23.034 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.034 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.035 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:23.035 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:23.035 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:23.035 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:33:23.050 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:33:23.050 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:23.050 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:23.051 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.051 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:23.051 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.051 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:23.051 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 12:33:23.051 +05:30 [INF] User found for email: arun@gmail.com
2025-06-15 12:33:23.051 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.051 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.051 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:23.051 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:23.051 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:23.052 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:33:23.052 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:33:23.052 +05:30 [DBG] Context 'DssContext' started tracking 'UserDocument' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:23.052 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.052 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:23.052 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.053 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:23.053 +05:30 [INF] Fetched all documents Count: 1
2025-06-15 12:33:23.053 +05:30 [INF] Document Coding.txt fetched for uploader arun@gmail.com
2025-06-15 12:33:23.053 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.053 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.053 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:23.053 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:23.053 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:23.053 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 12:33:23.054 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 12:33:23.054 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentShare' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:23.054 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.054 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:23.054 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.054 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:23.054 +05:30 [INF] Fetched all document shares Count: 1
2025-06-15 12:33:23.054 +05:30 [DBG] 'DssContext' generated a value for the property 'DocumentView.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:23.055 +05:30 [DBG] The navigation 'DocumentView.Document' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:23.055 +05:30 [DBG] The navigation 'DocumentView.ViewedBy' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:23.055 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentView' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:23.055 +05:30 [DBG] SaveChanges starting for 'DssContext'.
2025-06-15 12:33:23.055 +05:30 [DBG] DetectChanges starting for 'DssContext'.
2025-06-15 12:33:23.055 +05:30 [DBG] DetectChanges completed for 'DssContext'.
2025-06-15 12:33:23.056 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.056 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.056 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:23.056 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:23.056 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:23.056 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 12:33:23.058 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 12:33:23.058 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.058 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:23.058 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.058 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:23.059 +05:30 [DBG] An entity of type 'DocumentView' tracked by 'DssContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:23.059 +05:30 [DBG] SaveChanges completed for 'DssContext' with 1 entities written to the database.
2025-06-15 12:33:23.059 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.059 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.059 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:23.059 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:23.059 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:23.059 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:23.060 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:23.060 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.060 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:23.061 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.061 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:23.061 +05:30 [INF] Fetched document with ID: "0197686f-6512-767c-8e7d-c893fdb41259"
2025-06-15 12:33:23.061 +05:30 [INF] Fetching user by ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 12:33:23.061 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.062 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.062 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:23.062 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:23.062 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:23.063 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:23.063 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:23.064 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.064 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:23.064 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.064 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:23.064 +05:30 [INF] Fetched user with ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 12:33:23.064 +05:30 [INF] Fetching user by ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 12:33:23.065 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.065 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.065 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:23.065 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:23.065 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:23.065 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:23.066 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:23.066 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.066 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:23.066 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.066 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:23.066 +05:30 [INF] Fetched user with ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 12:33:23.066 +05:30 [INF] Sending notification to group: arun@gmail.com
2025-06-15 12:33:23.066 +05:30 [INF] Executing FileContentResult, sending file with download name 'Coding.txt' ...
2025-06-15 12:33:23.067 +05:30 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2025-06-15 12:33:23.067 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 34.4235ms
2025-06-15 12:33:23.067 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:23.067 +05:30 [DBG] Connection id "0HNDBR9H6NJ3I" completed keep alive response.
2025-06-15 12:33:23.067 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 12:33:23.067 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.067 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:23.067 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - 200 5164 text/plain 36.6548ms
2025-06-15 12:33:23.455 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 12:33:23.455 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:33:23.455 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:33:23.455 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:33:23.455 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:23.456 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:33:23.456 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:33:23.456 +05:30 [DBG] Authorization was successful.
2025-06-15 12:33:23.456 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:23.456 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 12:33:23.456 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 12:33:23.456 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 12:33:23.456 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 12:33:23.456 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 12:33:23.457 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 12:33:23.457 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:33:23.457 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:33:23.457 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 12:33:23.457 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 12:33:23.457 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:33:23.457 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:33:23.457 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 12:33:23.458 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 12:33:23.458 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:33:23.458 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 12:33:23.458 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:23.458 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:23.458 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:33:23.458 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:23.458 +05:30 [INF] Fetching user by email: arun@gmail.com
2025-06-15 12:33:23.459 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 12:33:23.459 +05:30 [DBG] Creating DbConnection.
2025-06-15 12:33:23.459 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 12:33:23.459 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.459 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.459 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:23.459 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:23.459 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:23.459 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:33:23.460 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:33:23.460 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:23.461 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:23.461 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.461 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:23.461 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.461 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:23.461 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 12:33:23.461 +05:30 [INF] User found for email: arun@gmail.com
2025-06-15 12:33:23.462 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.462 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.462 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:23.462 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:23.462 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:23.463 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:33:23.463 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:33:23.464 +05:30 [DBG] Context 'DssContext' started tracking 'UserDocument' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:23.464 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.464 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:23.464 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.464 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:23.464 +05:30 [INF] Fetched all documents Count: 1
2025-06-15 12:33:23.464 +05:30 [INF] Document Coding.txt fetched for uploader arun@gmail.com
2025-06-15 12:33:23.464 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.464 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.464 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:23.465 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:23.465 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:23.465 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 12:33:23.465 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 12:33:23.466 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentShare' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:23.466 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.466 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:23.466 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.466 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:23.467 +05:30 [INF] Fetched all document shares Count: 1
2025-06-15 12:33:23.467 +05:30 [DBG] 'DssContext' generated a value for the property 'DocumentView.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:23.468 +05:30 [DBG] The navigation 'DocumentView.Document' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:23.468 +05:30 [DBG] The navigation 'DocumentView.ViewedBy' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:23.468 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentView' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:23.468 +05:30 [DBG] SaveChanges starting for 'DssContext'.
2025-06-15 12:33:23.468 +05:30 [DBG] DetectChanges starting for 'DssContext'.
2025-06-15 12:33:23.469 +05:30 [DBG] DetectChanges completed for 'DssContext'.
2025-06-15 12:33:23.469 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.469 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.469 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:23.469 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:23.471 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-06-15 12:33:23.471 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 12:33:23.473 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 12:33:23.474 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.474 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:23.474 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.474 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:23.474 +05:30 [DBG] An entity of type 'DocumentView' tracked by 'DssContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:23.474 +05:30 [DBG] SaveChanges completed for 'DssContext' with 1 entities written to the database.
2025-06-15 12:33:23.475 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.475 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.475 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:23.475 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:23.475 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:23.477 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:23.478 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:23.479 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.479 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:23.479 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.479 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:23.479 +05:30 [INF] Fetched document with ID: "0197686f-6512-767c-8e7d-c893fdb41259"
2025-06-15 12:33:23.479 +05:30 [INF] Fetching user by ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 12:33:23.479 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.479 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.479 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:23.480 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:23.480 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:23.480 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:23.481 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:23.481 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.481 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:23.481 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.481 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:23.482 +05:30 [INF] Fetched user with ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 12:33:23.482 +05:30 [INF] Fetching user by ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 12:33:23.482 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.482 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.482 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:23.482 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:23.482 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:23.482 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:23.483 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:23.484 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.484 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:23.484 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.484 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:23.485 +05:30 [INF] Fetched user with ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 12:33:23.486 +05:30 [INF] Sending notification to group: arun@gmail.com
2025-06-15 12:33:23.486 +05:30 [INF] Executing FileContentResult, sending file with download name 'Coding.txt' ...
2025-06-15 12:33:23.486 +05:30 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2025-06-15 12:33:23.486 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 29.6545ms
2025-06-15 12:33:23.487 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:23.487 +05:30 [DBG] Connection id "0HNDBR9H6NJ3I" completed keep alive response.
2025-06-15 12:33:23.487 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 12:33:23.487 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:23.487 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:23.488 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - 200 5164 text/plain 33.0914ms
2025-06-15 12:33:24.734 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 12:33:24.734 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:33:24.734 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:33:24.734 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:33:24.734 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:24.734 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:33:24.735 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:33:24.735 +05:30 [DBG] Authorization was successful.
2025-06-15 12:33:25.287 +05:30 [DBG] Connection id "0HNDBR9H6NJ3I" received FIN.
2025-06-15 12:33:25.287 +05:30 [DBG] Connection id "0HNDBR9H6NJ3I" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 12:33:25.287 +05:30 [DBG] Connection id "0HNDBR9H6NJ3I" disconnecting.
2025-06-15 12:33:25.287 +05:30 [DBG] The request was canceled.
2025-06-15 12:33:25.288 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - 499 null null 553.9897ms
2025-06-15 12:33:25.288 +05:30 [DBG] Connection id "0HNDBR9H6NJ3I" stopped.
2025-06-15 12:33:26.841 +05:30 [DBG] Connection id "0HNDBR9H6NJ3J" accepted.
2025-06-15 12:33:26.841 +05:30 [DBG] Connection id "0HNDBR9H6NJ3J" received FIN.
2025-06-15 12:33:26.841 +05:30 [DBG] Connection id "0HNDBR9H6NJ3J" started.
2025-06-15 12:33:26.841 +05:30 [DBG] Connection id "0HNDBR9H6NJ3K" accepted.
2025-06-15 12:33:26.841 +05:30 [DBG] Connection id "0HNDBR9H6NJ3J" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 12:33:26.841 +05:30 [DBG] Connection id "0HNDBR9H6NJ3K" started.
2025-06-15 12:33:26.841 +05:30 [DBG] Connection id "0HNDBR9H6NJ3J" disconnecting.
2025-06-15 12:33:26.842 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 12:33:26.842 +05:30 [DBG] Connection id "0HNDBR9H6NJ3J" stopped.
2025-06-15 12:33:26.842 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:33:26.842 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:33:26.842 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:33:26.842 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:26.842 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:33:26.842 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:33:26.843 +05:30 [DBG] Authorization was successful.
2025-06-15 12:33:27.424 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:27.424 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 12:33:27.424 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 12:33:27.424 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 12:33:27.425 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 12:33:27.425 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 12:33:27.425 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 12:33:27.425 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:33:27.425 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:33:27.425 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 12:33:27.426 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 12:33:27.426 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:33:27.426 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:33:27.426 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 12:33:27.426 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 12:33:27.426 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:33:27.426 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 12:33:27.426 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:27.426 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:27.427 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:33:27.427 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:27.427 +05:30 [INF] Fetching user by email: arun@gmail.com
2025-06-15 12:33:27.427 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 12:33:27.427 +05:30 [DBG] Creating DbConnection.
2025-06-15 12:33:27.427 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 12:33:27.427 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.428 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.428 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:27.428 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:27.428 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:27.428 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:33:27.428 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:33:27.429 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:27.429 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:27.429 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.429 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:27.429 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.429 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:27.429 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 12:33:27.429 +05:30 [INF] User found for email: arun@gmail.com
2025-06-15 12:33:27.430 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.430 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.430 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:27.430 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:27.430 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:27.430 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:33:27.431 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:33:27.431 +05:30 [DBG] Context 'DssContext' started tracking 'UserDocument' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:27.431 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.431 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:27.431 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.431 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:27.431 +05:30 [INF] Fetched all documents Count: 1
2025-06-15 12:33:27.431 +05:30 [INF] Document Coding.txt fetched for uploader arun@gmail.com
2025-06-15 12:33:27.432 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.432 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.432 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:27.432 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:27.432 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:27.432 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 12:33:27.432 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 12:33:27.433 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentShare' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:27.433 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.433 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:27.433 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.433 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:27.433 +05:30 [INF] Fetched all document shares Count: 1
2025-06-15 12:33:27.433 +05:30 [DBG] 'DssContext' generated a value for the property 'DocumentView.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:27.435 +05:30 [DBG] The navigation 'DocumentView.Document' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:27.435 +05:30 [DBG] The navigation 'DocumentView.ViewedBy' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:27.435 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentView' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:27.435 +05:30 [DBG] SaveChanges starting for 'DssContext'.
2025-06-15 12:33:27.435 +05:30 [DBG] DetectChanges starting for 'DssContext'.
2025-06-15 12:33:27.436 +05:30 [DBG] DetectChanges completed for 'DssContext'.
2025-06-15 12:33:27.436 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.436 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.436 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:27.436 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:27.437 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:27.437 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 12:33:27.451 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 12:33:27.451 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.451 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:27.452 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.452 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:27.452 +05:30 [DBG] An entity of type 'DocumentView' tracked by 'DssContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:27.452 +05:30 [DBG] SaveChanges completed for 'DssContext' with 1 entities written to the database.
2025-06-15 12:33:27.453 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.453 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.453 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:27.453 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:27.453 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:27.453 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:27.454 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:27.454 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.454 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:27.454 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.454 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:27.455 +05:30 [INF] Fetched document with ID: "0197686f-6512-767c-8e7d-c893fdb41259"
2025-06-15 12:33:27.455 +05:30 [INF] Fetching user by ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 12:33:27.455 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.455 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.455 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:27.455 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:27.455 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:27.455 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:27.456 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:27.456 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.456 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:27.456 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.456 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:27.457 +05:30 [INF] Fetched user with ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 12:33:27.457 +05:30 [INF] Fetching user by ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 12:33:27.457 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.457 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.457 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:27.457 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:27.457 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:27.458 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:27.458 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:27.458 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.458 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:27.458 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.458 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:27.459 +05:30 [INF] Fetched user with ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 12:33:27.459 +05:30 [INF] Sending notification to group: arun@gmail.com
2025-06-15 12:33:27.459 +05:30 [INF] Executing FileContentResult, sending file with download name 'Coding.txt' ...
2025-06-15 12:33:27.459 +05:30 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2025-06-15 12:33:27.459 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 34.1037ms
2025-06-15 12:33:27.459 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:27.459 +05:30 [DBG] Connection id "0HNDBR9H6NJ3K" completed keep alive response.
2025-06-15 12:33:27.459 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 12:33:27.459 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.460 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:27.460 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - 200 5164 text/plain 617.992ms
2025-06-15 12:33:27.898 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 12:33:27.899 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:33:27.899 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:33:27.899 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:33:27.899 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:27.899 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:33:27.899 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:33:27.899 +05:30 [DBG] Authorization was successful.
2025-06-15 12:33:27.899 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:27.900 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 12:33:27.900 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 12:33:27.900 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 12:33:27.900 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 12:33:27.900 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 12:33:27.900 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 12:33:27.900 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:33:27.901 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:33:27.901 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 12:33:27.901 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 12:33:27.901 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:33:27.901 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:33:27.901 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 12:33:27.901 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 12:33:27.901 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:33:27.902 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 12:33:27.902 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:27.902 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:27.902 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:33:27.902 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:27.902 +05:30 [INF] Fetching user by email: arun@gmail.com
2025-06-15 12:33:27.902 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 12:33:27.903 +05:30 [DBG] Creating DbConnection.
2025-06-15 12:33:27.903 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 12:33:27.903 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.903 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.903 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:27.903 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:27.903 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:27.903 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:33:27.904 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:33:27.904 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:27.904 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:27.904 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.904 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:27.904 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.905 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:27.905 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 12:33:27.905 +05:30 [INF] User found for email: arun@gmail.com
2025-06-15 12:33:27.905 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.905 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.906 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:27.906 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:27.906 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:27.906 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:33:27.907 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:33:27.907 +05:30 [DBG] Context 'DssContext' started tracking 'UserDocument' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:27.907 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.907 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:27.907 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.907 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:27.908 +05:30 [INF] Fetched all documents Count: 1
2025-06-15 12:33:27.908 +05:30 [INF] Document Coding.txt fetched for uploader arun@gmail.com
2025-06-15 12:33:27.908 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.908 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.908 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:27.908 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:27.908 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:27.908 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 12:33:27.909 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 12:33:27.909 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentShare' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:27.909 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.909 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:27.910 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.910 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:27.910 +05:30 [INF] Fetched all document shares Count: 1
2025-06-15 12:33:27.910 +05:30 [DBG] 'DssContext' generated a value for the property 'DocumentView.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:27.911 +05:30 [DBG] The navigation 'DocumentView.Document' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:27.911 +05:30 [DBG] The navigation 'DocumentView.ViewedBy' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:27.911 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentView' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:27.911 +05:30 [DBG] SaveChanges starting for 'DssContext'.
2025-06-15 12:33:27.911 +05:30 [DBG] DetectChanges starting for 'DssContext'.
2025-06-15 12:33:27.911 +05:30 [DBG] DetectChanges completed for 'DssContext'.
2025-06-15 12:33:27.912 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.912 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.912 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:27.912 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:27.912 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:27.912 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 12:33:27.914 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 12:33:27.914 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.914 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:27.914 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.915 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:27.915 +05:30 [DBG] An entity of type 'DocumentView' tracked by 'DssContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:27.915 +05:30 [DBG] SaveChanges completed for 'DssContext' with 1 entities written to the database.
2025-06-15 12:33:27.915 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.915 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.915 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:27.916 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:27.916 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:27.916 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:27.916 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:27.917 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.917 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:27.917 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.918 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:27.918 +05:30 [INF] Fetched document with ID: "0197686f-6512-767c-8e7d-c893fdb41259"
2025-06-15 12:33:27.918 +05:30 [INF] Fetching user by ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 12:33:27.919 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.919 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.919 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:27.919 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:27.919 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:27.919 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:27.920 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:27.921 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.921 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:27.921 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.921 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:27.921 +05:30 [INF] Fetched user with ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 12:33:27.921 +05:30 [INF] Fetching user by ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 12:33:27.922 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.922 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.922 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:27.922 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:27.922 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:27.922 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:27.923 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:27.923 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.923 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:27.923 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.924 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:27.924 +05:30 [INF] Fetched user with ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 12:33:27.924 +05:30 [INF] Sending notification to group: arun@gmail.com
2025-06-15 12:33:27.924 +05:30 [INF] Executing FileContentResult, sending file with download name 'Coding.txt' ...
2025-06-15 12:33:27.924 +05:30 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2025-06-15 12:33:27.924 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 23.6851ms
2025-06-15 12:33:27.924 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:27.924 +05:30 [DBG] Connection id "0HNDBR9H6NJ3K" completed keep alive response.
2025-06-15 12:33:27.924 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 12:33:27.924 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:27.924 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:27.925 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - 200 5164 text/plain 26.0673ms
2025-06-15 12:33:28.814 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 12:33:28.815 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:33:28.815 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:33:28.815 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:33:28.815 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:28.815 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:33:28.815 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:33:28.815 +05:30 [DBG] Authorization was successful.
2025-06-15 12:33:28.815 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:28.816 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 12:33:28.816 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 12:33:28.816 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 12:33:28.816 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 12:33:28.816 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 12:33:28.816 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 12:33:28.816 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:33:28.816 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:33:28.816 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 12:33:28.817 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 12:33:28.817 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:33:28.817 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:33:28.817 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 12:33:28.817 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 12:33:28.817 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:33:28.817 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 12:33:28.817 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:28.817 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:28.817 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:33:28.817 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:28.817 +05:30 [INF] Fetching user by email: arun@gmail.com
2025-06-15 12:33:28.818 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 12:33:28.818 +05:30 [DBG] Creating DbConnection.
2025-06-15 12:33:28.818 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 12:33:28.818 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:28.818 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:28.818 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:28.818 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:28.818 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:28.819 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:33:28.819 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:33:28.819 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:28.820 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:28.820 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:28.820 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:28.820 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:28.820 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:28.820 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 12:33:28.821 +05:30 [INF] User found for email: arun@gmail.com
2025-06-15 12:33:28.821 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:28.821 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:28.821 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:28.821 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:28.821 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:28.821 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:33:28.822 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:33:28.822 +05:30 [DBG] Context 'DssContext' started tracking 'UserDocument' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:28.822 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:28.823 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:28.823 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:28.823 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:28.823 +05:30 [INF] Fetched all documents Count: 1
2025-06-15 12:33:28.823 +05:30 [INF] Document Coding.txt fetched for uploader arun@gmail.com
2025-06-15 12:33:28.823 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:28.823 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:28.824 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:28.824 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:28.824 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:28.824 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 12:33:28.824 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 12:33:28.824 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentShare' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:28.825 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:28.825 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:28.825 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:28.825 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:28.825 +05:30 [INF] Fetched all document shares Count: 1
2025-06-15 12:33:28.825 +05:30 [DBG] 'DssContext' generated a value for the property 'DocumentView.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:28.825 +05:30 [DBG] The navigation 'DocumentView.Document' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:28.826 +05:30 [DBG] The navigation 'DocumentView.ViewedBy' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:28.826 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentView' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:28.826 +05:30 [DBG] SaveChanges starting for 'DssContext'.
2025-06-15 12:33:28.826 +05:30 [DBG] DetectChanges starting for 'DssContext'.
2025-06-15 12:33:28.826 +05:30 [DBG] DetectChanges completed for 'DssContext'.
2025-06-15 12:33:28.827 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:28.827 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:28.827 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:28.827 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:28.827 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:28.827 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 12:33:28.828 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 12:33:28.828 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:28.828 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:28.829 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:28.829 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:28.829 +05:30 [DBG] An entity of type 'DocumentView' tracked by 'DssContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:28.829 +05:30 [DBG] SaveChanges completed for 'DssContext' with 1 entities written to the database.
2025-06-15 12:33:28.829 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:28.829 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:28.830 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:28.830 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:28.830 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:28.830 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:28.831 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:28.831 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:28.831 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:28.831 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:28.831 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:28.831 +05:30 [INF] Fetched document with ID: "0197686f-6512-767c-8e7d-c893fdb41259"
2025-06-15 12:33:28.832 +05:30 [INF] Fetching user by ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 12:33:28.832 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:28.832 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:28.832 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:28.832 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:28.832 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:28.832 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:28.833 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:28.833 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:28.833 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:28.833 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:28.833 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:28.833 +05:30 [INF] Fetched user with ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 12:33:28.833 +05:30 [INF] Fetching user by ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 12:33:28.833 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:28.834 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:28.834 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:28.834 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:28.834 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:28.834 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:28.850 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:28.850 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:28.850 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:28.851 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:28.851 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:28.851 +05:30 [INF] Fetched user with ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 12:33:28.851 +05:30 [INF] Sending notification to group: arun@gmail.com
2025-06-15 12:33:28.851 +05:30 [INF] Executing FileContentResult, sending file with download name 'Coding.txt' ...
2025-06-15 12:33:28.851 +05:30 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2025-06-15 12:33:28.852 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 35.3652ms
2025-06-15 12:33:28.852 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:28.852 +05:30 [DBG] Connection id "0HNDBR9H6NJ3K" completed keep alive response.
2025-06-15 12:33:28.852 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 12:33:28.852 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:28.853 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:28.853 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - 200 5164 text/plain 38.3184ms
2025-06-15 12:33:29.641 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 12:33:29.641 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:33:29.641 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:33:29.641 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:33:29.642 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:29.642 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:33:29.642 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:33:29.642 +05:30 [DBG] Authorization was successful.
2025-06-15 12:33:29.642 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:29.642 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 12:33:29.642 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 12:33:29.642 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 12:33:29.643 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 12:33:29.643 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 12:33:29.643 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 12:33:29.643 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:33:29.643 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:33:29.643 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 12:33:29.643 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 12:33:29.644 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:33:29.644 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:33:29.644 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 12:33:29.644 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 12:33:29.644 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:33:29.644 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 12:33:29.644 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:29.644 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:29.644 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:33:29.644 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:33:29.644 +05:30 [INF] Fetching user by email: arun@gmail.com
2025-06-15 12:33:29.645 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 12:33:29.645 +05:30 [DBG] Creating DbConnection.
2025-06-15 12:33:29.645 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 12:33:29.645 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:29.645 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:29.645 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:29.645 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:29.645 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:29.645 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:33:29.650 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:33:29.650 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:29.650 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:29.651 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:29.651 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:29.652 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:29.652 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:29.653 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 12:33:29.653 +05:30 [INF] User found for email: arun@gmail.com
2025-06-15 12:33:29.653 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:29.653 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:29.653 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:29.653 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:29.654 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:29.654 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:33:29.654 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:33:29.654 +05:30 [DBG] Context 'DssContext' started tracking 'UserDocument' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:29.655 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:29.655 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:29.655 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:29.655 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:29.655 +05:30 [INF] Fetched all documents Count: 1
2025-06-15 12:33:29.655 +05:30 [INF] Document Coding.txt fetched for uploader arun@gmail.com
2025-06-15 12:33:29.655 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:29.655 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:29.655 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:29.655 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:29.656 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:29.656 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 12:33:29.656 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 12:33:29.656 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentShare' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:29.656 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:29.656 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:29.656 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:29.657 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:29.657 +05:30 [INF] Fetched all document shares Count: 1
2025-06-15 12:33:29.657 +05:30 [DBG] 'DssContext' generated a value for the property 'DocumentView.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:29.658 +05:30 [DBG] The navigation 'DocumentView.Document' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:29.658 +05:30 [DBG] The navigation 'DocumentView.ViewedBy' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:29.658 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentView' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:29.658 +05:30 [DBG] SaveChanges starting for 'DssContext'.
2025-06-15 12:33:29.659 +05:30 [DBG] DetectChanges starting for 'DssContext'.
2025-06-15 12:33:29.659 +05:30 [DBG] DetectChanges completed for 'DssContext'.
2025-06-15 12:33:29.659 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:29.660 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:29.660 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:29.660 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:29.660 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:29.660 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 12:33:29.661 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 12:33:29.661 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:29.661 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:29.662 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:29.662 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:29.662 +05:30 [DBG] An entity of type 'DocumentView' tracked by 'DssContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:33:29.662 +05:30 [DBG] SaveChanges completed for 'DssContext' with 1 entities written to the database.
2025-06-15 12:33:29.663 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:29.663 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:29.663 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:29.663 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:29.663 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:29.663 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:29.664 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:29.664 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:29.664 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:29.664 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:29.664 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:29.664 +05:30 [INF] Fetched document with ID: "0197686f-6512-767c-8e7d-c893fdb41259"
2025-06-15 12:33:29.664 +05:30 [INF] Fetching user by ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 12:33:29.665 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:29.665 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:29.665 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:29.665 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:29.665 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:29.665 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:29.666 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:29.666 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:29.666 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:29.666 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:29.666 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:29.666 +05:30 [INF] Fetched user with ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 12:33:29.667 +05:30 [INF] Fetching user by ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 12:33:29.667 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:29.667 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:29.667 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:33:29.668 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:29.668 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:33:29.668 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:29.674 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:33:29.674 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:29.674 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:33:29.674 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:29.675 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:29.675 +05:30 [INF] Fetched user with ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 12:33:29.675 +05:30 [INF] Sending notification to group: arun@gmail.com
2025-06-15 12:33:29.675 +05:30 [INF] Executing FileContentResult, sending file with download name 'Coding.txt' ...
2025-06-15 12:33:29.675 +05:30 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2025-06-15 12:33:29.676 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 32.6059ms
2025-06-15 12:33:29.676 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:33:29.676 +05:30 [DBG] Connection id "0HNDBR9H6NJ3K" completed keep alive response.
2025-06-15 12:33:29.676 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 12:33:29.676 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:33:29.676 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:33:29.676 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - 200 5164 text/plain 35.231ms
2025-06-15 12:33:58.669 +05:30 [INF] Application is shutting down...
2025-06-15 12:33:58.670 +05:30 [DBG] Hosting stopping
2025-06-15 12:33:58.679 +05:30 [DBG] Connection id "0HNDBR9H6NJ3K" disconnecting.
2025-06-15 12:33:58.679 +05:30 [DBG] Connection id "0HNDBR9H6NJ3K" stopped.
2025-06-15 12:33:58.679 +05:30 [DBG] Connection id "0HNDBR9H6NJ3K" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 12:33:58.684 +05:30 [DBG] Hosting stopped
2025-06-15 12:34:05.677 +05:30 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2025-06-15 12:34:05.783 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-15 12:34:05.831 +05:30 [DBG] Hosting starting
2025-06-15 12:34:05.839 +05:30 [INF] User profile is available. Using '/Users/presidio/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-15 12:34:05.848 +05:30 [DBG] Reading data from file '/Users/presidio/.aspnet/DataProtection-Keys/key-032b8071-e1bc-4982-a9fc-1d6d95560aec.xml'.
2025-06-15 12:34:05.857 +05:30 [DBG] Found key {032b8071-e1bc-4982-a9fc-1d6d95560aec}.
2025-06-15 12:34:05.868 +05:30 [DBG] Considering key {032b8071-e1bc-4982-a9fc-1d6d95560aec} with expiration date 2025-08-31 17:13:50Z as default key.
2025-06-15 12:34:05.871 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-06-15 12:34:05.875 +05:30 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-06-15 12:34:05.875 +05:30 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-06-15 12:34:05.878 +05:30 [DBG] Using key {032b8071-e1bc-4982-a9fc-1d6d95560aec} as the default key.
2025-06-15 12:34:05.883 +05:30 [DBG] Key ring with default key {032b8071-e1bc-4982-a9fc-1d6d95560aec} was loaded during application startup.
2025-06-15 12:34:05.927 +05:30 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-06-15 12:34:05.929 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-15 12:34:05.943 +05:30 [INF] Now listening on: http://localhost:5015
2025-06-15 12:34:05.943 +05:30 [DBG] Loaded hosting startup assembly Document Sharing System
2025-06-15 12:34:05.943 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-15 12:34:05.943 +05:30 [INF] Hosting environment: Development
2025-06-15 12:34:05.943 +05:30 [INF] Content root path: /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System
2025-06-15 12:34:05.945 +05:30 [DBG] Hosting started
2025-06-15 12:34:09.907 +05:30 [DBG] Connection id "0HNDBRB9QRBN1" received FIN.
2025-06-15 12:34:09.911 +05:30 [DBG] Connection id "0HNDBRB9QRBN1" accepted.
2025-06-15 12:34:09.911 +05:30 [DBG] Connection id "0HNDBRB9QRBN1" started.
2025-06-15 12:34:09.914 +05:30 [DBG] Connection id "0HNDBRB9QRBN2" accepted.
2025-06-15 12:34:09.914 +05:30 [DBG] Connection id "0HNDBRB9QRBN2" started.
2025-06-15 12:34:09.920 +05:30 [DBG] Connection id "0HNDBRB9QRBN1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 12:34:09.925 +05:30 [DBG] Connection id "0HNDBRB9QRBN1" disconnecting.
2025-06-15 12:34:09.926 +05:30 [DBG] Connection id "0HNDBRB9QRBN1" stopped.
2025-06-15 12:34:09.941 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 12:34:09.964 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:34:09.984 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:34:09.987 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:34:09.988 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:34:10.076 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:34:10.077 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:34:10.082 +05:30 [DBG] Authorization was successful.
2025-06-15 12:34:10.090 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:34:10.109 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 12:34:10.110 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 12:34:10.110 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 12:34:10.110 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 12:34:10.111 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 12:34:10.111 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 12:34:10.113 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:34:10.201 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-15 12:34:10.221 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:34:10.223 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 12:34:10.225 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 12:34:10.225 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:34:10.225 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:34:10.225 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 12:34:10.229 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 12:34:10.230 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:34:10.230 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 12:34:10.230 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:34:10.230 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:34:10.230 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:34:10.231 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:34:10.234 +05:30 [INF] Fetching user by email: arun@gmail.com
2025-06-15 12:34:10.778 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 12:34:10.800 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()'
2025-06-15 12:34:10.996 +05:30 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<User>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string) Required, 1], [Property: User.PasswordHash (string) Required, 2], [Property: User.RegisteredAt (DateTime) Required, 3], [Property: User.Role (string) Required, 4], [Property: User.UpdatedAt (DateTime) Required, 5], [Property: User.Username (string) Required, 6] }
        SELECT u.Id, u.Email, u.PasswordHash, u.RegisteredAt, u.Role, u.UpdatedAt, u.Username
        FROM Users AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string) Required, 1], [Property: User.PasswordHash (string) Required, 2], [Property: User.RegisteredAt (DateTime) Required, 3], [Property: User.Role (string) Required, 4], [Property: User.UpdatedAt (DateTime) Required, 5], [Property: User.Username (string) Required, 6] }
        SELECT u.Id, u.Email, u.PasswordHash, u.RegisteredAt, u.Role, u.UpdatedAt, u.Username
        FROM Users AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            User instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(User);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("DSS.Models.User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (User)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("DSS.Models.User")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("DSS.Models.User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<Email>k__BackingField = dataReader.GetString(1);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(2);
                                instance.<RegisteredAt>k__BackingField = dataReader.GetDateTime(3);
                                instance.<Role>k__BackingField = dataReader.GetString(4);
                                instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(5);
                                instance.<Username>k__BackingField = dataReader.GetString(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("DSS.Models.User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: DSS.Contexts.DssContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-06-15 12:34:11.030 +05:30 [DBG] Creating DbConnection.
2025-06-15 12:34:11.057 +05:30 [DBG] Created DbConnection. (26ms).
2025-06-15 12:34:11.060 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:11.171 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:11.174 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:34:11.179 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-06-15 12:34:11.181 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-06-15 12:34:11.185 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:34:11.219 +05:30 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:34:11.284 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:11.307 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:11.310 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:11.318 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 95ms reading results.
2025-06-15 12:34:11.322 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:11.326 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (4ms).
2025-06-15 12:34:11.326 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 12:34:11.327 +05:30 [INF] User found for email: arun@gmail.com
2025-06-15 12:34:11.331 +05:30 [DBG] Compiling query expression: 
'DbSet<UserDocument>()'
2025-06-15 12:34:11.338 +05:30 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserDocument>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserDocument.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserDocument.ContentType (string) Required, 1], [Property: UserDocument.FileData (byte[]), 2], [Property: UserDocument.FileName (string) Required, 3], [Property: UserDocument.IsDeleted (bool) Required, 4], [Property: UserDocument.UploadedAt (DateTime) Required, 5], [Property: UserDocument.UploadedById (Guid) Required FK Index, 6] }
        SELECT u.Id, u.ContentType, u.FileData, u.FileName, u.IsDeleted, u.UploadedAt, u.UploadedById
        FROM UserDocuments AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserDocument.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserDocument.ContentType (string) Required, 1], [Property: UserDocument.FileData (byte[]), 2], [Property: UserDocument.FileName (string) Required, 3], [Property: UserDocument.IsDeleted (bool) Required, 4], [Property: UserDocument.UploadedAt (DateTime) Required, 5], [Property: UserDocument.UploadedById (Guid) Required FK Index, 6] }
        SELECT u.Id, u.ContentType, u.FileData, u.FileName, u.IsDeleted, u.UploadedAt, u.UploadedById
        FROM UserDocuments AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        UserDocument entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            UserDocument instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(UserDocument);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: UserDocument.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("DSS.Models.UserDocument").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (UserDocument)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: UserDocument | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("DSS.Models.UserDocument")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: UserDocument | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("DSS.Models.UserDocument")]: 
                        {
                            return 
                            {
                                UserDocument instance;
                                instance = new UserDocument();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<ContentType>k__BackingField = dataReader.GetString(1);
                                instance.<FileData>k__BackingField = dataReader.IsDBNull(2) ? default(byte[]) : dataReader.GetFieldValue<byte[]>(2);
                                instance.<FileName>k__BackingField = dataReader.GetString(3);
                                instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(4);
                                instance.<UploadedAt>k__BackingField = dataReader.GetDateTime(5);
                                instance.<UploadedById>k__BackingField = dataReader.GetGuid(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: UserDocument | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("DSS.Models.UserDocument")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(UserDocument)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: DSS.Contexts.DssContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-06-15 12:34:11.341 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:11.341 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:11.342 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:34:11.342 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:11.342 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:11.342 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:34:11.351 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:34:11.382 +05:30 [DBG] Context 'DssContext' started tracking 'UserDocument' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:11.394 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:11.394 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 42ms reading results.
2025-06-15 12:34:11.394 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:11.394 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:34:11.394 +05:30 [INF] Fetched all documents Count: 1
2025-06-15 12:34:11.395 +05:30 [INF] Document Coding.txt fetched for uploader arun@gmail.com
2025-06-15 12:34:11.397 +05:30 [DBG] Compiling query expression: 
'DbSet<DocumentShare>()'
2025-06-15 12:34:11.402 +05:30 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<DocumentShare>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: DocumentShare.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: DocumentShare.DocumentId (Guid) Required FK Index, 1], [Property: DocumentShare.IsRevoked (bool) Required, 2], [Property: DocumentShare.SharedWithUserId (Guid) Required FK Index, 3] }
        SELECT d.Id, d.DocumentId, d.IsRevoked, d.SharedWithUserId
        FROM DocumentShares AS d) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: DocumentShare.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: DocumentShare.DocumentId (Guid) Required FK Index, 1], [Property: DocumentShare.IsRevoked (bool) Required, 2], [Property: DocumentShare.SharedWithUserId (Guid) Required FK Index, 3] }
        SELECT d.Id, d.DocumentId, d.IsRevoked, d.SharedWithUserId
        FROM DocumentShares AS d, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        DocumentShare entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            DocumentShare instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(DocumentShare);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: DocumentShare.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("DSS.Models.DocumentShare").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (DocumentShare)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: DocumentShare | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("DSS.Models.DocumentShare")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: DocumentShare | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("DSS.Models.DocumentShare")]: 
                        {
                            return 
                            {
                                DocumentShare instance;
                                instance = new DocumentShare();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<DocumentId>k__BackingField = dataReader.GetGuid(1);
                                instance.<IsRevoked>k__BackingField = dataReader.GetBoolean(2);
                                instance.<SharedWithUserId>k__BackingField = dataReader.GetGuid(3);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: DocumentShare | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("DSS.Models.DocumentShare")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(DocumentShare)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: DSS.Contexts.DssContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-06-15 12:34:11.404 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:11.404 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:11.405 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:34:11.405 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:11.405 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:11.405 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 12:34:11.406 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 12:34:11.409 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentShare' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:11.414 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:11.414 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 7ms reading results.
2025-06-15 12:34:11.414 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:11.414 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:34:11.414 +05:30 [INF] Fetched all document shares Count: 1
2025-06-15 12:34:11.435 +05:30 [DBG] 'DssContext' generated a value for the property 'DocumentView.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:11.449 +05:30 [DBG] The navigation 'DocumentView.Document' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:11.452 +05:30 [DBG] The navigation 'DocumentView.ViewedBy' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:11.457 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentView' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:11.461 +05:30 [DBG] SaveChanges starting for 'DssContext'.
2025-06-15 12:34:11.463 +05:30 [DBG] DetectChanges starting for 'DssContext'.
2025-06-15 12:34:11.491 +05:30 [DBG] DetectChanges completed for 'DssContext'.
2025-06-15 12:34:11.548 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:11.548 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:11.549 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:34:11.549 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:11.552 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-06-15 12:34:11.555 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 12:34:11.566 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 12:34:11.568 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:11.568 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-06-15 12:34:11.569 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:11.569 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:34:11.577 +05:30 [DBG] An entity of type 'DocumentView' tracked by 'DssContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:11.579 +05:30 [DBG] SaveChanges completed for 'DssContext' with 1 entities written to the database.
2025-06-15 12:34:11.591 +05:30 [DBG] Compiling query expression: 
'DbSet<UserDocument>()
    .SingleOrDefault(u => u.Id == __key_0)'
2025-06-15 12:34:11.643 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserDocument>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserDocument>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserDocument.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserDocument.ContentType (string) Required, 1], [Property: UserDocument.FileData (byte[]), 2], [Property: UserDocument.FileName (string) Required, 3], [Property: UserDocument.IsDeleted (bool) Required, 4], [Property: UserDocument.UploadedAt (DateTime) Required, 5], [Property: UserDocument.UploadedById (Guid) Required FK Index, 6] }
            SELECT TOP(2) u.Id, u.ContentType, u.FileData, u.FileName, u.IsDeleted, u.UploadedAt, u.UploadedById
            FROM UserDocuments AS u
            WHERE u.Id == @__key_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserDocument.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserDocument.ContentType (string) Required, 1], [Property: UserDocument.FileData (byte[]), 2], [Property: UserDocument.FileName (string) Required, 3], [Property: UserDocument.IsDeleted (bool) Required, 4], [Property: UserDocument.UploadedAt (DateTime) Required, 5], [Property: UserDocument.UploadedById (Guid) Required FK Index, 6] }
            SELECT TOP(2) u.Id, u.ContentType, u.FileData, u.FileName, u.IsDeleted, u.UploadedAt, u.UploadedById
            FROM UserDocuments AS u
            WHERE u.Id == @__key_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            UserDocument entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UserDocument instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UserDocument);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: UserDocument.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("DSS.Models.UserDocument").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (UserDocument)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UserDocument | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("DSS.Models.UserDocument")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UserDocument | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("DSS.Models.UserDocument")]: 
                            {
                                return 
                                {
                                    UserDocument instance;
                                    instance = new UserDocument();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ContentType>k__BackingField = dataReader.GetString(1);
                                    instance.<FileData>k__BackingField = dataReader.IsDBNull(2) ? default(byte[]) : dataReader.GetFieldValue<byte[]>(2);
                                    instance.<FileName>k__BackingField = dataReader.GetString(3);
                                    instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(4);
                                    instance.<UploadedAt>k__BackingField = dataReader.GetDateTime(5);
                                    instance.<UploadedById>k__BackingField = dataReader.GetGuid(6);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: UserDocument | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("DSS.Models.UserDocument")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UserDocument)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: DSS.Contexts.DssContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-15 12:34:11.654 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:11.655 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:11.655 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:34:11.655 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:11.655 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:11.655 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:34:11.656 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:34:11.657 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:11.658 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:34:11.658 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:11.658 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:34:11.658 +05:30 [INF] Fetched document with ID: "0197686f-6512-767c-8e7d-c893fdb41259"
2025-06-15 12:34:11.659 +05:30 [INF] Fetching user by ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 12:34:11.660 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Id == __key_0)'
2025-06-15 12:34:11.665 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string) Required, 1], [Property: User.PasswordHash (string) Required, 2], [Property: User.RegisteredAt (DateTime) Required, 3], [Property: User.Role (string) Required, 4], [Property: User.UpdatedAt (DateTime) Required, 5], [Property: User.Username (string) Required, 6] }
            SELECT TOP(2) u.Id, u.Email, u.PasswordHash, u.RegisteredAt, u.Role, u.UpdatedAt, u.Username
            FROM Users AS u
            WHERE u.Id == @__key_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string) Required, 1], [Property: User.PasswordHash (string) Required, 2], [Property: User.RegisteredAt (DateTime) Required, 3], [Property: User.Role (string) Required, 4], [Property: User.UpdatedAt (DateTime) Required, 5], [Property: User.Username (string) Required, 6] }
            SELECT TOP(2) u.Id, u.Email, u.PasswordHash, u.RegisteredAt, u.Role, u.UpdatedAt, u.Username
            FROM Users AS u
            WHERE u.Id == @__key_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("DSS.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("DSS.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("DSS.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<Email>k__BackingField = dataReader.GetString(1);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(2);
                                    instance.<RegisteredAt>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<Role>k__BackingField = dataReader.GetString(4);
                                    instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(5);
                                    instance.<Username>k__BackingField = dataReader.GetString(6);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("DSS.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: DSS.Contexts.DssContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-15 12:34:11.667 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:11.668 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:11.668 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:34:11.668 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:11.668 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:11.668 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:34:11.669 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:34:11.669 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:11.669 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:34:11.670 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:11.670 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:34:11.670 +05:30 [INF] Fetched user with ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 12:34:11.670 +05:30 [INF] Fetching user by ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 12:34:11.674 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:11.675 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:11.675 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:34:11.675 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:11.675 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:11.676 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:34:11.677 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:34:11.677 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:11.677 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:34:11.677 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:11.678 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:34:11.678 +05:30 [INF] Fetched user with ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 12:34:11.678 +05:30 [INF] Sending notification to group: arun@gmail.com
2025-06-15 12:34:11.683 +05:30 [INF] Executing FileContentResult, sending file with download name 'Coding.txt' ...
2025-06-15 12:34:11.686 +05:30 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2025-06-15 12:34:11.694 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 1579.1564ms
2025-06-15 12:34:11.701 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:34:11.704 +05:30 [DBG] Connection id "0HNDBRB9QRBN2" completed keep alive response.
2025-06-15 12:34:11.707 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 12:34:11.711 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:11.713 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (1ms).
2025-06-15 12:34:11.714 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - 200 5164 text/plain 1775.019ms
2025-06-15 12:34:12.779 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 12:34:12.781 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:34:12.784 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:34:12.784 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:34:12.784 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:34:12.787 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:34:12.787 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:34:12.790 +05:30 [DBG] Authorization was successful.
2025-06-15 12:34:20.092 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:34:20.093 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 12:34:20.093 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 12:34:20.093 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 12:34:20.093 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 12:34:20.094 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 12:34:20.094 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 12:34:20.094 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:34:20.096 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:34:20.096 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 12:34:20.096 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 12:34:20.096 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:34:20.096 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:34:20.097 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 12:34:20.097 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 12:34:20.097 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:34:20.097 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 12:34:20.097 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:34:20.097 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:34:20.098 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:34:20.098 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:34:20.099 +05:30 [INF] Fetching user by email: arun@gmail.com
2025-06-15 12:34:20.117 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 12:34:20.117 +05:30 [DBG] Creating DbConnection.
2025-06-15 12:34:20.118 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 12:34:20.118 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:20.118 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:20.118 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:34:20.118 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:20.118 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:20.118 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:34:20.119 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:34:20.120 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:20.120 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:20.120 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:20.120 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:34:20.120 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:20.120 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:34:20.121 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 12:34:20.121 +05:30 [INF] User found for email: arun@gmail.com
2025-06-15 12:34:20.121 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:20.121 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:20.122 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:34:20.122 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:20.122 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:20.124 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:34:20.125 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:34:20.125 +05:30 [DBG] Context 'DssContext' started tracking 'UserDocument' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:20.125 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:20.126 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:34:20.126 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:20.126 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:34:20.126 +05:30 [INF] Fetched all documents Count: 1
2025-06-15 12:34:20.126 +05:30 [INF] Document Coding.txt fetched for uploader arun@gmail.com
2025-06-15 12:34:20.126 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:20.126 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:20.127 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:34:20.127 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:20.127 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:20.127 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 12:34:20.128 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 12:34:20.128 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentShare' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:20.129 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:20.129 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:34:20.129 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:20.129 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:34:20.129 +05:30 [INF] Fetched all document shares Count: 1
2025-06-15 12:34:20.130 +05:30 [DBG] 'DssContext' generated a value for the property 'DocumentView.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:20.130 +05:30 [DBG] The navigation 'DocumentView.Document' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:20.131 +05:30 [DBG] The navigation 'DocumentView.ViewedBy' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:20.131 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentView' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:20.131 +05:30 [DBG] SaveChanges starting for 'DssContext'.
2025-06-15 12:34:20.131 +05:30 [DBG] DetectChanges starting for 'DssContext'.
2025-06-15 12:34:20.132 +05:30 [DBG] DetectChanges completed for 'DssContext'.
2025-06-15 12:34:20.133 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:20.133 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:20.133 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:34:20.133 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:20.133 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:20.133 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 12:34:20.150 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 12:34:20.151 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:20.151 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:34:20.151 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:20.151 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:34:20.151 +05:30 [DBG] An entity of type 'DocumentView' tracked by 'DssContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:20.152 +05:30 [DBG] SaveChanges completed for 'DssContext' with 1 entities written to the database.
2025-06-15 12:34:20.152 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:20.152 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:20.153 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:34:20.153 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:20.153 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:20.153 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:34:20.154 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:34:20.154 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:20.154 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:34:20.155 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:20.155 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:34:20.155 +05:30 [INF] Fetched document with ID: "0197686f-6512-767c-8e7d-c893fdb41259"
2025-06-15 12:34:20.155 +05:30 [INF] Fetching user by ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 12:34:20.156 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:20.157 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:20.157 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:34:20.157 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:20.158 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:20.158 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:34:20.159 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:34:20.159 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:20.159 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:34:20.159 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:20.159 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:34:20.159 +05:30 [INF] Fetched user with ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 12:34:20.159 +05:30 [INF] Fetching user by ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 12:34:20.160 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:20.160 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:20.160 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:34:20.160 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:20.160 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:20.160 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:34:20.161 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:34:20.161 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:20.162 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:34:20.162 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:20.162 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:34:20.162 +05:30 [INF] Fetched user with ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 12:34:20.162 +05:30 [INF] Sending notification to group: arun@gmail.com
2025-06-15 12:34:20.162 +05:30 [INF] Executing FileContentResult, sending file with download name 'Coding.txt' ...
2025-06-15 12:34:20.163 +05:30 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2025-06-15 12:34:20.163 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 69.2455ms
2025-06-15 12:34:20.163 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:34:20.163 +05:30 [DBG] Connection id "0HNDBRB9QRBN2" completed keep alive response.
2025-06-15 12:34:20.164 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 12:34:20.164 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:20.164 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:34:20.164 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - 200 5164 text/plain 7385.4848ms
2025-06-15 12:34:24.533 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 12:34:24.534 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:34:24.534 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:34:24.534 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:34:24.534 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:34:24.537 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:34:24.537 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:34:24.538 +05:30 [DBG] Authorization was successful.
2025-06-15 12:34:30.191 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:34:30.191 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 12:34:30.191 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 12:34:30.192 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 12:34:30.192 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 12:34:30.192 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 12:34:30.192 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 12:34:30.192 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:34:30.197 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:34:30.197 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 12:34:30.197 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 12:34:30.197 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:34:30.197 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:34:30.198 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 12:34:30.198 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 12:34:30.198 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:34:30.198 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 12:34:30.199 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:34:30.199 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:34:30.200 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:34:30.200 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:34:30.200 +05:30 [INF] Fetching user by email: arun@gmail.com
2025-06-15 12:34:30.267 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 12:34:30.268 +05:30 [DBG] Creating DbConnection.
2025-06-15 12:34:30.269 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 12:34:30.269 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:30.269 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:30.269 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:34:30.269 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:30.269 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:30.269 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:34:30.270 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:34:30.270 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:30.271 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:30.271 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:30.271 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:34:30.271 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:30.271 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:34:30.271 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 12:34:30.271 +05:30 [INF] User found for email: arun@gmail.com
2025-06-15 12:34:30.271 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:30.271 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:30.271 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:34:30.272 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:30.272 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:30.272 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:34:30.272 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:34:30.273 +05:30 [DBG] Context 'DssContext' started tracking 'UserDocument' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:30.273 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:30.273 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:34:30.273 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:30.273 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:34:30.273 +05:30 [INF] Fetched all documents Count: 1
2025-06-15 12:34:30.273 +05:30 [INF] Document Coding.txt fetched for uploader arun@gmail.com
2025-06-15 12:34:30.273 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:30.273 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:30.274 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:34:30.274 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:30.274 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:30.274 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 12:34:30.274 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 12:34:30.274 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentShare' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:30.275 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:30.275 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:34:30.275 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:30.275 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:34:30.275 +05:30 [INF] Fetched all document shares Count: 1
2025-06-15 12:34:30.275 +05:30 [DBG] 'DssContext' generated a value for the property 'DocumentView.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:30.275 +05:30 [DBG] The navigation 'DocumentView.Document' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:30.275 +05:30 [DBG] The navigation 'DocumentView.ViewedBy' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:30.276 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentView' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:30.276 +05:30 [DBG] SaveChanges starting for 'DssContext'.
2025-06-15 12:34:30.276 +05:30 [DBG] DetectChanges starting for 'DssContext'.
2025-06-15 12:34:30.276 +05:30 [DBG] DetectChanges completed for 'DssContext'.
2025-06-15 12:34:30.276 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:30.276 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:30.277 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:34:30.277 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:30.277 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:30.277 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 12:34:30.278 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 12:34:30.278 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:30.278 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:34:30.279 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:30.279 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:34:30.279 +05:30 [DBG] An entity of type 'DocumentView' tracked by 'DssContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:30.279 +05:30 [DBG] SaveChanges completed for 'DssContext' with 1 entities written to the database.
2025-06-15 12:34:30.280 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:30.280 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:30.280 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:34:30.280 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:30.280 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:30.280 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:34:30.281 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:34:30.281 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:30.281 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:34:30.281 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:30.282 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:34:30.282 +05:30 [INF] Fetched document with ID: "0197686f-6512-767c-8e7d-c893fdb41259"
2025-06-15 12:34:30.282 +05:30 [INF] Fetching user by ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 12:34:30.282 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:30.282 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:30.282 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:34:30.282 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:30.282 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:30.283 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:34:30.300 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:34:30.300 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:30.300 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:34:30.300 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:30.300 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:34:30.300 +05:30 [INF] Fetched user with ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 12:34:30.300 +05:30 [INF] Fetching user by ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 12:34:30.301 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:30.301 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:30.301 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:34:30.301 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:30.301 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:30.302 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:34:30.303 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:34:30.303 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:30.303 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:34:30.303 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:30.304 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:34:30.304 +05:30 [INF] Fetched user with ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 12:34:30.304 +05:30 [INF] Sending notification to group: arun@gmail.com
2025-06-15 12:34:30.304 +05:30 [INF] Executing FileContentResult, sending file with download name 'Coding.txt' ...
2025-06-15 12:34:30.304 +05:30 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2025-06-15 12:34:30.305 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 112.5506ms
2025-06-15 12:34:30.305 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:34:30.305 +05:30 [DBG] Connection id "0HNDBRB9QRBN2" completed keep alive response.
2025-06-15 12:34:30.305 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 12:34:30.305 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:30.305 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:34:30.306 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - 200 5164 text/plain 5772.6809ms
2025-06-15 12:34:31.911 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 12:34:31.911 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:34:31.911 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:34:31.911 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:34:31.911 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:34:31.912 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:34:31.912 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:34:31.912 +05:30 [DBG] Authorization was successful.
2025-06-15 12:34:40.291 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:34:40.291 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 12:34:40.291 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 12:34:40.291 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 12:34:40.291 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 12:34:40.292 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 12:34:40.292 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 12:34:40.292 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:34:40.292 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:34:40.292 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 12:34:40.292 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 12:34:40.292 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:34:40.292 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:34:40.292 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 12:34:40.292 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 12:34:40.293 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:34:40.293 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 12:34:40.293 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:34:40.293 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:34:40.293 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:34:40.293 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:34:40.293 +05:30 [INF] Fetching user by email: arun@gmail.com
2025-06-15 12:34:40.293 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 12:34:40.293 +05:30 [DBG] Creating DbConnection.
2025-06-15 12:34:40.294 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 12:34:40.294 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:40.294 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:40.294 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:34:40.294 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:40.294 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:40.294 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:34:40.300 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:34:40.300 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:40.300 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:40.300 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:40.300 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:34:40.300 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:40.300 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:34:40.301 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 12:34:40.301 +05:30 [INF] User found for email: arun@gmail.com
2025-06-15 12:34:40.301 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:40.301 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:40.301 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:34:40.301 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:40.301 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:40.301 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:34:40.301 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:34:40.302 +05:30 [DBG] Context 'DssContext' started tracking 'UserDocument' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:40.302 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:40.302 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:34:40.302 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:40.302 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:34:40.302 +05:30 [INF] Fetched all documents Count: 1
2025-06-15 12:34:40.302 +05:30 [INF] Document Coding.txt fetched for uploader arun@gmail.com
2025-06-15 12:34:40.302 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:40.302 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:40.302 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:34:40.302 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:40.303 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:40.303 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 12:34:40.303 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 12:34:40.303 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentShare' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:40.303 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:40.303 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:34:40.303 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:40.303 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:34:40.304 +05:30 [INF] Fetched all document shares Count: 1
2025-06-15 12:34:40.304 +05:30 [DBG] 'DssContext' generated a value for the property 'DocumentView.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:40.304 +05:30 [DBG] The navigation 'DocumentView.Document' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:40.304 +05:30 [DBG] The navigation 'DocumentView.ViewedBy' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:40.304 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentView' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:40.304 +05:30 [DBG] SaveChanges starting for 'DssContext'.
2025-06-15 12:34:40.304 +05:30 [DBG] DetectChanges starting for 'DssContext'.
2025-06-15 12:34:40.304 +05:30 [DBG] DetectChanges completed for 'DssContext'.
2025-06-15 12:34:40.305 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:40.305 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:40.305 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:34:40.305 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:40.305 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:40.305 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 12:34:40.306 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 12:34:40.307 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:40.307 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:34:40.307 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:40.307 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:34:40.307 +05:30 [DBG] An entity of type 'DocumentView' tracked by 'DssContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:34:40.307 +05:30 [DBG] SaveChanges completed for 'DssContext' with 1 entities written to the database.
2025-06-15 12:34:40.308 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:40.308 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:40.308 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:34:40.308 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:40.308 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:40.308 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:34:40.308 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:34:40.309 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:40.309 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:34:40.309 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:40.309 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:34:40.309 +05:30 [INF] Fetched document with ID: "0197686f-6512-767c-8e7d-c893fdb41259"
2025-06-15 12:34:40.309 +05:30 [INF] Fetching user by ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 12:34:40.310 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:40.310 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:40.310 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:34:40.310 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:40.310 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:40.310 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:34:40.311 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:34:40.311 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:40.311 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:34:40.311 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:40.311 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:34:40.312 +05:30 [INF] Fetched user with ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 12:34:40.312 +05:30 [INF] Fetching user by ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 12:34:40.312 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:40.312 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:40.312 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:34:40.312 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:40.312 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:34:40.313 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:34:40.313 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:34:40.313 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:40.313 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:34:40.313 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:40.313 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:34:40.313 +05:30 [INF] Fetched user with ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 12:34:40.314 +05:30 [INF] Sending notification to group: arun@gmail.com
2025-06-15 12:34:40.314 +05:30 [INF] Executing FileContentResult, sending file with download name 'Coding.txt' ...
2025-06-15 12:34:40.314 +05:30 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2025-06-15 12:34:40.315 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 22.8215ms
2025-06-15 12:34:40.315 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:34:40.315 +05:30 [DBG] Connection id "0HNDBRB9QRBN2" completed keep alive response.
2025-06-15 12:34:40.315 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 12:34:40.316 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:34:40.316 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:34:40.316 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - 200 5164 text/plain 8405.163ms
2025-06-15 12:36:51.050 +05:30 [DBG] Connection id "0HNDBRB9QRBN2" disconnecting.
2025-06-15 12:36:51.053 +05:30 [DBG] Connection id "0HNDBRB9QRBN2" stopped.
2025-06-15 12:36:51.053 +05:30 [DBG] Connection id "0HNDBRB9QRBN2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 12:38:52.875 +05:30 [INF] Application is shutting down...
2025-06-15 12:38:52.876 +05:30 [DBG] Hosting stopping
2025-06-15 12:38:52.882 +05:30 [DBG] Hosting stopped
2025-06-15 12:42:55.725 +05:30 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2025-06-15 12:42:55.819 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-15 12:42:55.863 +05:30 [DBG] Hosting starting
2025-06-15 12:42:55.872 +05:30 [INF] User profile is available. Using '/Users/presidio/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-15 12:42:55.878 +05:30 [DBG] Reading data from file '/Users/presidio/.aspnet/DataProtection-Keys/key-032b8071-e1bc-4982-a9fc-1d6d95560aec.xml'.
2025-06-15 12:42:55.884 +05:30 [DBG] Found key {032b8071-e1bc-4982-a9fc-1d6d95560aec}.
2025-06-15 12:42:55.893 +05:30 [DBG] Considering key {032b8071-e1bc-4982-a9fc-1d6d95560aec} with expiration date 2025-08-31 17:13:50Z as default key.
2025-06-15 12:42:55.896 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-06-15 12:42:55.900 +05:30 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-06-15 12:42:55.900 +05:30 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-06-15 12:42:55.904 +05:30 [DBG] Using key {032b8071-e1bc-4982-a9fc-1d6d95560aec} as the default key.
2025-06-15 12:42:55.904 +05:30 [DBG] Key ring with default key {032b8071-e1bc-4982-a9fc-1d6d95560aec} was loaded during application startup.
2025-06-15 12:42:55.952 +05:30 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-06-15 12:42:55.954 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-15 12:42:55.968 +05:30 [INF] Now listening on: http://localhost:5015
2025-06-15 12:42:55.968 +05:30 [DBG] Loaded hosting startup assembly Document Sharing System
2025-06-15 12:42:55.968 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-15 12:42:55.969 +05:30 [INF] Hosting environment: Development
2025-06-15 12:42:55.969 +05:30 [INF] Content root path: /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System
2025-06-15 12:42:55.970 +05:30 [DBG] Hosting started
2025-06-15 12:43:03.017 +05:30 [DBG] Connection id "0HNDBRG8MVHS1" received FIN.
2025-06-15 12:43:03.023 +05:30 [DBG] Connection id "0HNDBRG8MVHS1" accepted.
2025-06-15 12:43:03.024 +05:30 [DBG] Connection id "0HNDBRG8MVHS1" started.
2025-06-15 12:43:03.026 +05:30 [DBG] Connection id "0HNDBRG8MVHS2" accepted.
2025-06-15 12:43:03.027 +05:30 [DBG] Connection id "0HNDBRG8MVHS2" started.
2025-06-15 12:43:03.037 +05:30 [DBG] Connection id "0HNDBRG8MVHS1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 12:43:03.044 +05:30 [DBG] Connection id "0HNDBRG8MVHS1" disconnecting.
2025-06-15 12:43:03.045 +05:30 [DBG] Connection id "0HNDBRG8MVHS1" stopped.
2025-06-15 12:43:03.067 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 12:43:03.092 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:43:03.119 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:43:03.122 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:43:03.124 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:43:03.214 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:43:03.215 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:43:03.219 +05:30 [DBG] Authorization was successful.
2025-06-15 12:43:03.227 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:43:03.250 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 12:43:03.252 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 12:43:03.252 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 12:43:03.252 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 12:43:03.253 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 12:43:03.253 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 12:43:03.255 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:43:03.386 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-15 12:43:03.410 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 12:43:03.414 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 12:43:03.416 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 12:43:03.416 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:43:03.417 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 12:43:03.417 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 12:43:03.421 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 12:43:03.423 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:43:03.424 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 12:43:03.424 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:43:03.424 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:43:03.424 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 12:43:03.425 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 12:43:03.429 +05:30 [INF] Fetching user by email: arun@gmail.com
2025-06-15 12:43:04.017 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 12:43:04.039 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()'
2025-06-15 12:43:04.315 +05:30 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<User>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string) Required, 1], [Property: User.PasswordHash (string) Required, 2], [Property: User.RegisteredAt (DateTime) Required, 3], [Property: User.Role (string) Required, 4], [Property: User.UpdatedAt (DateTime) Required, 5], [Property: User.Username (string) Required, 6] }
        SELECT u.Id, u.Email, u.PasswordHash, u.RegisteredAt, u.Role, u.UpdatedAt, u.Username
        FROM Users AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string) Required, 1], [Property: User.PasswordHash (string) Required, 2], [Property: User.RegisteredAt (DateTime) Required, 3], [Property: User.Role (string) Required, 4], [Property: User.UpdatedAt (DateTime) Required, 5], [Property: User.Username (string) Required, 6] }
        SELECT u.Id, u.Email, u.PasswordHash, u.RegisteredAt, u.Role, u.UpdatedAt, u.Username
        FROM Users AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            User instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(User);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("DSS.Models.User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (User)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("DSS.Models.User")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("DSS.Models.User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<Email>k__BackingField = dataReader.GetString(1);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(2);
                                instance.<RegisteredAt>k__BackingField = dataReader.GetDateTime(3);
                                instance.<Role>k__BackingField = dataReader.GetString(4);
                                instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(5);
                                instance.<Username>k__BackingField = dataReader.GetString(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("DSS.Models.User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: DSS.Contexts.DssContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-06-15 12:43:04.352 +05:30 [DBG] Creating DbConnection.
2025-06-15 12:43:04.391 +05:30 [DBG] Created DbConnection. (36ms).
2025-06-15 12:43:04.394 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:43:04.523 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:43:04.526 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:43:04.533 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-06-15 12:43:04.534 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-06-15 12:43:04.541 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:43:04.580 +05:30 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 12:43:04.652 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:43:04.674 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:43:04.678 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:43:04.686 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 101ms reading results.
2025-06-15 12:43:04.689 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:43:04.694 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (4ms).
2025-06-15 12:43:04.695 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 12:43:04.695 +05:30 [INF] User found for email: arun@gmail.com
2025-06-15 12:43:04.697 +05:30 [DBG] Compiling query expression: 
'DbSet<UserDocument>()'
2025-06-15 12:43:04.707 +05:30 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserDocument>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserDocument.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserDocument.ContentType (string) Required, 1], [Property: UserDocument.FileData (byte[]), 2], [Property: UserDocument.FileName (string) Required, 3], [Property: UserDocument.IsDeleted (bool) Required, 4], [Property: UserDocument.UploadedAt (DateTime) Required, 5], [Property: UserDocument.UploadedById (Guid) Required FK Index, 6] }
        SELECT u.Id, u.ContentType, u.FileData, u.FileName, u.IsDeleted, u.UploadedAt, u.UploadedById
        FROM UserDocuments AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserDocument.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserDocument.ContentType (string) Required, 1], [Property: UserDocument.FileData (byte[]), 2], [Property: UserDocument.FileName (string) Required, 3], [Property: UserDocument.IsDeleted (bool) Required, 4], [Property: UserDocument.UploadedAt (DateTime) Required, 5], [Property: UserDocument.UploadedById (Guid) Required FK Index, 6] }
        SELECT u.Id, u.ContentType, u.FileData, u.FileName, u.IsDeleted, u.UploadedAt, u.UploadedById
        FROM UserDocuments AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        UserDocument entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            UserDocument instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(UserDocument);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: UserDocument.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("DSS.Models.UserDocument").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (UserDocument)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: UserDocument | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("DSS.Models.UserDocument")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: UserDocument | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("DSS.Models.UserDocument")]: 
                        {
                            return 
                            {
                                UserDocument instance;
                                instance = new UserDocument();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<ContentType>k__BackingField = dataReader.GetString(1);
                                instance.<FileData>k__BackingField = dataReader.IsDBNull(2) ? default(byte[]) : dataReader.GetFieldValue<byte[]>(2);
                                instance.<FileName>k__BackingField = dataReader.GetString(3);
                                instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(4);
                                instance.<UploadedAt>k__BackingField = dataReader.GetDateTime(5);
                                instance.<UploadedById>k__BackingField = dataReader.GetGuid(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: UserDocument | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("DSS.Models.UserDocument")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(UserDocument)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: DSS.Contexts.DssContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-06-15 12:43:04.710 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:43:04.710 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:43:04.710 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:43:04.710 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:43:04.711 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:43:04.711 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:43:04.715 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 12:43:04.804 +05:30 [DBG] Context 'DssContext' started tracking 'UserDocument' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:43:04.817 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:43:04.817 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 102ms reading results.
2025-06-15 12:43:04.817 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:43:04.818 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:43:04.818 +05:30 [INF] Fetched all documents Count: 1
2025-06-15 12:43:04.819 +05:30 [INF] Document Coding.txt fetched for uploader arun@gmail.com
2025-06-15 12:43:04.821 +05:30 [DBG] Compiling query expression: 
'DbSet<DocumentShare>()'
2025-06-15 12:43:04.827 +05:30 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<DocumentShare>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: DocumentShare.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: DocumentShare.DocumentId (Guid) Required FK Index, 1], [Property: DocumentShare.IsRevoked (bool) Required, 2], [Property: DocumentShare.SharedWithUserId (Guid) Required FK Index, 3] }
        SELECT d.Id, d.DocumentId, d.IsRevoked, d.SharedWithUserId
        FROM DocumentShares AS d) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: DocumentShare.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: DocumentShare.DocumentId (Guid) Required FK Index, 1], [Property: DocumentShare.IsRevoked (bool) Required, 2], [Property: DocumentShare.SharedWithUserId (Guid) Required FK Index, 3] }
        SELECT d.Id, d.DocumentId, d.IsRevoked, d.SharedWithUserId
        FROM DocumentShares AS d, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        DocumentShare entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            DocumentShare instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(DocumentShare);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: DocumentShare.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("DSS.Models.DocumentShare").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (DocumentShare)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: DocumentShare | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("DSS.Models.DocumentShare")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: DocumentShare | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("DSS.Models.DocumentShare")]: 
                        {
                            return 
                            {
                                DocumentShare instance;
                                instance = new DocumentShare();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<DocumentId>k__BackingField = dataReader.GetGuid(1);
                                instance.<IsRevoked>k__BackingField = dataReader.GetBoolean(2);
                                instance.<SharedWithUserId>k__BackingField = dataReader.GetGuid(3);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: DocumentShare | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("DSS.Models.DocumentShare")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(DocumentShare)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: DSS.Contexts.DssContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-06-15 12:43:04.829 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:43:04.830 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:43:04.830 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:43:04.830 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:43:04.830 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:43:04.830 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 12:43:04.848 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 12:43:04.851 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentShare' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:43:04.855 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:43:04.855 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 6ms reading results.
2025-06-15 12:43:04.855 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:43:04.855 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:43:04.856 +05:30 [INF] Fetched all document shares Count: 1
2025-06-15 12:43:04.878 +05:30 [DBG] 'DssContext' generated a value for the property 'DocumentView.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:43:04.893 +05:30 [DBG] The navigation 'DocumentView.Document' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:43:04.895 +05:30 [DBG] The navigation 'DocumentView.ViewedBy' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:43:04.901 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentView' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:43:04.904 +05:30 [DBG] SaveChanges starting for 'DssContext'.
2025-06-15 12:43:04.907 +05:30 [DBG] DetectChanges starting for 'DssContext'.
2025-06-15 12:43:04.935 +05:30 [DBG] DetectChanges completed for 'DssContext'.
2025-06-15 12:43:04.995 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:43:04.995 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:43:04.997 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:43:04.997 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:43:05.001 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-06-15 12:43:05.004 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 12:43:05.016 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 12:43:05.019 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:43:05.020 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-06-15 12:43:05.020 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:43:05.020 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:43:05.029 +05:30 [DBG] An entity of type 'DocumentView' tracked by 'DssContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 12:43:05.031 +05:30 [DBG] SaveChanges completed for 'DssContext' with 1 entities written to the database.
2025-06-15 12:43:05.044 +05:30 [DBG] Compiling query expression: 
'DbSet<UserDocument>()
    .SingleOrDefault(u => u.Id == __key_0)'
2025-06-15 12:43:05.093 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserDocument>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserDocument>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserDocument.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserDocument.ContentType (string) Required, 1], [Property: UserDocument.FileData (byte[]), 2], [Property: UserDocument.FileName (string) Required, 3], [Property: UserDocument.IsDeleted (bool) Required, 4], [Property: UserDocument.UploadedAt (DateTime) Required, 5], [Property: UserDocument.UploadedById (Guid) Required FK Index, 6] }
            SELECT TOP(2) u.Id, u.ContentType, u.FileData, u.FileName, u.IsDeleted, u.UploadedAt, u.UploadedById
            FROM UserDocuments AS u
            WHERE u.Id == @__key_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserDocument.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserDocument.ContentType (string) Required, 1], [Property: UserDocument.FileData (byte[]), 2], [Property: UserDocument.FileName (string) Required, 3], [Property: UserDocument.IsDeleted (bool) Required, 4], [Property: UserDocument.UploadedAt (DateTime) Required, 5], [Property: UserDocument.UploadedById (Guid) Required FK Index, 6] }
            SELECT TOP(2) u.Id, u.ContentType, u.FileData, u.FileName, u.IsDeleted, u.UploadedAt, u.UploadedById
            FROM UserDocuments AS u
            WHERE u.Id == @__key_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            UserDocument entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UserDocument instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UserDocument);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: UserDocument.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("DSS.Models.UserDocument").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (UserDocument)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UserDocument | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("DSS.Models.UserDocument")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UserDocument | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("DSS.Models.UserDocument")]: 
                            {
                                return 
                                {
                                    UserDocument instance;
                                    instance = new UserDocument();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ContentType>k__BackingField = dataReader.GetString(1);
                                    instance.<FileData>k__BackingField = dataReader.IsDBNull(2) ? default(byte[]) : dataReader.GetFieldValue<byte[]>(2);
                                    instance.<FileName>k__BackingField = dataReader.GetString(3);
                                    instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(4);
                                    instance.<UploadedAt>k__BackingField = dataReader.GetDateTime(5);
                                    instance.<UploadedById>k__BackingField = dataReader.GetGuid(6);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: UserDocument | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("DSS.Models.UserDocument")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UserDocument)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: DSS.Contexts.DssContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-15 12:43:05.104 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:43:05.104 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:43:05.105 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:43:05.105 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:43:05.105 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:43:05.105 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:43:05.106 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:43:05.108 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:43:05.108 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:43:05.108 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:43:05.108 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:43:05.108 +05:30 [INF] Fetched document with ID: "0197686f-6512-767c-8e7d-c893fdb41259"
2025-06-15 12:43:05.109 +05:30 [INF] Fetching user by ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 12:43:05.111 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Id == __key_0)'
2025-06-15 12:43:05.116 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string) Required, 1], [Property: User.PasswordHash (string) Required, 2], [Property: User.RegisteredAt (DateTime) Required, 3], [Property: User.Role (string) Required, 4], [Property: User.UpdatedAt (DateTime) Required, 5], [Property: User.Username (string) Required, 6] }
            SELECT TOP(2) u.Id, u.Email, u.PasswordHash, u.RegisteredAt, u.Role, u.UpdatedAt, u.Username
            FROM Users AS u
            WHERE u.Id == @__key_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string) Required, 1], [Property: User.PasswordHash (string) Required, 2], [Property: User.RegisteredAt (DateTime) Required, 3], [Property: User.Role (string) Required, 4], [Property: User.UpdatedAt (DateTime) Required, 5], [Property: User.Username (string) Required, 6] }
            SELECT TOP(2) u.Id, u.Email, u.PasswordHash, u.RegisteredAt, u.Role, u.UpdatedAt, u.Username
            FROM Users AS u
            WHERE u.Id == @__key_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("DSS.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("DSS.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("DSS.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<Email>k__BackingField = dataReader.GetString(1);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(2);
                                    instance.<RegisteredAt>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<Role>k__BackingField = dataReader.GetString(4);
                                    instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(5);
                                    instance.<Username>k__BackingField = dataReader.GetString(6);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("DSS.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: DSS.Contexts.DssContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-15 12:43:05.118 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:43:05.118 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:43:05.118 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:43:05.118 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:43:05.118 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:43:05.119 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:43:05.119 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:43:05.120 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:43:05.120 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:43:05.120 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:43:05.120 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:43:05.120 +05:30 [INF] Fetched user with ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 12:43:05.120 +05:30 [INF] Fetching user by ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 12:43:05.123 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:43:05.124 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:43:05.124 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 12:43:05.124 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:43:05.125 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 12:43:05.125 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:43:05.126 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 12:43:05.126 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:43:05.126 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 12:43:05.126 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:43:05.126 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 12:43:05.127 +05:30 [INF] Fetched user with ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 12:43:05.127 +05:30 [INF] Sending notification to group: arun@gmail.com
2025-06-15 12:43:05.132 +05:30 [INF] Executing FileContentResult, sending file with download name 'Coding.txt' ...
2025-06-15 12:43:05.139 +05:30 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2025-06-15 12:43:05.149 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 1891.7716ms
2025-06-15 12:43:05.157 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:43:05.160 +05:30 [DBG] Connection id "0HNDBRG8MVHS2" completed keep alive response.
2025-06-15 12:43:05.164 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 12:43:05.169 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 12:43:05.170 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (1ms).
2025-06-15 12:43:05.171 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - 200 5164 text/plain 2107.6462ms
2025-06-15 12:43:06.195 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 12:43:06.197 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 12:43:06.199 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:43:06.200 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 12:43:06.200 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 12:43:06.202 +05:30 [DBG] Successfully validated the token.
2025-06-15 12:43:06.202 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 12:43:06.203 +05:30 [DBG] Authorization was successful.
2025-06-15 12:43:06.205 +05:30 [DBG] Rate limits exceeded, rejecting this request.
2025-06-15 12:43:06.206 +05:30 [DBG] Connection id "0HNDBRG8MVHS2" completed keep alive response.
2025-06-15 12:43:06.207 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - 429 0 null 11.9496ms
2025-06-15 12:43:47.029 +05:30 [INF] Application is shutting down...
2025-06-15 12:43:47.030 +05:30 [DBG] Hosting stopping
2025-06-15 12:43:47.038 +05:30 [DBG] Connection id "0HNDBRG8MVHS2" disconnecting.
2025-06-15 12:43:47.039 +05:30 [DBG] Connection id "0HNDBRG8MVHS2" stopped.
2025-06-15 12:43:47.039 +05:30 [DBG] Connection id "0HNDBRG8MVHS2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 12:43:47.044 +05:30 [DBG] Hosting stopped
2025-06-15 13:03:52.905 +05:30 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2025-06-15 13:03:53.042 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-15 13:03:53.105 +05:30 [DBG] Hosting starting
2025-06-15 13:03:53.115 +05:30 [INF] User profile is available. Using '/Users/presidio/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-15 13:03:53.127 +05:30 [DBG] Reading data from file '/Users/presidio/.aspnet/DataProtection-Keys/key-032b8071-e1bc-4982-a9fc-1d6d95560aec.xml'.
2025-06-15 13:03:53.139 +05:30 [DBG] Found key {032b8071-e1bc-4982-a9fc-1d6d95560aec}.
2025-06-15 13:03:53.163 +05:30 [DBG] Considering key {032b8071-e1bc-4982-a9fc-1d6d95560aec} with expiration date 2025-08-31 17:13:50Z as default key.
2025-06-15 13:03:53.171 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-06-15 13:03:53.178 +05:30 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-06-15 13:03:53.178 +05:30 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-06-15 13:03:53.184 +05:30 [DBG] Using key {032b8071-e1bc-4982-a9fc-1d6d95560aec} as the default key.
2025-06-15 13:03:53.185 +05:30 [DBG] Key ring with default key {032b8071-e1bc-4982-a9fc-1d6d95560aec} was loaded during application startup.
2025-06-15 13:03:53.302 +05:30 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-06-15 13:03:53.326 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-15 13:03:53.404 +05:30 [INF] Now listening on: http://localhost:5015
2025-06-15 13:03:53.404 +05:30 [DBG] Loaded hosting startup assembly Document Sharing System
2025-06-15 13:03:53.404 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-15 13:03:53.405 +05:30 [INF] Hosting environment: Development
2025-06-15 13:03:53.405 +05:30 [INF] Content root path: /Users/presidio/Library/CloudStorage/OneDrive-PresidioNetworkSolutions/Documents/Work/WebApi_CapstoneProject/Document Sharing System
2025-06-15 13:03:53.407 +05:30 [DBG] Hosting started
2025-06-15 13:04:18.794 +05:30 [DBG] Connection id "0HNDBRS4TNMQ7" accepted.
2025-06-15 13:04:18.795 +05:30 [DBG] Connection id "0HNDBRS4TNMQ7" started.
2025-06-15 13:04:18.836 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - null 0
2025-06-15 13:04:18.859 +05:30 [DBG] OPTIONS requests are not supported
2025-06-15 13:04:18.885 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub/negotiate'
2025-06-15 13:04:18.887 +05:30 [DBG] Request matched endpoint '/notificationhub/negotiate'
2025-06-15 13:04:18.924 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-15 13:04:18.927 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:04:18.927 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:04:18.928 +05:30 [DBG] The request is a preflight request.
2025-06-15 13:04:18.931 +05:30 [DBG] Connection id "0HNDBRS4TNMQ7" completed keep alive response.
2025-06-15 13:04:18.932 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - 204 null null 98.8775ms
2025-06-15 13:04:18.951 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - null 0
2025-06-15 13:04:18.952 +05:30 [DBG] POST requests are not supported
2025-06-15 13:04:18.953 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub/negotiate'
2025-06-15 13:04:18.953 +05:30 [DBG] Request matched endpoint '/notificationhub/negotiate'
2025-06-15 13:04:18.999 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/13/2025 8:51:22AM', Current time (UTC): '6/15/2025 7:34:18AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-15 13:04:19.011 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/13/2025 8:51:22AM', Current time (UTC): '6/15/2025 7:34:18AM'.
2025-06-15 13:04:19.011 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:04:19.012 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:04:19.027 +05:30 [INF] Executing endpoint '/notificationhub/negotiate'
2025-06-15 13:04:19.031 +05:30 [DBG] New connection DAovKsNsnj8byCDh8lZBiw created.
2025-06-15 13:04:19.035 +05:30 [DBG] Sending negotiation response.
2025-06-15 13:04:19.037 +05:30 [INF] Executed endpoint '/notificationhub/negotiate'
2025-06-15 13:04:19.038 +05:30 [DBG] Connection id "0HNDBRS4TNMQ7" completed keep alive response.
2025-06-15 13:04:19.038 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - 200 316 application/json 88.4521ms
2025-06-15 13:04:19.058 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/notificationhub?id=tkz3W8eZumHcv3K-78T4KQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIwMTk3Njg2ZS03YjFjLTcxMmYtODFmZC01ZDMzMTU4MzNhZGIiLCJlbWFpbCI6ImFydW5AZ21haWwuY29tIiwicm9sZSI6IkFkbWluIiwibmJmIjoxNzQ5ODAzNzgyLCJleHAiOjE3NDk4MDQ2ODIsImlhdCI6MTc0OTgwMzc4Mn0.MdBQfFkjAz-XGarrIa1k70FoyFHt3VmS1aKH_Vq43JQ - null null
2025-06-15 13:04:19.063 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 13:04:19.063 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub'
2025-06-15 13:04:19.063 +05:30 [DBG] Request matched endpoint '/notificationhub'
2025-06-15 13:04:19.067 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/13/2025 8:51:22AM', Current time (UTC): '6/15/2025 7:34:19AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-15 13:04:19.067 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/13/2025 8:51:22AM', Current time (UTC): '6/15/2025 7:34:19AM'.
2025-06-15 13:04:19.068 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:04:19.068 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:04:19.068 +05:30 [INF] Executing endpoint '/notificationhub'
2025-06-15 13:04:19.073 +05:30 [DBG] Establishing new connection.
2025-06-15 13:04:19.077 +05:30 [DBG] OnConnectedAsync started.
2025-06-15 13:04:19.084 +05:30 [DBG] Socket opened using Sub-Protocol: 'null'.
2025-06-15 13:04:19.093 +05:30 [DBG] Found protocol implementation for requested protocol: json.
2025-06-15 13:04:19.095 +05:30 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2025-06-15 13:05:43.088 +05:30 [DBG] Waiting for the application to finish sending data.
2025-06-15 13:05:43.094 +05:30 [DBG] Connection id "0HNDBRS4TNMQ7" received FIN.
2025-06-15 13:05:43.094 +05:30 [DBG] Socket closed.
2025-06-15 13:05:43.095 +05:30 [DBG] Connection id "0HNDBRS4TNMQ7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 13:05:43.096 +05:30 [DBG] OnConnectedAsync ending.
2025-06-15 13:05:43.103 +05:30 [DBG] Removing connection tkz3W8eZumHcv3K-78T4KQ from the list of connections.
2025-06-15 13:05:43.104 +05:30 [DBG] Connection id "0HNDBRS4TNMQ7" disconnecting.
2025-06-15 13:05:43.105 +05:30 [INF] Executed endpoint '/notificationhub'
2025-06-15 13:05:43.105 +05:30 [DBG] Connection id "0HNDBRS4TNMQ8" accepted.
2025-06-15 13:05:43.105 +05:30 [DBG] Connection id "0HNDBRS4TNMQ8" started.
2025-06-15 13:05:43.107 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - null 0
2025-06-15 13:05:43.108 +05:30 [DBG] OPTIONS requests are not supported
2025-06-15 13:05:43.110 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub/negotiate'
2025-06-15 13:05:43.110 +05:30 [DBG] Request matched endpoint '/notificationhub/negotiate'
2025-06-15 13:05:43.111 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-15 13:05:43.111 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/notificationhub?id=tkz3W8eZumHcv3K-78T4KQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIwMTk3Njg2ZS03YjFjLTcxMmYtODFmZC01ZDMzMTU4MzNhZGIiLCJlbWFpbCI6ImFydW5AZ21haWwuY29tIiwicm9sZSI6IkFkbWluIiwibmJmIjoxNzQ5ODAzNzgyLCJleHAiOjE3NDk4MDQ2ODIsImlhdCI6MTc0OTgwMzc4Mn0.MdBQfFkjAz-XGarrIa1k70FoyFHt3VmS1aKH_Vq43JQ - 101 null null 84052.2562ms
2025-06-15 13:05:43.112 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:05:43.112 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:05:43.112 +05:30 [DBG] The request is a preflight request.
2025-06-15 13:05:43.113 +05:30 [DBG] Connection id "0HNDBRS4TNMQ8" completed keep alive response.
2025-06-15 13:05:43.113 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - 204 null null 5.807ms
2025-06-15 13:05:43.115 +05:30 [DBG] Connection id "0HNDBRS4TNMQ7" stopped.
2025-06-15 13:05:43.117 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - null 0
2025-06-15 13:05:43.117 +05:30 [DBG] POST requests are not supported
2025-06-15 13:05:43.117 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub/negotiate'
2025-06-15 13:05:43.118 +05:30 [DBG] Request matched endpoint '/notificationhub/negotiate'
2025-06-15 13:05:43.118 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/13/2025 8:51:22AM', Current time (UTC): '6/15/2025 7:35:43AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-15 13:05:43.120 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/13/2025 8:51:22AM', Current time (UTC): '6/15/2025 7:35:43AM'.
2025-06-15 13:05:43.120 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:05:43.120 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:05:43.121 +05:30 [INF] Executing endpoint '/notificationhub/negotiate'
2025-06-15 13:05:43.121 +05:30 [DBG] New connection eY7Q8IfbrE3YlM9OB1ghnA created.
2025-06-15 13:05:43.122 +05:30 [DBG] Sending negotiation response.
2025-06-15 13:05:43.124 +05:30 [INF] Executed endpoint '/notificationhub/negotiate'
2025-06-15 13:05:43.124 +05:30 [DBG] Connection id "0HNDBRS4TNMQ8" completed keep alive response.
2025-06-15 13:05:43.124 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - 200 316 application/json 7.5182ms
2025-06-15 13:05:43.133 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/notificationhub?id=_CL9oinnk5w-rxeWFKzu6g&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIwMTk3Njg2ZS03YjFjLTcxMmYtODFmZC01ZDMzMTU4MzNhZGIiLCJlbWFpbCI6ImFydW5AZ21haWwuY29tIiwicm9sZSI6IkFkbWluIiwibmJmIjoxNzQ5ODAzNzgyLCJleHAiOjE3NDk4MDQ2ODIsImlhdCI6MTc0OTgwMzc4Mn0.MdBQfFkjAz-XGarrIa1k70FoyFHt3VmS1aKH_Vq43JQ - null null
2025-06-15 13:05:43.135 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 13:05:43.135 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub'
2025-06-15 13:05:43.135 +05:30 [DBG] Request matched endpoint '/notificationhub'
2025-06-15 13:05:43.136 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/13/2025 8:51:22AM', Current time (UTC): '6/15/2025 7:35:43AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-15 13:05:43.136 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/13/2025 8:51:22AM', Current time (UTC): '6/15/2025 7:35:43AM'.
2025-06-15 13:05:43.137 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:05:43.137 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:05:43.137 +05:30 [INF] Executing endpoint '/notificationhub'
2025-06-15 13:05:43.137 +05:30 [DBG] Establishing new connection.
2025-06-15 13:05:43.138 +05:30 [DBG] OnConnectedAsync started.
2025-06-15 13:05:43.138 +05:30 [DBG] Socket opened using Sub-Protocol: 'null'.
2025-06-15 13:05:43.141 +05:30 [DBG] Found protocol implementation for requested protocol: json.
2025-06-15 13:05:43.141 +05:30 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2025-06-15 13:07:08.384 +05:30 [DBG] Waiting for the application to finish sending data.
2025-06-15 13:07:08.384 +05:30 [DBG] Socket closed.
2025-06-15 13:07:08.386 +05:30 [DBG] Connection id "0HNDBRS4TNMQ8" received FIN.
2025-06-15 13:07:08.386 +05:30 [DBG] Connection id "0HNDBRS4TNMQ8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 13:07:08.386 +05:30 [DBG] OnConnectedAsync ending.
2025-06-15 13:07:08.386 +05:30 [DBG] Connection id "0HNDBRS4TNMQ8" disconnecting.
2025-06-15 13:07:08.387 +05:30 [DBG] Removing connection _CL9oinnk5w-rxeWFKzu6g from the list of connections.
2025-06-15 13:07:08.387 +05:30 [INF] Executed endpoint '/notificationhub'
2025-06-15 13:07:08.387 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/notificationhub?id=_CL9oinnk5w-rxeWFKzu6g&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIwMTk3Njg2ZS03YjFjLTcxMmYtODFmZC01ZDMzMTU4MzNhZGIiLCJlbWFpbCI6ImFydW5AZ21haWwuY29tIiwicm9sZSI6IkFkbWluIiwibmJmIjoxNzQ5ODAzNzgyLCJleHAiOjE3NDk4MDQ2ODIsImlhdCI6MTc0OTgwMzc4Mn0.MdBQfFkjAz-XGarrIa1k70FoyFHt3VmS1aKH_Vq43JQ - 101 null null 85253.2124ms
2025-06-15 13:07:08.388 +05:30 [DBG] Connection id "0HNDBRS4TNMQ8" stopped.
2025-06-15 13:07:42.637 +05:30 [DBG] Connection id "0HNDBRS4TNMQ9" accepted.
2025-06-15 13:07:42.638 +05:30 [DBG] Connection id "0HNDBRS4TNMQ9" started.
2025-06-15 13:07:42.638 +05:30 [DBG] Connection id "0HNDBRS4TNMQ9" received FIN.
2025-06-15 13:07:42.638 +05:30 [DBG] Connection id "0HNDBRS4TNMQA" accepted.
2025-06-15 13:07:42.638 +05:30 [DBG] Connection id "0HNDBRS4TNMQ9" disconnecting.
2025-06-15 13:07:42.638 +05:30 [DBG] Connection id "0HNDBRS4TNMQA" started.
2025-06-15 13:07:42.638 +05:30 [DBG] Connection id "0HNDBRS4TNMQ9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 13:07:42.638 +05:30 [DBG] Connection id "0HNDBRS4TNMQ9" stopped.
2025-06-15 13:07:42.638 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/api/v1/Auth/login - application/json 57
2025-06-15 13:07:42.639 +05:30 [DBG] POST requests are not supported
2025-06-15 13:07:42.639 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-06-15 13:07:42.642 +05:30 [DBG] Endpoint 'DSS.Controllers.AuthController.Login (Document Sharing System)' with route pattern 'api/v1/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-06-15 13:07:42.642 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.AuthController.Login (Document Sharing System)'
2025-06-15 13:07:42.642 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-15 13:07:42.642 +05:30 [INF] Executing endpoint 'DSS.Controllers.AuthController.Login (Document Sharing System)'
2025-06-15 13:07:42.662 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[DSS.Models.DTOs.AuthResponse]] Login(DSS.Models.DTOs.LoginRequestDto) on controller DSS.Controllers.AuthController (Document Sharing System).
2025-06-15 13:07:42.663 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 13:07:42.663 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 13:07:42.664 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 13:07:42.664 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 13:07:42.664 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 13:07:42.665 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.AuthController (Document Sharing System)
2025-06-15 13:07:42.770 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-15 13:07:42.791 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.AuthController (Document Sharing System)
2025-06-15 13:07:42.794 +05:30 [DBG] Attempting to bind parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto' ...
2025-06-15 13:07:42.796 +05:30 [DBG] Attempting to bind parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto' using the name '' in request data ...
2025-06-15 13:07:42.797 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-15 13:07:42.816 +05:30 [DBG] Connection id "0HNDBRS4TNMQA", Request id "0HNDBRS4TNMQA:00000001": started reading request body.
2025-06-15 13:07:42.816 +05:30 [DBG] Connection id "0HNDBRS4TNMQA", Request id "0HNDBRS4TNMQA:00000001": done reading request body.
2025-06-15 13:07:42.821 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'DSS.Models.DTOs.LoginRequestDto'
2025-06-15 13:07:42.821 +05:30 [DBG] Done attempting to bind parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto'.
2025-06-15 13:07:42.822 +05:30 [DBG] Done attempting to bind parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto'.
2025-06-15 13:07:42.822 +05:30 [DBG] Attempting to validate the bound parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto' ...
2025-06-15 13:07:42.832 +05:30 [DBG] Done attempting to validate the bound parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto'.
2025-06-15 13:07:42.837 +05:30 [INF] Fetching user by email: arun@gmail.com
2025-06-15 13:07:43.478 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 13:07:43.498 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()'
2025-06-15 13:07:43.735 +05:30 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<User>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string) Required, 1], [Property: User.PasswordHash (string) Required, 2], [Property: User.RegisteredAt (DateTime) Required, 3], [Property: User.Role (string) Required, 4], [Property: User.UpdatedAt (DateTime) Required, 5], [Property: User.Username (string) Required, 6] }
        SELECT u.Id, u.Email, u.PasswordHash, u.RegisteredAt, u.Role, u.UpdatedAt, u.Username
        FROM Users AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string) Required, 1], [Property: User.PasswordHash (string) Required, 2], [Property: User.RegisteredAt (DateTime) Required, 3], [Property: User.Role (string) Required, 4], [Property: User.UpdatedAt (DateTime) Required, 5], [Property: User.Username (string) Required, 6] }
        SELECT u.Id, u.Email, u.PasswordHash, u.RegisteredAt, u.Role, u.UpdatedAt, u.Username
        FROM Users AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            User instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(User);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("DSS.Models.User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (User)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("DSS.Models.User")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("DSS.Models.User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<Email>k__BackingField = dataReader.GetString(1);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(2);
                                instance.<RegisteredAt>k__BackingField = dataReader.GetDateTime(3);
                                instance.<Role>k__BackingField = dataReader.GetString(4);
                                instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(5);
                                instance.<Username>k__BackingField = dataReader.GetString(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("DSS.Models.User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: DSS.Contexts.DssContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-06-15 13:07:43.767 +05:30 [DBG] Creating DbConnection.
2025-06-15 13:07:43.800 +05:30 [DBG] Created DbConnection. (31ms).
2025-06-15 13:07:43.803 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:07:43.937 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:07:43.940 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:07:43.946 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-06-15 13:07:43.947 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-06-15 13:07:43.954 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 13:07:43.985 +05:30 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 13:07:44.063 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:07:44.087 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:07:44.091 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:07:44.099 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 109ms reading results.
2025-06-15 13:07:44.103 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:07:44.107 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (4ms).
2025-06-15 13:07:44.108 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 13:07:44.108 +05:30 [INF] User found for email: arun@gmail.com
2025-06-15 13:07:44.498 +05:30 [DBG] 'DssContext' generated a value for the property 'AuthSession.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:07:44.522 +05:30 [DBG] The navigation 'AuthSession.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:07:44.535 +05:30 [DBG] Context 'DssContext' started tracking 'AuthSession' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:07:44.538 +05:30 [DBG] SaveChanges starting for 'DssContext'.
2025-06-15 13:07:44.541 +05:30 [DBG] DetectChanges starting for 'DssContext'.
2025-06-15 13:07:44.561 +05:30 [DBG] DetectChanges completed for 'DssContext'.
2025-06-15 13:07:44.620 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:07:44.620 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:07:44.622 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:07:44.622 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:07:44.626 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-06-15 13:07:44.628 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuthSessions" ("Id", "CreatedAt", "ExpiresAt", "IsRevoked", "RefreshToken", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-15 13:07:44.645 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuthSessions" ("Id", "CreatedAt", "ExpiresAt", "IsRevoked", "RefreshToken", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-15 13:07:44.648 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:07:44.648 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-06-15 13:07:44.649 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:07:44.649 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:07:44.657 +05:30 [DBG] An entity of type 'AuthSession' tracked by 'DssContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:07:44.660 +05:30 [DBG] SaveChanges completed for 'DssContext' with 1 entities written to the database.
2025-06-15 13:07:44.665 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-15 13:07:44.667 +05:30 [DBG] No information found on request to perform content negotiation.
2025-06-15 13:07:44.667 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-15 13:07:44.667 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-15 13:07:44.667 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-15 13:07:44.668 +05:30 [INF] Executing OkObjectResult, writing value of type 'DSS.Models.DTOs.AuthResponse'.
2025-06-15 13:07:44.680 +05:30 [INF] Executed action DSS.Controllers.AuthController.Login (Document Sharing System) in 2012.2649ms
2025-06-15 13:07:44.680 +05:30 [INF] Executed endpoint 'DSS.Controllers.AuthController.Login (Document Sharing System)'
2025-06-15 13:07:44.680 +05:30 [DBG] Connection id "0HNDBRS4TNMQA" completed keep alive response.
2025-06-15 13:07:44.682 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 13:07:44.686 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:07:44.688 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (1ms).
2025-06-15 13:07:44.689 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5015/api/v1/Auth/login - 200 null application/json; charset=utf-8 2050.3216ms
2025-06-15 13:08:10.675 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/api/v1/Auth/login - application/json 63
2025-06-15 13:08:10.676 +05:30 [DBG] POST requests are not supported
2025-06-15 13:08:10.678 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-06-15 13:08:10.678 +05:30 [DBG] Endpoint 'DSS.Controllers.AuthController.Login (Document Sharing System)' with route pattern 'api/v1/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-06-15 13:08:10.678 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.AuthController.Login (Document Sharing System)'
2025-06-15 13:08:10.679 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-15 13:08:10.679 +05:30 [INF] Executing endpoint 'DSS.Controllers.AuthController.Login (Document Sharing System)'
2025-06-15 13:08:10.679 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[DSS.Models.DTOs.AuthResponse]] Login(DSS.Models.DTOs.LoginRequestDto) on controller DSS.Controllers.AuthController (Document Sharing System).
2025-06-15 13:08:10.679 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 13:08:10.679 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 13:08:10.680 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 13:08:10.680 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 13:08:10.680 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 13:08:10.680 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.AuthController (Document Sharing System)
2025-06-15 13:08:10.682 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.AuthController (Document Sharing System)
2025-06-15 13:08:10.682 +05:30 [DBG] Attempting to bind parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto' ...
2025-06-15 13:08:10.682 +05:30 [DBG] Attempting to bind parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto' using the name '' in request data ...
2025-06-15 13:08:10.683 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-15 13:08:10.683 +05:30 [DBG] Connection id "0HNDBRS4TNMQA", Request id "0HNDBRS4TNMQA:00000002": started reading request body.
2025-06-15 13:08:10.683 +05:30 [DBG] Connection id "0HNDBRS4TNMQA", Request id "0HNDBRS4TNMQA:00000002": done reading request body.
2025-06-15 13:08:10.683 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'DSS.Models.DTOs.LoginRequestDto'
2025-06-15 13:08:10.683 +05:30 [DBG] Done attempting to bind parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto'.
2025-06-15 13:08:10.683 +05:30 [DBG] Done attempting to bind parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto'.
2025-06-15 13:08:10.683 +05:30 [DBG] Attempting to validate the bound parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto' ...
2025-06-15 13:08:10.684 +05:30 [DBG] Done attempting to validate the bound parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto'.
2025-06-15 13:08:10.684 +05:30 [INF] Fetching user by email: nithish@gmail.com
2025-06-15 13:08:10.699 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 13:08:10.700 +05:30 [DBG] Creating DbConnection.
2025-06-15 13:08:10.700 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 13:08:10.701 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:10.701 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:10.701 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:08:10.701 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:10.701 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:10.701 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 13:08:10.702 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 13:08:10.702 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:08:10.702 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:08:10.702 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:10.703 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:08:10.703 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:10.703 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:08:10.703 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 13:08:10.703 +05:30 [INF] User found for email: nithish@gmail.com
2025-06-15 13:08:10.996 +05:30 [DBG] 'DssContext' generated a value for the property 'AuthSession.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:08:10.996 +05:30 [DBG] The navigation 'AuthSession.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:08:10.996 +05:30 [DBG] Context 'DssContext' started tracking 'AuthSession' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:08:10.997 +05:30 [DBG] SaveChanges starting for 'DssContext'.
2025-06-15 13:08:10.997 +05:30 [DBG] DetectChanges starting for 'DssContext'.
2025-06-15 13:08:10.997 +05:30 [DBG] DetectChanges completed for 'DssContext'.
2025-06-15 13:08:10.998 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:10.998 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:10.998 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:08:10.998 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:10.998 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:10.998 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuthSessions" ("Id", "CreatedAt", "ExpiresAt", "IsRevoked", "RefreshToken", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-15 13:08:10.999 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuthSessions" ("Id", "CreatedAt", "ExpiresAt", "IsRevoked", "RefreshToken", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-15 13:08:10.999 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:10.999 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:08:10.999 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:11.000 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:08:11.000 +05:30 [DBG] An entity of type 'AuthSession' tracked by 'DssContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:08:11.000 +05:30 [DBG] SaveChanges completed for 'DssContext' with 1 entities written to the database.
2025-06-15 13:08:11.000 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-15 13:08:11.001 +05:30 [DBG] No information found on request to perform content negotiation.
2025-06-15 13:08:11.001 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-15 13:08:11.001 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-15 13:08:11.001 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-15 13:08:11.001 +05:30 [INF] Executing OkObjectResult, writing value of type 'DSS.Models.DTOs.AuthResponse'.
2025-06-15 13:08:11.002 +05:30 [INF] Executed action DSS.Controllers.AuthController.Login (Document Sharing System) in 321.5376ms
2025-06-15 13:08:11.002 +05:30 [INF] Executed endpoint 'DSS.Controllers.AuthController.Login (Document Sharing System)'
2025-06-15 13:08:11.002 +05:30 [DBG] Connection id "0HNDBRS4TNMQA" completed keep alive response.
2025-06-15 13:08:11.002 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 13:08:11.002 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:11.002 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:08:11.003 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5015/api/v1/Auth/login - 200 null application/json; charset=utf-8 327.0844ms
2025-06-15 13:08:28.678 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 13:08:28.678 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 13:08:28.678 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 13:08:28.678 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 13:08:28.678 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:08:28.686 +05:30 [DBG] Successfully validated the token.
2025-06-15 13:08:28.687 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 13:08:28.692 +05:30 [DBG] Authorization was successful.
2025-06-15 13:08:28.692 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:08:28.697 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 13:08:28.698 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 13:08:28.698 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 13:08:28.698 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 13:08:28.698 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 13:08:28.698 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 13:08:28.699 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 13:08:28.702 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 13:08:28.702 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 13:08:28.703 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 13:08:28.704 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 13:08:28.704 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 13:08:28.704 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 13:08:28.704 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 13:08:28.704 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 13:08:28.705 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 13:08:28.705 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 13:08:28.705 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 13:08:28.705 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 13:08:28.705 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 13:08:28.709 +05:30 [INF] Fetching user by email: arun@gmail.com
2025-06-15 13:08:28.775 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 13:08:28.776 +05:30 [DBG] Creating DbConnection.
2025-06-15 13:08:28.776 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 13:08:28.776 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:28.776 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:28.776 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:08:28.776 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:28.776 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:28.776 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 13:08:28.777 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 13:08:28.777 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:08:28.777 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:08:28.777 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:28.778 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:08:28.778 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:28.778 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:08:28.778 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 13:08:28.778 +05:30 [INF] User found for email: arun@gmail.com
2025-06-15 13:08:28.779 +05:30 [DBG] Compiling query expression: 
'DbSet<UserDocument>()'
2025-06-15 13:08:28.788 +05:30 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserDocument>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserDocument.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserDocument.ContentType (string) Required, 1], [Property: UserDocument.FileData (byte[]), 2], [Property: UserDocument.FileName (string) Required, 3], [Property: UserDocument.IsDeleted (bool) Required, 4], [Property: UserDocument.UploadedAt (DateTime) Required, 5], [Property: UserDocument.UploadedById (Guid) Required FK Index, 6] }
        SELECT u.Id, u.ContentType, u.FileData, u.FileName, u.IsDeleted, u.UploadedAt, u.UploadedById
        FROM UserDocuments AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserDocument.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserDocument.ContentType (string) Required, 1], [Property: UserDocument.FileData (byte[]), 2], [Property: UserDocument.FileName (string) Required, 3], [Property: UserDocument.IsDeleted (bool) Required, 4], [Property: UserDocument.UploadedAt (DateTime) Required, 5], [Property: UserDocument.UploadedById (Guid) Required FK Index, 6] }
        SELECT u.Id, u.ContentType, u.FileData, u.FileName, u.IsDeleted, u.UploadedAt, u.UploadedById
        FROM UserDocuments AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        UserDocument entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            UserDocument instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(UserDocument);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: UserDocument.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("DSS.Models.UserDocument").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (UserDocument)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: UserDocument | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("DSS.Models.UserDocument")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: UserDocument | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("DSS.Models.UserDocument")]: 
                        {
                            return 
                            {
                                UserDocument instance;
                                instance = new UserDocument();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<ContentType>k__BackingField = dataReader.GetString(1);
                                instance.<FileData>k__BackingField = dataReader.IsDBNull(2) ? default(byte[]) : dataReader.GetFieldValue<byte[]>(2);
                                instance.<FileName>k__BackingField = dataReader.GetString(3);
                                instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(4);
                                instance.<UploadedAt>k__BackingField = dataReader.GetDateTime(5);
                                instance.<UploadedById>k__BackingField = dataReader.GetGuid(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: UserDocument | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("DSS.Models.UserDocument")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(UserDocument)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: DSS.Contexts.DssContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-06-15 13:08:28.790 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:28.791 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:28.791 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:08:28.791 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:28.791 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:28.791 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 13:08:28.793 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 13:08:28.804 +05:30 [DBG] Context 'DssContext' started tracking 'UserDocument' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:08:28.814 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:28.814 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 21ms reading results.
2025-06-15 13:08:28.815 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:28.815 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:08:28.815 +05:30 [INF] Fetched all documents Count: 1
2025-06-15 13:08:28.816 +05:30 [INF] Document Coding.txt fetched for uploader arun@gmail.com
2025-06-15 13:08:28.818 +05:30 [DBG] Compiling query expression: 
'DbSet<DocumentShare>()'
2025-06-15 13:08:28.823 +05:30 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<DocumentShare>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: DocumentShare.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: DocumentShare.DocumentId (Guid) Required FK Index, 1], [Property: DocumentShare.IsRevoked (bool) Required, 2], [Property: DocumentShare.SharedWithUserId (Guid) Required FK Index, 3] }
        SELECT d.Id, d.DocumentId, d.IsRevoked, d.SharedWithUserId
        FROM DocumentShares AS d) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: DocumentShare.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: DocumentShare.DocumentId (Guid) Required FK Index, 1], [Property: DocumentShare.IsRevoked (bool) Required, 2], [Property: DocumentShare.SharedWithUserId (Guid) Required FK Index, 3] }
        SELECT d.Id, d.DocumentId, d.IsRevoked, d.SharedWithUserId
        FROM DocumentShares AS d, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        DocumentShare entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            DocumentShare instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(DocumentShare);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: DocumentShare.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("DSS.Models.DocumentShare").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (DocumentShare)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: DocumentShare | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("DSS.Models.DocumentShare")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: DocumentShare | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("DSS.Models.DocumentShare")]: 
                        {
                            return 
                            {
                                DocumentShare instance;
                                instance = new DocumentShare();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<DocumentId>k__BackingField = dataReader.GetGuid(1);
                                instance.<IsRevoked>k__BackingField = dataReader.GetBoolean(2);
                                instance.<SharedWithUserId>k__BackingField = dataReader.GetGuid(3);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: DocumentShare | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("DSS.Models.DocumentShare")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(DocumentShare)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: DSS.Contexts.DssContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-06-15 13:08:28.825 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:28.825 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:28.825 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:08:28.825 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:28.825 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:28.825 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 13:08:28.826 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 13:08:28.828 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentShare' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:08:28.832 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:28.833 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 6ms reading results.
2025-06-15 13:08:28.833 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:28.833 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:08:28.833 +05:30 [INF] Fetched all document shares Count: 1
2025-06-15 13:08:28.839 +05:30 [DBG] 'DssContext' generated a value for the property 'DocumentView.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:08:28.846 +05:30 [DBG] The navigation 'DocumentView.Document' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:08:28.847 +05:30 [DBG] The navigation 'DocumentView.ViewedBy' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:08:28.848 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentView' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:08:28.848 +05:30 [DBG] SaveChanges starting for 'DssContext'.
2025-06-15 13:08:28.849 +05:30 [DBG] DetectChanges starting for 'DssContext'.
2025-06-15 13:08:28.859 +05:30 [DBG] DetectChanges completed for 'DssContext'.
2025-06-15 13:08:28.860 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:28.860 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:28.861 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:08:28.861 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:28.861 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:28.861 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 13:08:28.872 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 13:08:28.873 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:28.873 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:08:28.873 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:28.873 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:08:28.874 +05:30 [DBG] An entity of type 'DocumentView' tracked by 'DssContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:08:28.874 +05:30 [DBG] SaveChanges completed for 'DssContext' with 1 entities written to the database.
2025-06-15 13:08:28.886 +05:30 [DBG] Compiling query expression: 
'DbSet<UserDocument>()
    .SingleOrDefault(u => u.Id == __key_0)'
2025-06-15 13:08:28.943 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserDocument>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserDocument>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserDocument.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserDocument.ContentType (string) Required, 1], [Property: UserDocument.FileData (byte[]), 2], [Property: UserDocument.FileName (string) Required, 3], [Property: UserDocument.IsDeleted (bool) Required, 4], [Property: UserDocument.UploadedAt (DateTime) Required, 5], [Property: UserDocument.UploadedById (Guid) Required FK Index, 6] }
            SELECT TOP(2) u.Id, u.ContentType, u.FileData, u.FileName, u.IsDeleted, u.UploadedAt, u.UploadedById
            FROM UserDocuments AS u
            WHERE u.Id == @__key_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserDocument.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserDocument.ContentType (string) Required, 1], [Property: UserDocument.FileData (byte[]), 2], [Property: UserDocument.FileName (string) Required, 3], [Property: UserDocument.IsDeleted (bool) Required, 4], [Property: UserDocument.UploadedAt (DateTime) Required, 5], [Property: UserDocument.UploadedById (Guid) Required FK Index, 6] }
            SELECT TOP(2) u.Id, u.ContentType, u.FileData, u.FileName, u.IsDeleted, u.UploadedAt, u.UploadedById
            FROM UserDocuments AS u
            WHERE u.Id == @__key_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            UserDocument entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UserDocument instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UserDocument);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: UserDocument.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("DSS.Models.UserDocument").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (UserDocument)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UserDocument | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("DSS.Models.UserDocument")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UserDocument | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("DSS.Models.UserDocument")]: 
                            {
                                return 
                                {
                                    UserDocument instance;
                                    instance = new UserDocument();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ContentType>k__BackingField = dataReader.GetString(1);
                                    instance.<FileData>k__BackingField = dataReader.IsDBNull(2) ? default(byte[]) : dataReader.GetFieldValue<byte[]>(2);
                                    instance.<FileName>k__BackingField = dataReader.GetString(3);
                                    instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(4);
                                    instance.<UploadedAt>k__BackingField = dataReader.GetDateTime(5);
                                    instance.<UploadedById>k__BackingField = dataReader.GetGuid(6);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: UserDocument | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("DSS.Models.UserDocument")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UserDocument)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: DSS.Contexts.DssContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-15 13:08:28.956 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:28.956 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:28.956 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:08:28.956 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:28.956 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:28.956 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:08:28.971 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:08:28.973 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:28.973 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-15 13:08:28.973 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:28.973 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:08:28.973 +05:30 [INF] Fetched document with ID: "0197686f-6512-767c-8e7d-c893fdb41259"
2025-06-15 13:08:28.974 +05:30 [INF] Fetching user by ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 13:08:28.976 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Id == __key_0)'
2025-06-15 13:08:28.981 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string) Required, 1], [Property: User.PasswordHash (string) Required, 2], [Property: User.RegisteredAt (DateTime) Required, 3], [Property: User.Role (string) Required, 4], [Property: User.UpdatedAt (DateTime) Required, 5], [Property: User.Username (string) Required, 6] }
            SELECT TOP(2) u.Id, u.Email, u.PasswordHash, u.RegisteredAt, u.Role, u.UpdatedAt, u.Username
            FROM Users AS u
            WHERE u.Id == @__key_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string) Required, 1], [Property: User.PasswordHash (string) Required, 2], [Property: User.RegisteredAt (DateTime) Required, 3], [Property: User.Role (string) Required, 4], [Property: User.UpdatedAt (DateTime) Required, 5], [Property: User.Username (string) Required, 6] }
            SELECT TOP(2) u.Id, u.Email, u.PasswordHash, u.RegisteredAt, u.Role, u.UpdatedAt, u.Username
            FROM Users AS u
            WHERE u.Id == @__key_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("DSS.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("DSS.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("DSS.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<Email>k__BackingField = dataReader.GetString(1);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(2);
                                    instance.<RegisteredAt>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<Role>k__BackingField = dataReader.GetString(4);
                                    instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(5);
                                    instance.<Username>k__BackingField = dataReader.GetString(6);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("DSS.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: DSS.Contexts.DssContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-15 13:08:28.983 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:28.983 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:28.983 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:08:28.983 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:28.983 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:28.983 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:08:28.984 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:08:28.984 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:28.984 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:08:28.984 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:28.984 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:08:28.985 +05:30 [INF] Fetched user with ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 13:08:28.985 +05:30 [INF] Fetching user by ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 13:08:28.988 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:28.988 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:28.989 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:08:28.989 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:28.989 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:28.989 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:08:28.990 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:08:28.990 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:28.990 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:08:28.990 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:28.990 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:08:28.990 +05:30 [INF] Fetched user with ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 13:08:28.991 +05:30 [INF] Sending notification to group: arun@gmail.com
2025-06-15 13:08:28.992 +05:30 [INF] Executing FileContentResult, sending file with download name 'Coding.txt' ...
2025-06-15 13:08:28.994 +05:30 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2025-06-15 13:08:28.996 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 297.1224ms
2025-06-15 13:08:28.996 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:08:28.996 +05:30 [DBG] Connection id "0HNDBRS4TNMQA" completed keep alive response.
2025-06-15 13:08:28.996 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 13:08:28.996 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:28.996 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:08:28.996 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - 200 5164 text/plain 318.6924ms
2025-06-15 13:08:48.631 +05:30 [DBG] Connection id "0HNDBRS4TNMQB" accepted.
2025-06-15 13:08:48.632 +05:30 [DBG] Connection id "0HNDBRS4TNMQB" started.
2025-06-15 13:08:48.632 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - null 0
2025-06-15 13:08:48.632 +05:30 [DBG] OPTIONS requests are not supported
2025-06-15 13:08:48.632 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub/negotiate'
2025-06-15 13:08:48.632 +05:30 [DBG] Request matched endpoint '/notificationhub/negotiate'
2025-06-15 13:08:48.632 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-15 13:08:48.632 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:08:48.633 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:08:48.633 +05:30 [DBG] The request is a preflight request.
2025-06-15 13:08:48.633 +05:30 [DBG] Connection id "0HNDBRS4TNMQB" completed keep alive response.
2025-06-15 13:08:48.633 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - 204 null null 1.0163ms
2025-06-15 13:08:48.634 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - null 0
2025-06-15 13:08:48.635 +05:30 [DBG] POST requests are not supported
2025-06-15 13:08:48.635 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub/negotiate'
2025-06-15 13:08:48.635 +05:30 [DBG] Request matched endpoint '/notificationhub/negotiate'
2025-06-15 13:08:48.635 +05:30 [DBG] Successfully validated the token.
2025-06-15 13:08:48.635 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 13:08:48.635 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:08:48.635 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:08:48.635 +05:30 [INF] Executing endpoint '/notificationhub/negotiate'
2025-06-15 13:08:48.636 +05:30 [DBG] New connection h-aZ844wS2wWBgeiwerbqg created.
2025-06-15 13:08:48.636 +05:30 [DBG] Sending negotiation response.
2025-06-15 13:08:48.636 +05:30 [INF] Executed endpoint '/notificationhub/negotiate'
2025-06-15 13:08:48.636 +05:30 [DBG] Connection id "0HNDBRS4TNMQB" completed keep alive response.
2025-06-15 13:08:48.636 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - 200 316 application/json 1.5212ms
2025-06-15 13:08:48.640 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/notificationhub?id=DiXhI77w4wpsjZ7KvJIIRw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIwMTk3Njg2ZS03YjFjLTcxMmYtODFmZC01ZDMzMTU4MzNhZGIiLCJlbWFpbCI6ImFydW5AZ21haWwuY29tIiwicm9sZSI6IkFkbWluIiwibmJmIjoxNzQ5OTczMDY0LCJleHAiOjE3NDk5NzM5NjQsImlhdCI6MTc0OTk3MzA2NH0.hw4lpgljolBkymE7zsgUYsoH7XJXSBTl5dHFDkXncpo - null null
2025-06-15 13:08:48.640 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 13:08:48.640 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub'
2025-06-15 13:08:48.640 +05:30 [DBG] Request matched endpoint '/notificationhub'
2025-06-15 13:08:48.640 +05:30 [DBG] Successfully validated the token.
2025-06-15 13:08:48.640 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 13:08:48.641 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:08:48.641 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:08:48.641 +05:30 [INF] Executing endpoint '/notificationhub'
2025-06-15 13:08:48.641 +05:30 [DBG] Establishing new connection.
2025-06-15 13:08:48.641 +05:30 [DBG] OnConnectedAsync started.
2025-06-15 13:08:48.642 +05:30 [DBG] Socket opened using Sub-Protocol: 'null'.
2025-06-15 13:08:48.643 +05:30 [DBG] Found protocol implementation for requested protocol: json.
2025-06-15 13:08:48.644 +05:30 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2025-06-15 13:08:56.057 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 13:08:56.057 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 13:08:56.059 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 13:08:56.059 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 13:08:56.059 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:08:56.059 +05:30 [DBG] Successfully validated the token.
2025-06-15 13:08:56.059 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 13:08:56.060 +05:30 [DBG] Authorization was successful.
2025-06-15 13:08:56.061 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:08:56.061 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 13:08:56.061 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 13:08:56.061 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 13:08:56.061 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 13:08:56.061 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 13:08:56.061 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 13:08:56.061 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 13:08:56.062 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 13:08:56.062 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 13:08:56.063 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 13:08:56.063 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 13:08:56.063 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 13:08:56.063 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 13:08:56.063 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 13:08:56.063 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 13:08:56.063 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 13:08:56.063 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 13:08:56.063 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 13:08:56.063 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 13:08:56.063 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 13:08:56.064 +05:30 [INF] Fetching user by email: arun@gmail.com
2025-06-15 13:08:56.064 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 13:08:56.064 +05:30 [DBG] Creating DbConnection.
2025-06-15 13:08:56.064 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 13:08:56.064 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:56.065 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:56.065 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:08:56.065 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:56.065 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:56.065 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 13:08:56.070 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 13:08:56.071 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:08:56.071 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:08:56.071 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:56.071 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:08:56.071 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:56.071 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:08:56.071 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 13:08:56.071 +05:30 [INF] User found for email: arun@gmail.com
2025-06-15 13:08:56.072 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:56.072 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:56.072 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:08:56.072 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:56.072 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:56.072 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 13:08:56.073 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 13:08:56.073 +05:30 [DBG] Context 'DssContext' started tracking 'UserDocument' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:08:56.073 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:56.073 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:08:56.073 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:56.074 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:08:56.074 +05:30 [INF] Fetched all documents Count: 1
2025-06-15 13:08:56.074 +05:30 [INF] Document Coding.txt fetched for uploader arun@gmail.com
2025-06-15 13:08:56.074 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:56.074 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:56.074 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:08:56.074 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:56.074 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:56.074 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 13:08:56.075 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 13:08:56.075 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentShare' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:08:56.075 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:56.075 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:08:56.075 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:56.076 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:08:56.076 +05:30 [INF] Fetched all document shares Count: 1
2025-06-15 13:08:56.076 +05:30 [DBG] 'DssContext' generated a value for the property 'DocumentView.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:08:56.076 +05:30 [DBG] The navigation 'DocumentView.Document' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:08:56.076 +05:30 [DBG] The navigation 'DocumentView.ViewedBy' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:08:56.077 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentView' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:08:56.077 +05:30 [DBG] SaveChanges starting for 'DssContext'.
2025-06-15 13:08:56.077 +05:30 [DBG] DetectChanges starting for 'DssContext'.
2025-06-15 13:08:56.077 +05:30 [DBG] DetectChanges completed for 'DssContext'.
2025-06-15 13:08:56.078 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:56.078 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:56.078 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:08:56.078 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:56.078 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:56.078 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 13:08:56.079 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 13:08:56.079 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:56.079 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:08:56.080 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:56.080 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:08:56.080 +05:30 [DBG] An entity of type 'DocumentView' tracked by 'DssContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:08:56.080 +05:30 [DBG] SaveChanges completed for 'DssContext' with 1 entities written to the database.
2025-06-15 13:08:56.080 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:56.081 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:56.081 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:08:56.081 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:56.081 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:56.081 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:08:56.082 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:08:56.082 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:56.083 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:08:56.083 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:56.083 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:08:56.083 +05:30 [INF] Fetched document with ID: "0197686f-6512-767c-8e7d-c893fdb41259"
2025-06-15 13:08:56.083 +05:30 [INF] Fetching user by ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 13:08:56.083 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:56.083 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:56.083 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:08:56.084 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:56.084 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:56.084 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:08:56.084 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:08:56.085 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:56.085 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:08:56.085 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:56.085 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:08:56.085 +05:30 [INF] Fetched user with ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 13:08:56.085 +05:30 [INF] Fetching user by ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 13:08:56.086 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:56.086 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:56.086 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:08:56.087 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:56.087 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:08:56.087 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:08:56.088 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:08:56.088 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:56.088 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:08:56.088 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:56.088 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:08:56.088 +05:30 [INF] Fetched user with ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 13:08:56.088 +05:30 [INF] Sending notification to group: arun@gmail.com
2025-06-15 13:08:56.097 +05:30 [INF] Executing FileContentResult, sending file with download name 'Coding.txt' ...
2025-06-15 13:08:56.097 +05:30 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2025-06-15 13:08:56.097 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 35.9597ms
2025-06-15 13:08:56.097 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:08:56.098 +05:30 [DBG] Connection id "0HNDBRS4TNMQA" completed keep alive response.
2025-06-15 13:08:56.098 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 13:08:56.099 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:08:56.100 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:08:56.100 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - 200 5164 text/plain 43.1738ms
2025-06-15 13:09:58.596 +05:30 [DBG] Waiting for the application to finish sending data.
2025-06-15 13:09:58.596 +05:30 [DBG] OnConnectedAsync ending.
2025-06-15 13:09:58.597 +05:30 [DBG] Socket closed.
2025-06-15 13:09:58.597 +05:30 [DBG] Removing connection DiXhI77w4wpsjZ7KvJIIRw from the list of connections.
2025-06-15 13:09:58.597 +05:30 [INF] Executed endpoint '/notificationhub'
2025-06-15 13:09:58.598 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/notificationhub?id=DiXhI77w4wpsjZ7KvJIIRw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIwMTk3Njg2ZS03YjFjLTcxMmYtODFmZC01ZDMzMTU4MzNhZGIiLCJlbWFpbCI6ImFydW5AZ21haWwuY29tIiwicm9sZSI6IkFkbWluIiwibmJmIjoxNzQ5OTczMDY0LCJleHAiOjE3NDk5NzM5NjQsImlhdCI6MTc0OTk3MzA2NH0.hw4lpgljolBkymE7zsgUYsoH7XJXSBTl5dHFDkXncpo - 101 null null 69957.7867ms
2025-06-15 13:09:58.598 +05:30 [DBG] Connection id "0HNDBRS4TNMQB" received FIN.
2025-06-15 13:09:58.598 +05:30 [DBG] Connection id "0HNDBRS4TNMQB" disconnecting.
2025-06-15 13:09:58.598 +05:30 [DBG] Connection id "0HNDBRS4TNMQB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 13:09:58.599 +05:30 [DBG] Connection id "0HNDBRS4TNMQB" stopped.
2025-06-15 13:10:51.999 +05:30 [DBG] Connection id "0HNDBRS4TNMQC" accepted.
2025-06-15 13:10:52.000 +05:30 [DBG] Connection id "0HNDBRS4TNMQC" started.
2025-06-15 13:10:52.000 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - null 0
2025-06-15 13:10:52.001 +05:30 [DBG] OPTIONS requests are not supported
2025-06-15 13:10:52.001 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub/negotiate'
2025-06-15 13:10:52.001 +05:30 [DBG] Request matched endpoint '/notificationhub/negotiate'
2025-06-15 13:10:52.001 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-15 13:10:52.001 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:10:52.001 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:10:52.001 +05:30 [DBG] The request is a preflight request.
2025-06-15 13:10:52.002 +05:30 [DBG] Connection id "0HNDBRS4TNMQC" completed keep alive response.
2025-06-15 13:10:52.002 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - 204 null null 1.3154ms
2025-06-15 13:10:52.004 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - null 0
2025-06-15 13:10:52.004 +05:30 [DBG] POST requests are not supported
2025-06-15 13:10:52.004 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub/negotiate'
2025-06-15 13:10:52.004 +05:30 [DBG] Request matched endpoint '/notificationhub/negotiate'
2025-06-15 13:10:52.005 +05:30 [DBG] Successfully validated the token.
2025-06-15 13:10:52.005 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 13:10:52.005 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:10:52.005 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:10:52.005 +05:30 [INF] Executing endpoint '/notificationhub/negotiate'
2025-06-15 13:10:52.006 +05:30 [DBG] New connection ET_9DFRQPUlpCGyndt3SEg created.
2025-06-15 13:10:52.006 +05:30 [DBG] Sending negotiation response.
2025-06-15 13:10:52.006 +05:30 [INF] Executed endpoint '/notificationhub/negotiate'
2025-06-15 13:10:52.006 +05:30 [DBG] Connection id "0HNDBRS4TNMQC" completed keep alive response.
2025-06-15 13:10:52.006 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - 200 316 application/json 2.7692ms
2025-06-15 13:10:52.011 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/notificationhub?id=TuRJEwIErCvN6PWhD6gNzg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIwMTk3Njg2ZS03YjFjLTcxMmYtODFmZC01ZDMzMTU4MzNhZGIiLCJlbWFpbCI6ImFydW5AZ21haWwuY29tIiwicm9sZSI6IkFkbWluIiwibmJmIjoxNzQ5OTczMDY0LCJleHAiOjE3NDk5NzM5NjQsImlhdCI6MTc0OTk3MzA2NH0.hw4lpgljolBkymE7zsgUYsoH7XJXSBTl5dHFDkXncpo - null null
2025-06-15 13:10:52.011 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 13:10:52.011 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub'
2025-06-15 13:10:52.011 +05:30 [DBG] Request matched endpoint '/notificationhub'
2025-06-15 13:10:52.011 +05:30 [DBG] Successfully validated the token.
2025-06-15 13:10:52.011 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 13:10:52.011 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:10:52.012 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:10:52.012 +05:30 [INF] Executing endpoint '/notificationhub'
2025-06-15 13:10:52.012 +05:30 [DBG] Establishing new connection.
2025-06-15 13:10:52.012 +05:30 [DBG] OnConnectedAsync started.
2025-06-15 13:10:52.012 +05:30 [DBG] Socket opened using Sub-Protocol: 'null'.
2025-06-15 13:10:52.013 +05:30 [DBG] Found protocol implementation for requested protocol: json.
2025-06-15 13:10:52.014 +05:30 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2025-06-15 13:11:06.626 +05:30 [DBG] Connection id "0HNDBRS4TNMQA" disconnecting.
2025-06-15 13:11:06.626 +05:30 [DBG] Connection id "0HNDBRS4TNMQA" stopped.
2025-06-15 13:11:06.626 +05:30 [DBG] Connection id "0HNDBRS4TNMQA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 13:11:34.945 +05:30 [DBG] Waiting for the application to finish sending data.
2025-06-15 13:11:34.945 +05:30 [DBG] OnConnectedAsync ending.
2025-06-15 13:11:34.946 +05:30 [DBG] Socket closed.
2025-06-15 13:11:34.946 +05:30 [DBG] Removing connection TuRJEwIErCvN6PWhD6gNzg from the list of connections.
2025-06-15 13:11:34.947 +05:30 [INF] Executed endpoint '/notificationhub'
2025-06-15 13:11:34.947 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/notificationhub?id=TuRJEwIErCvN6PWhD6gNzg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIwMTk3Njg2ZS03YjFjLTcxMmYtODFmZC01ZDMzMTU4MzNhZGIiLCJlbWFpbCI6ImFydW5AZ21haWwuY29tIiwicm9sZSI6IkFkbWluIiwibmJmIjoxNzQ5OTczMDY0LCJleHAiOjE3NDk5NzM5NjQsImlhdCI6MTc0OTk3MzA2NH0.hw4lpgljolBkymE7zsgUYsoH7XJXSBTl5dHFDkXncpo - 101 null null 42922.533ms
2025-06-15 13:11:34.947 +05:30 [DBG] Connection id "0HNDBRS4TNMQC" received FIN.
2025-06-15 13:11:34.948 +05:30 [DBG] Connection id "0HNDBRS4TNMQC" disconnecting.
2025-06-15 13:11:34.948 +05:30 [DBG] Connection id "0HNDBRS4TNMQC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 13:11:34.949 +05:30 [DBG] Connection id "0HNDBRS4TNMQC" stopped.
2025-06-15 13:17:10.817 +05:30 [DBG] Connection id "0HNDBRS4TNMQD" accepted.
2025-06-15 13:17:10.818 +05:30 [DBG] Connection id "0HNDBRS4TNMQD" started.
2025-06-15 13:17:10.818 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - null 0
2025-06-15 13:17:10.818 +05:30 [DBG] OPTIONS requests are not supported
2025-06-15 13:17:10.818 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub/negotiate'
2025-06-15 13:17:10.819 +05:30 [DBG] Request matched endpoint '/notificationhub/negotiate'
2025-06-15 13:17:10.819 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-15 13:17:10.819 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:17:10.819 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:17:10.819 +05:30 [DBG] The request is a preflight request.
2025-06-15 13:17:10.819 +05:30 [DBG] Connection id "0HNDBRS4TNMQD" completed keep alive response.
2025-06-15 13:17:10.819 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - 204 null null 1.2346ms
2025-06-15 13:17:10.821 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - null 0
2025-06-15 13:17:10.821 +05:30 [DBG] POST requests are not supported
2025-06-15 13:17:10.822 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub/negotiate'
2025-06-15 13:17:10.822 +05:30 [DBG] Request matched endpoint '/notificationhub/negotiate'
2025-06-15 13:17:10.822 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-06-15 13:17:10.823 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-06-15 13:17:10.823 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:17:10.823 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:17:10.823 +05:30 [INF] Executing endpoint '/notificationhub/negotiate'
2025-06-15 13:17:10.823 +05:30 [DBG] New connection m4IR96g6lkYuae3xNRqxnA created.
2025-06-15 13:17:10.823 +05:30 [DBG] Sending negotiation response.
2025-06-15 13:17:10.824 +05:30 [INF] Executed endpoint '/notificationhub/negotiate'
2025-06-15 13:17:10.824 +05:30 [DBG] Connection id "0HNDBRS4TNMQD" completed keep alive response.
2025-06-15 13:17:10.824 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - 200 316 application/json 2.7993ms
2025-06-15 13:17:10.830 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/notificationhub?id=2z68R5lpC5Qq_SmtiICezw&access_token=rel%3D%22stylesheet%22 - null null
2025-06-15 13:17:10.831 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 13:17:10.831 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub'
2025-06-15 13:17:10.831 +05:30 [DBG] Request matched endpoint '/notificationhub'
2025-06-15 13:17:10.831 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-06-15 13:17:10.831 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-06-15 13:17:10.832 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:17:10.832 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:17:10.832 +05:30 [INF] Executing endpoint '/notificationhub'
2025-06-15 13:17:10.832 +05:30 [DBG] Establishing new connection.
2025-06-15 13:17:10.832 +05:30 [DBG] OnConnectedAsync started.
2025-06-15 13:17:10.832 +05:30 [DBG] Socket opened using Sub-Protocol: 'null'.
2025-06-15 13:17:10.834 +05:30 [DBG] Found protocol implementation for requested protocol: json.
2025-06-15 13:17:10.834 +05:30 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2025-06-15 13:17:24.737 +05:30 [DBG] Connection id "0HNDBRS4TNMQE" accepted.
2025-06-15 13:17:24.737 +05:30 [DBG] Connection id "0HNDBRS4TNMQE" started.
2025-06-15 13:17:24.738 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - null 0
2025-06-15 13:17:24.738 +05:30 [DBG] OPTIONS requests are not supported
2025-06-15 13:17:24.738 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub/negotiate'
2025-06-15 13:17:24.738 +05:30 [DBG] Request matched endpoint '/notificationhub/negotiate'
2025-06-15 13:17:24.738 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-15 13:17:24.738 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:17:24.739 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:17:24.739 +05:30 [DBG] The request is a preflight request.
2025-06-15 13:17:24.739 +05:30 [DBG] Connection id "0HNDBRS4TNMQE" completed keep alive response.
2025-06-15 13:17:24.739 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - 204 null null 1.2253ms
2025-06-15 13:17:24.741 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - null 0
2025-06-15 13:17:24.741 +05:30 [DBG] POST requests are not supported
2025-06-15 13:17:24.741 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub/negotiate'
2025-06-15 13:17:24.741 +05:30 [DBG] Request matched endpoint '/notificationhub/negotiate'
2025-06-15 13:17:24.741 +05:30 [DBG] Successfully validated the token.
2025-06-15 13:17:24.742 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 13:17:24.742 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:17:24.742 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:17:24.742 +05:30 [INF] Executing endpoint '/notificationhub/negotiate'
2025-06-15 13:17:24.742 +05:30 [DBG] New connection ObrOAqoBFdKD8kMateVrPg created.
2025-06-15 13:17:24.742 +05:30 [DBG] Sending negotiation response.
2025-06-15 13:17:24.742 +05:30 [INF] Executed endpoint '/notificationhub/negotiate'
2025-06-15 13:17:24.742 +05:30 [DBG] Connection id "0HNDBRS4TNMQE" completed keep alive response.
2025-06-15 13:17:24.742 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - 200 316 application/json 1.5782ms
2025-06-15 13:17:24.747 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/notificationhub?id=bO6cFDyjc_dCDIG1VJsQtw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIwMTk3Njg2ZS03YjFjLTcxMmYtODFmZC01ZDMzMTU4MzNhZGIiLCJlbWFpbCI6ImFydW5AZ21haWwuY29tIiwicm9sZSI6IkFkbWluIiwibmJmIjoxNzQ5OTczMDY0LCJleHAiOjE3NDk5NzM5NjQsImlhdCI6MTc0OTk3MzA2NH0.hw4lpgljolBkymE7zsgUYsoH7XJXSBTl5dHFDkXncpo - null null
2025-06-15 13:17:24.747 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 13:17:24.748 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub'
2025-06-15 13:17:24.748 +05:30 [DBG] Request matched endpoint '/notificationhub'
2025-06-15 13:17:24.748 +05:30 [DBG] Successfully validated the token.
2025-06-15 13:17:24.748 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 13:17:24.748 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:17:24.748 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:17:24.748 +05:30 [INF] Executing endpoint '/notificationhub'
2025-06-15 13:17:24.749 +05:30 [DBG] Establishing new connection.
2025-06-15 13:17:24.749 +05:30 [DBG] OnConnectedAsync started.
2025-06-15 13:17:24.749 +05:30 [DBG] Socket opened using Sub-Protocol: 'null'.
2025-06-15 13:17:24.750 +05:30 [DBG] Found protocol implementation for requested protocol: json.
2025-06-15 13:17:24.750 +05:30 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2025-06-15 13:17:36.470 +05:30 [DBG] Connection id "0HNDBRS4TNMQF" accepted.
2025-06-15 13:17:36.470 +05:30 [DBG] Connection id "0HNDBRS4TNMQF" received FIN.
2025-06-15 13:17:36.471 +05:30 [DBG] Connection id "0HNDBRS4TNMQF" started.
2025-06-15 13:17:36.471 +05:30 [DBG] Connection id "0HNDBRS4TNMQG" accepted.
2025-06-15 13:17:36.471 +05:30 [DBG] Connection id "0HNDBRS4TNMQF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 13:17:36.471 +05:30 [DBG] Connection id "0HNDBRS4TNMQG" started.
2025-06-15 13:17:36.471 +05:30 [DBG] Connection id "0HNDBRS4TNMQF" disconnecting.
2025-06-15 13:17:36.471 +05:30 [DBG] Connection id "0HNDBRS4TNMQF" stopped.
2025-06-15 13:17:36.471 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 13:17:36.471 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 13:17:36.471 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 13:17:36.472 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 13:17:36.472 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:17:36.472 +05:30 [DBG] Successfully validated the token.
2025-06-15 13:17:36.472 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 13:17:36.475 +05:30 [DBG] Authorization was successful.
2025-06-15 13:17:36.475 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:17:36.475 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 13:17:36.476 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 13:17:36.476 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 13:17:36.476 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 13:17:36.476 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 13:17:36.476 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 13:17:36.477 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 13:17:36.480 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 13:17:36.480 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 13:17:36.481 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 13:17:36.481 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 13:17:36.481 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 13:17:36.481 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 13:17:36.481 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 13:17:36.481 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 13:17:36.482 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 13:17:36.482 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 13:17:36.482 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 13:17:36.482 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 13:17:36.482 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 13:17:36.482 +05:30 [INF] Fetching user by email: arun@gmail.com
2025-06-15 13:17:36.483 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 13:17:36.483 +05:30 [DBG] Creating DbConnection.
2025-06-15 13:17:36.483 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 13:17:36.483 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:17:36.504 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:17:36.504 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:17:36.504 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:17:36.504 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:17:36.504 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 13:17:36.506 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 13:17:36.507 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:17:36.507 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:17:36.507 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:17:36.507 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:17:36.507 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:17:36.507 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:17:36.508 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 13:17:36.508 +05:30 [INF] User found for email: arun@gmail.com
2025-06-15 13:17:36.508 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:17:36.508 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:17:36.508 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:17:36.508 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:17:36.508 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:17:36.508 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 13:17:36.509 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 13:17:36.510 +05:30 [DBG] Context 'DssContext' started tracking 'UserDocument' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:17:36.510 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:17:36.510 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:17:36.510 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:17:36.510 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:17:36.511 +05:30 [INF] Fetched all documents Count: 1
2025-06-15 13:17:36.511 +05:30 [INF] Document Coding.txt fetched for uploader arun@gmail.com
2025-06-15 13:17:36.511 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:17:36.511 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:17:36.511 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:17:36.511 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:17:36.511 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:17:36.512 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 13:17:36.513 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 13:17:36.513 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentShare' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:17:36.513 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:17:36.513 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:17:36.513 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:17:36.513 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:17:36.514 +05:30 [INF] Fetched all document shares Count: 1
2025-06-15 13:17:36.514 +05:30 [DBG] 'DssContext' generated a value for the property 'DocumentView.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:17:36.514 +05:30 [DBG] The navigation 'DocumentView.Document' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:17:36.514 +05:30 [DBG] The navigation 'DocumentView.ViewedBy' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:17:36.514 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentView' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:17:36.514 +05:30 [DBG] SaveChanges starting for 'DssContext'.
2025-06-15 13:17:36.514 +05:30 [DBG] DetectChanges starting for 'DssContext'.
2025-06-15 13:17:36.515 +05:30 [DBG] DetectChanges completed for 'DssContext'.
2025-06-15 13:17:36.515 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:17:36.515 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:17:36.516 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:17:36.516 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:17:36.516 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:17:36.516 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 13:17:36.518 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 13:17:36.518 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:17:36.518 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:17:36.518 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:17:36.518 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:17:36.519 +05:30 [DBG] An entity of type 'DocumentView' tracked by 'DssContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:17:36.519 +05:30 [DBG] SaveChanges completed for 'DssContext' with 1 entities written to the database.
2025-06-15 13:17:36.519 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:17:36.519 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:17:36.519 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:17:36.519 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:17:36.519 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:17:36.519 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:17:36.520 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:17:36.520 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:17:36.520 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:17:36.521 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:17:36.521 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:17:36.521 +05:30 [INF] Fetched document with ID: "0197686f-6512-767c-8e7d-c893fdb41259"
2025-06-15 13:17:36.521 +05:30 [INF] Fetching user by ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 13:17:36.521 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:17:36.521 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:17:36.521 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:17:36.521 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:17:36.522 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:17:36.522 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:17:36.522 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:17:36.522 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:17:36.523 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:17:36.523 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:17:36.523 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:17:36.523 +05:30 [INF] Fetched user with ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 13:17:36.523 +05:30 [INF] Fetching user by ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 13:17:36.523 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:17:36.523 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:17:36.523 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:17:36.523 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:17:36.523 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:17:36.524 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:17:36.524 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:17:36.524 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:17:36.524 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:17:36.524 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:17:36.524 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:17:36.524 +05:30 [INF] Fetched user with ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 13:17:36.525 +05:30 [INF] Sending notification to group: arun@gmail.com
2025-06-15 13:17:36.525 +05:30 [INF] Executing FileContentResult, sending file with download name 'Coding.txt' ...
2025-06-15 13:17:36.525 +05:30 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2025-06-15 13:17:36.525 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 48.5668ms
2025-06-15 13:17:36.525 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:17:36.525 +05:30 [DBG] Connection id "0HNDBRS4TNMQG" completed keep alive response.
2025-06-15 13:17:36.526 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 13:17:36.526 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:17:36.526 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:17:36.527 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - 200 5164 text/plain 56.123ms
2025-06-15 13:19:48.008 +05:30 [DBG] Connection id "0HNDBRS4TNMQG" disconnecting.
2025-06-15 13:19:48.009 +05:30 [DBG] Connection id "0HNDBRS4TNMQG" stopped.
2025-06-15 13:19:48.009 +05:30 [DBG] Connection id "0HNDBRS4TNMQG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 13:21:16.375 +05:30 [DBG] Waiting for the application to finish sending data.
2025-06-15 13:21:16.375 +05:30 [DBG] Waiting for the application to finish sending data.
2025-06-15 13:21:16.376 +05:30 [DBG] Socket closed.
2025-06-15 13:21:16.376 +05:30 [DBG] Socket closed.
2025-06-15 13:21:16.376 +05:30 [DBG] OnConnectedAsync ending.
2025-06-15 13:21:16.377 +05:30 [DBG] Removing connection bO6cFDyjc_dCDIG1VJsQtw from the list of connections.
2025-06-15 13:21:16.377 +05:30 [INF] Executed endpoint '/notificationhub'
2025-06-15 13:21:16.379 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/notificationhub?id=bO6cFDyjc_dCDIG1VJsQtw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIwMTk3Njg2ZS03YjFjLTcxMmYtODFmZC01ZDMzMTU4MzNhZGIiLCJlbWFpbCI6ImFydW5AZ21haWwuY29tIiwicm9sZSI6IkFkbWluIiwibmJmIjoxNzQ5OTczMDY0LCJleHAiOjE3NDk5NzM5NjQsImlhdCI6MTc0OTk3MzA2NH0.hw4lpgljolBkymE7zsgUYsoH7XJXSBTl5dHFDkXncpo - 101 null null 231627.963ms
2025-06-15 13:21:16.379 +05:30 [DBG] Connection id "0HNDBRS4TNMQE" disconnecting.
2025-06-15 13:21:16.380 +05:30 [DBG] Connection id "0HNDBRS4TNMQE" stopped.
2025-06-15 13:21:16.380 +05:30 [DBG] Connection id "0HNDBRS4TNMQE" received FIN.
2025-06-15 13:21:16.380 +05:30 [DBG] Connection id "0HNDBRS4TNMQD" received FIN.
2025-06-15 13:21:16.381 +05:30 [DBG] Connection id "0HNDBRS4TNMQE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 13:21:16.381 +05:30 [DBG] Connection id "0HNDBRS4TNMQD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 13:21:16.381 +05:30 [DBG] OnConnectedAsync ending.
2025-06-15 13:21:16.381 +05:30 [DBG] Connection id "0HNDBRS4TNMQD" disconnecting.
2025-06-15 13:21:16.381 +05:30 [DBG] Removing connection 2z68R5lpC5Qq_SmtiICezw from the list of connections.
2025-06-15 13:21:16.382 +05:30 [INF] Executed endpoint '/notificationhub'
2025-06-15 13:21:16.382 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/notificationhub?id=2z68R5lpC5Qq_SmtiICezw&access_token=rel%3D%22stylesheet%22 - 101 null null 245547.6144ms
2025-06-15 13:21:16.382 +05:30 [DBG] Connection id "0HNDBRS4TNMQD" stopped.
2025-06-15 13:21:29.612 +05:30 [DBG] Connection id "0HNDBRS4TNMQH" accepted.
2025-06-15 13:21:29.613 +05:30 [DBG] Connection id "0HNDBRS4TNMQH" started.
2025-06-15 13:21:29.613 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - null 0
2025-06-15 13:21:29.613 +05:30 [DBG] OPTIONS requests are not supported
2025-06-15 13:21:29.613 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub/negotiate'
2025-06-15 13:21:29.613 +05:30 [DBG] Request matched endpoint '/notificationhub/negotiate'
2025-06-15 13:21:29.614 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-15 13:21:29.614 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:21:29.614 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:21:29.614 +05:30 [DBG] The request is a preflight request.
2025-06-15 13:21:29.614 +05:30 [DBG] Connection id "0HNDBRS4TNMQH" completed keep alive response.
2025-06-15 13:21:29.614 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - 204 null null 0.9565ms
2025-06-15 13:21:29.616 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - null 0
2025-06-15 13:21:29.616 +05:30 [DBG] POST requests are not supported
2025-06-15 13:21:29.616 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub/negotiate'
2025-06-15 13:21:29.616 +05:30 [DBG] Request matched endpoint '/notificationhub/negotiate'
2025-06-15 13:21:29.617 +05:30 [DBG] Successfully validated the token.
2025-06-15 13:21:29.617 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 13:21:29.617 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:21:29.617 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:21:29.618 +05:30 [INF] Executing endpoint '/notificationhub/negotiate'
2025-06-15 13:21:29.618 +05:30 [DBG] New connection F5I0VyVDW2_zkHLEHva15g created.
2025-06-15 13:21:29.618 +05:30 [DBG] Sending negotiation response.
2025-06-15 13:21:29.619 +05:30 [INF] Executed endpoint '/notificationhub/negotiate'
2025-06-15 13:21:29.619 +05:30 [DBG] Connection id "0HNDBRS4TNMQH" completed keep alive response.
2025-06-15 13:21:29.619 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - 200 316 application/json 2.9541ms
2025-06-15 13:21:29.626 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/notificationhub?id=DZ_dIJLm_OkGcZ8YLXuLrg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIwMTk3Njg2ZS03YjFjLTcxMmYtODFmZC01ZDMzMTU4MzNhZGIiLCJlbWFpbCI6ImFydW5AZ21haWwuY29tIiwicm9sZSI6IkFkbWluIiwibmJmIjoxNzQ5OTczMDY0LCJleHAiOjE3NDk5NzM5NjQsImlhdCI6MTc0OTk3MzA2NH0.hw4lpgljolBkymE7zsgUYsoH7XJXSBTl5dHFDkXncpo - null null
2025-06-15 13:21:29.626 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 13:21:29.626 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub'
2025-06-15 13:21:29.626 +05:30 [DBG] Request matched endpoint '/notificationhub'
2025-06-15 13:21:29.627 +05:30 [DBG] Successfully validated the token.
2025-06-15 13:21:29.627 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 13:21:29.627 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:21:29.627 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:21:29.627 +05:30 [INF] Executing endpoint '/notificationhub'
2025-06-15 13:21:29.627 +05:30 [DBG] Establishing new connection.
2025-06-15 13:21:29.627 +05:30 [DBG] OnConnectedAsync started.
2025-06-15 13:21:29.628 +05:30 [DBG] Socket opened using Sub-Protocol: 'null'.
2025-06-15 13:21:29.630 +05:30 [DBG] Found protocol implementation for requested protocol: json.
2025-06-15 13:21:29.630 +05:30 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2025-06-15 13:21:35.461 +05:30 [DBG] Connection id "0HNDBRS4TNMQI" accepted.
2025-06-15 13:21:35.461 +05:30 [DBG] Connection id "0HNDBRS4TNMQI" received FIN.
2025-06-15 13:21:35.461 +05:30 [DBG] Connection id "0HNDBRS4TNMQI" started.
2025-06-15 13:21:35.461 +05:30 [DBG] Connection id "0HNDBRS4TNMQJ" accepted.
2025-06-15 13:21:35.461 +05:30 [DBG] Connection id "0HNDBRS4TNMQI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 13:21:35.461 +05:30 [DBG] Connection id "0HNDBRS4TNMQJ" started.
2025-06-15 13:21:35.461 +05:30 [DBG] Connection id "0HNDBRS4TNMQI" disconnecting.
2025-06-15 13:21:35.461 +05:30 [DBG] Connection id "0HNDBRS4TNMQI" stopped.
2025-06-15 13:21:35.461 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 13:21:35.461 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 13:21:35.461 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 13:21:35.462 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 13:21:35.462 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:21:35.462 +05:30 [DBG] Successfully validated the token.
2025-06-15 13:21:35.462 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 13:21:35.462 +05:30 [DBG] Authorization was successful.
2025-06-15 13:21:35.462 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:21:35.462 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 13:21:35.462 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 13:21:35.463 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 13:21:35.463 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 13:21:35.463 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 13:21:35.463 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 13:21:35.463 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 13:21:35.463 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 13:21:35.463 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 13:21:35.463 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 13:21:35.464 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 13:21:35.464 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 13:21:35.464 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 13:21:35.464 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 13:21:35.464 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 13:21:35.464 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 13:21:35.464 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 13:21:35.464 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 13:21:35.464 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 13:21:35.464 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 13:21:35.464 +05:30 [INF] Fetching user by email: arun@gmail.com
2025-06-15 13:21:35.465 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 13:21:35.465 +05:30 [DBG] Creating DbConnection.
2025-06-15 13:21:35.465 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 13:21:35.465 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:35.466 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:35.466 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:35.466 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:35.466 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:35.466 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 13:21:35.468 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 13:21:35.468 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:35.468 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:35.468 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:35.468 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:35.468 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:35.469 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:35.469 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 13:21:35.469 +05:30 [INF] User found for email: arun@gmail.com
2025-06-15 13:21:35.469 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:35.469 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:35.469 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:35.469 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:35.469 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:35.469 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 13:21:35.470 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 13:21:35.470 +05:30 [DBG] Context 'DssContext' started tracking 'UserDocument' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:35.470 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:35.470 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:35.470 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:35.471 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:35.471 +05:30 [INF] Fetched all documents Count: 1
2025-06-15 13:21:35.471 +05:30 [INF] Document Coding.txt fetched for uploader arun@gmail.com
2025-06-15 13:21:35.471 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:35.471 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:35.471 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:35.471 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:35.471 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:35.471 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 13:21:35.472 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 13:21:35.472 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentShare' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:35.473 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:35.473 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:35.473 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:35.473 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:35.473 +05:30 [INF] Fetched all document shares Count: 1
2025-06-15 13:21:35.473 +05:30 [DBG] 'DssContext' generated a value for the property 'DocumentView.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:35.473 +05:30 [DBG] The navigation 'DocumentView.Document' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:35.473 +05:30 [DBG] The navigation 'DocumentView.ViewedBy' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:35.473 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentView' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:35.473 +05:30 [DBG] SaveChanges starting for 'DssContext'.
2025-06-15 13:21:35.474 +05:30 [DBG] DetectChanges starting for 'DssContext'.
2025-06-15 13:21:35.474 +05:30 [DBG] DetectChanges completed for 'DssContext'.
2025-06-15 13:21:35.474 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:35.474 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:35.474 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:35.474 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:35.474 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:35.474 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 13:21:35.476 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 13:21:35.476 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:35.476 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:35.476 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:35.477 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:35.477 +05:30 [DBG] An entity of type 'DocumentView' tracked by 'DssContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:35.477 +05:30 [DBG] SaveChanges completed for 'DssContext' with 1 entities written to the database.
2025-06-15 13:21:35.477 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:35.477 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:35.477 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:35.477 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:35.477 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:35.478 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:21:35.478 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:21:35.478 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:35.478 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:35.478 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:35.478 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:35.479 +05:30 [INF] Fetched document with ID: "0197686f-6512-767c-8e7d-c893fdb41259"
2025-06-15 13:21:35.479 +05:30 [INF] Fetching user by ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 13:21:35.479 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:35.479 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:35.479 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:35.479 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:35.479 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:35.479 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:21:35.480 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:21:35.480 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:35.480 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:35.480 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:35.480 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:35.480 +05:30 [INF] Fetched user with ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 13:21:35.480 +05:30 [INF] Fetching user by ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 13:21:35.481 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:35.481 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:35.481 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:35.481 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:35.481 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:35.481 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:21:35.499 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:21:35.499 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:35.499 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:35.499 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:35.499 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:35.499 +05:30 [INF] Fetched user with ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 13:21:35.499 +05:30 [INF] Sending notification to group: arun@gmail.com
2025-06-15 13:21:35.500 +05:30 [INF] Executing FileContentResult, sending file with download name 'Coding.txt' ...
2025-06-15 13:21:35.500 +05:30 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2025-06-15 13:21:35.500 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 37.2225ms
2025-06-15 13:21:35.500 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:21:35.500 +05:30 [DBG] Connection id "0HNDBRS4TNMQJ" completed keep alive response.
2025-06-15 13:21:35.501 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 13:21:35.501 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:35.501 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:35.501 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - 200 5164 text/plain 39.691ms
2025-06-15 13:21:48.217 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 13:21:48.218 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 13:21:48.218 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 13:21:48.218 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 13:21:48.218 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:21:48.218 +05:30 [DBG] Successfully validated the token.
2025-06-15 13:21:48.218 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 13:21:48.218 +05:30 [DBG] Authorization was successful.
2025-06-15 13:21:48.218 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:21:48.219 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 13:21:48.219 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 13:21:48.219 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 13:21:48.219 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 13:21:48.219 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 13:21:48.219 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 13:21:48.219 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 13:21:48.219 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 13:21:48.219 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 13:21:48.220 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 13:21:48.220 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 13:21:48.220 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 13:21:48.220 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 13:21:48.220 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 13:21:48.220 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 13:21:48.220 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 13:21:48.220 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 13:21:48.221 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 13:21:48.221 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 13:21:48.221 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 13:21:48.221 +05:30 [INF] Fetching user by email: arun@gmail.com
2025-06-15 13:21:48.221 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 13:21:48.222 +05:30 [DBG] Creating DbConnection.
2025-06-15 13:21:48.222 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 13:21:48.222 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:48.222 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:48.222 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:48.222 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:48.223 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:48.223 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 13:21:48.223 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 13:21:48.224 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:48.224 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:48.224 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:48.225 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:48.225 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:48.225 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:48.225 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 13:21:48.225 +05:30 [INF] User found for email: arun@gmail.com
2025-06-15 13:21:48.225 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:48.226 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:48.226 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:48.226 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:48.226 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:48.226 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 13:21:48.226 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 13:21:48.227 +05:30 [DBG] Context 'DssContext' started tracking 'UserDocument' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:48.227 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:48.227 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:48.227 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:48.227 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:48.227 +05:30 [INF] Fetched all documents Count: 1
2025-06-15 13:21:48.227 +05:30 [INF] Document Coding.txt fetched for uploader arun@gmail.com
2025-06-15 13:21:48.228 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:48.228 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:48.228 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:48.228 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:48.228 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:48.228 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 13:21:48.229 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 13:21:48.229 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentShare' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:48.230 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:48.230 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:48.230 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:48.230 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:48.230 +05:30 [INF] Fetched all document shares Count: 1
2025-06-15 13:21:48.230 +05:30 [DBG] 'DssContext' generated a value for the property 'DocumentView.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:48.230 +05:30 [DBG] The navigation 'DocumentView.Document' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:48.231 +05:30 [DBG] The navigation 'DocumentView.ViewedBy' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:48.231 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentView' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:48.231 +05:30 [DBG] SaveChanges starting for 'DssContext'.
2025-06-15 13:21:48.231 +05:30 [DBG] DetectChanges starting for 'DssContext'.
2025-06-15 13:21:48.231 +05:30 [DBG] DetectChanges completed for 'DssContext'.
2025-06-15 13:21:48.231 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:48.231 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:48.232 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:48.232 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:48.232 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:48.232 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 13:21:48.249 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 13:21:48.249 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:48.249 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:48.249 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:48.249 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:48.249 +05:30 [DBG] An entity of type 'DocumentView' tracked by 'DssContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:48.250 +05:30 [DBG] SaveChanges completed for 'DssContext' with 1 entities written to the database.
2025-06-15 13:21:48.250 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:48.250 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:48.250 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:48.250 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:48.250 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:48.250 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:21:48.251 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:21:48.251 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:48.251 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:48.251 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:48.251 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:48.251 +05:30 [INF] Fetched document with ID: "0197686f-6512-767c-8e7d-c893fdb41259"
2025-06-15 13:21:48.251 +05:30 [INF] Fetching user by ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 13:21:48.252 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:48.252 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:48.252 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:48.252 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:48.252 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:48.252 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:21:48.252 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:21:48.253 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:48.253 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:48.253 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:48.253 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:48.253 +05:30 [INF] Fetched user with ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 13:21:48.253 +05:30 [INF] Fetching user by ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 13:21:48.253 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:48.253 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:48.253 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:48.254 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:48.254 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:48.254 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:21:48.254 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:21:48.254 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:48.254 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:48.255 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:48.255 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:48.255 +05:30 [INF] Fetched user with ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 13:21:48.255 +05:30 [INF] Sending notification to group: arun@gmail.com
2025-06-15 13:21:48.255 +05:30 [INF] Executing FileContentResult, sending file with download name 'Coding.txt' ...
2025-06-15 13:21:48.255 +05:30 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2025-06-15 13:21:48.256 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 36.4723ms
2025-06-15 13:21:48.256 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:21:48.256 +05:30 [DBG] Connection id "0HNDBRS4TNMQJ" completed keep alive response.
2025-06-15 13:21:48.258 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 13:21:48.258 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:48.259 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:48.260 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - 200 5164 text/plain 42.4631ms
2025-06-15 13:21:49.373 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 13:21:49.373 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 13:21:49.373 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 13:21:49.373 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 13:21:49.373 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:21:49.374 +05:30 [DBG] Successfully validated the token.
2025-06-15 13:21:49.374 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 13:21:49.374 +05:30 [DBG] Authorization was successful.
2025-06-15 13:21:49.374 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:21:49.374 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 13:21:49.374 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 13:21:49.374 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 13:21:49.374 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 13:21:49.375 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 13:21:49.375 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 13:21:49.375 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 13:21:49.375 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 13:21:49.375 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 13:21:49.375 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 13:21:49.375 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 13:21:49.375 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 13:21:49.376 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 13:21:49.376 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 13:21:49.376 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 13:21:49.376 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 13:21:49.376 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 13:21:49.376 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 13:21:49.376 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 13:21:49.376 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 13:21:49.376 +05:30 [INF] Fetching user by email: arun@gmail.com
2025-06-15 13:21:49.377 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 13:21:49.377 +05:30 [DBG] Creating DbConnection.
2025-06-15 13:21:49.377 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 13:21:49.377 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:49.377 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:49.377 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:49.377 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:49.378 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:49.378 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 13:21:49.378 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 13:21:49.378 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:49.378 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:49.379 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:49.379 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:49.379 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:49.379 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:49.379 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 13:21:49.379 +05:30 [INF] User found for email: arun@gmail.com
2025-06-15 13:21:49.379 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:49.380 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:49.380 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:49.380 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:49.380 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:49.380 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 13:21:49.380 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 13:21:49.380 +05:30 [DBG] Context 'DssContext' started tracking 'UserDocument' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:49.381 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:49.381 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:49.381 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:49.381 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:49.381 +05:30 [INF] Fetched all documents Count: 1
2025-06-15 13:21:49.381 +05:30 [INF] Document Coding.txt fetched for uploader arun@gmail.com
2025-06-15 13:21:49.381 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:49.381 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:49.381 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:49.381 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:49.381 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:49.381 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 13:21:49.398 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 13:21:49.399 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentShare' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:49.399 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:49.399 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:49.399 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:49.399 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:49.399 +05:30 [INF] Fetched all document shares Count: 1
2025-06-15 13:21:49.399 +05:30 [DBG] 'DssContext' generated a value for the property 'DocumentView.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:49.399 +05:30 [DBG] The navigation 'DocumentView.Document' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:49.400 +05:30 [DBG] The navigation 'DocumentView.ViewedBy' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:49.400 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentView' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:49.400 +05:30 [DBG] SaveChanges starting for 'DssContext'.
2025-06-15 13:21:49.400 +05:30 [DBG] DetectChanges starting for 'DssContext'.
2025-06-15 13:21:49.400 +05:30 [DBG] DetectChanges completed for 'DssContext'.
2025-06-15 13:21:49.400 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:49.400 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:49.400 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:49.401 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:49.401 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:49.401 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 13:21:49.402 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 13:21:49.402 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:49.402 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:49.402 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:49.402 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:49.402 +05:30 [DBG] An entity of type 'DocumentView' tracked by 'DssContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:49.403 +05:30 [DBG] SaveChanges completed for 'DssContext' with 1 entities written to the database.
2025-06-15 13:21:49.403 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:49.403 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:49.403 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:49.403 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:49.404 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:49.404 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:21:49.404 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:21:49.405 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:49.405 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:49.405 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:49.405 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:49.405 +05:30 [INF] Fetched document with ID: "0197686f-6512-767c-8e7d-c893fdb41259"
2025-06-15 13:21:49.405 +05:30 [INF] Fetching user by ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 13:21:49.405 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:49.405 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:49.405 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:49.405 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:49.406 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:49.406 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:21:49.406 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:21:49.406 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:49.406 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:49.407 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:49.407 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:49.407 +05:30 [INF] Fetched user with ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 13:21:49.407 +05:30 [INF] Fetching user by ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 13:21:49.407 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:49.407 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:49.407 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:49.407 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:49.407 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:49.408 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:21:49.408 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:21:49.409 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:49.409 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:49.409 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:49.409 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:49.409 +05:30 [INF] Fetched user with ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 13:21:49.409 +05:30 [INF] Sending notification to group: arun@gmail.com
2025-06-15 13:21:49.409 +05:30 [INF] Executing FileContentResult, sending file with download name 'Coding.txt' ...
2025-06-15 13:21:49.410 +05:30 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2025-06-15 13:21:49.410 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 34.8812ms
2025-06-15 13:21:49.410 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:21:49.410 +05:30 [DBG] Connection id "0HNDBRS4TNMQJ" completed keep alive response.
2025-06-15 13:21:49.410 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 13:21:49.410 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:49.410 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:49.411 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - 200 5164 text/plain 37.5567ms
2025-06-15 13:21:50.430 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 13:21:50.430 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 13:21:50.430 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 13:21:50.430 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 13:21:50.430 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:21:50.430 +05:30 [DBG] Successfully validated the token.
2025-06-15 13:21:50.431 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 13:21:50.431 +05:30 [DBG] Authorization was successful.
2025-06-15 13:21:50.431 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:21:50.431 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 13:21:50.431 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 13:21:50.431 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 13:21:50.431 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 13:21:50.431 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 13:21:50.431 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 13:21:50.431 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 13:21:50.432 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 13:21:50.432 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 13:21:50.432 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 13:21:50.432 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 13:21:50.432 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 13:21:50.432 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 13:21:50.432 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 13:21:50.432 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 13:21:50.432 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 13:21:50.433 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 13:21:50.433 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 13:21:50.433 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 13:21:50.433 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 13:21:50.433 +05:30 [INF] Fetching user by email: arun@gmail.com
2025-06-15 13:21:50.433 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 13:21:50.433 +05:30 [DBG] Creating DbConnection.
2025-06-15 13:21:50.434 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 13:21:50.434 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:50.434 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:50.434 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:50.434 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:50.434 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:50.434 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 13:21:50.449 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 13:21:50.449 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:50.449 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:50.449 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:50.449 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:50.449 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:50.449 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:50.449 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 13:21:50.450 +05:30 [INF] User found for email: arun@gmail.com
2025-06-15 13:21:50.450 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:50.450 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:50.450 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:50.450 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:50.450 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:50.450 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 13:21:50.451 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 13:21:50.451 +05:30 [DBG] Context 'DssContext' started tracking 'UserDocument' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:50.451 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:50.451 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:50.451 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:50.451 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:50.451 +05:30 [INF] Fetched all documents Count: 1
2025-06-15 13:21:50.451 +05:30 [INF] Document Coding.txt fetched for uploader arun@gmail.com
2025-06-15 13:21:50.452 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:50.452 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:50.452 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:50.452 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:50.452 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:50.452 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 13:21:50.452 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 13:21:50.453 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentShare' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:50.453 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:50.453 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:50.453 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:50.453 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:50.453 +05:30 [INF] Fetched all document shares Count: 1
2025-06-15 13:21:50.453 +05:30 [DBG] 'DssContext' generated a value for the property 'DocumentView.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:50.453 +05:30 [DBG] The navigation 'DocumentView.Document' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:50.453 +05:30 [DBG] The navigation 'DocumentView.ViewedBy' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:50.454 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentView' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:50.454 +05:30 [DBG] SaveChanges starting for 'DssContext'.
2025-06-15 13:21:50.454 +05:30 [DBG] DetectChanges starting for 'DssContext'.
2025-06-15 13:21:50.454 +05:30 [DBG] DetectChanges completed for 'DssContext'.
2025-06-15 13:21:50.454 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:50.454 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:50.454 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:50.454 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:50.455 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:50.455 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 13:21:50.457 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 13:21:50.457 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:50.457 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:50.457 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:50.457 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:50.457 +05:30 [DBG] An entity of type 'DocumentView' tracked by 'DssContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:50.457 +05:30 [DBG] SaveChanges completed for 'DssContext' with 1 entities written to the database.
2025-06-15 13:21:50.458 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:50.458 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:50.458 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:50.458 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:50.458 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:50.458 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:21:50.459 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:21:50.459 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:50.459 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:50.459 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:50.459 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:50.459 +05:30 [INF] Fetched document with ID: "0197686f-6512-767c-8e7d-c893fdb41259"
2025-06-15 13:21:50.459 +05:30 [INF] Fetching user by ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 13:21:50.459 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:50.460 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:50.460 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:50.460 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:50.460 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:50.460 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:21:50.461 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:21:50.461 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:50.461 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:50.461 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:50.461 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:50.461 +05:30 [INF] Fetched user with ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 13:21:50.461 +05:30 [INF] Fetching user by ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 13:21:50.461 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:50.461 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:50.462 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:50.462 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:50.462 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:50.462 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:21:50.462 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:21:50.462 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:50.463 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:50.463 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:50.463 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:50.463 +05:30 [INF] Fetched user with ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 13:21:50.463 +05:30 [INF] Sending notification to group: arun@gmail.com
2025-06-15 13:21:50.463 +05:30 [INF] Executing FileContentResult, sending file with download name 'Coding.txt' ...
2025-06-15 13:21:50.463 +05:30 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2025-06-15 13:21:50.463 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 32.0769ms
2025-06-15 13:21:50.464 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:21:50.464 +05:30 [DBG] Connection id "0HNDBRS4TNMQJ" completed keep alive response.
2025-06-15 13:21:50.464 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 13:21:50.464 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:50.465 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:50.465 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - 200 5164 text/plain 35.2298ms
2025-06-15 13:21:51.233 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 13:21:51.234 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 13:21:51.234 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 13:21:51.234 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 13:21:51.234 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:21:51.234 +05:30 [DBG] Successfully validated the token.
2025-06-15 13:21:51.234 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 13:21:51.234 +05:30 [DBG] Authorization was successful.
2025-06-15 13:21:51.235 +05:30 [DBG] Rate limits exceeded, rejecting this request.
2025-06-15 13:21:51.235 +05:30 [DBG] Connection id "0HNDBRS4TNMQJ" completed keep alive response.
2025-06-15 13:21:51.235 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - 429 0 null 1.5425ms
2025-06-15 13:21:52.223 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 13:21:52.223 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 13:21:52.223 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 13:21:52.223 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 13:21:52.223 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:21:52.223 +05:30 [DBG] Successfully validated the token.
2025-06-15 13:21:52.223 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 13:21:52.224 +05:30 [DBG] Authorization was successful.
2025-06-15 13:21:52.224 +05:30 [DBG] Rate limits exceeded, rejecting this request.
2025-06-15 13:21:52.224 +05:30 [DBG] Connection id "0HNDBRS4TNMQJ" completed keep alive response.
2025-06-15 13:21:52.224 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - 429 0 null 1.149ms
2025-06-15 13:21:59.428 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 13:21:59.428 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 13:21:59.428 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 13:21:59.428 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 13:21:59.428 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:21:59.428 +05:30 [DBG] Successfully validated the token.
2025-06-15 13:21:59.428 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 13:21:59.429 +05:30 [DBG] Authorization was successful.
2025-06-15 13:21:59.429 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:21:59.429 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 13:21:59.429 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 13:21:59.429 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 13:21:59.429 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 13:21:59.429 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 13:21:59.429 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 13:21:59.429 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 13:21:59.430 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 13:21:59.430 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 13:21:59.430 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 13:21:59.430 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 13:21:59.430 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 13:21:59.430 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 13:21:59.430 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 13:21:59.430 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 13:21:59.430 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 13:21:59.430 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 13:21:59.430 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 13:21:59.430 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 13:21:59.431 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 13:21:59.431 +05:30 [INF] Fetching user by email: arun@gmail.com
2025-06-15 13:21:59.431 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 13:21:59.431 +05:30 [DBG] Creating DbConnection.
2025-06-15 13:21:59.431 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 13:21:59.431 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:59.431 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:59.432 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:59.432 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:59.432 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:59.432 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 13:21:59.449 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 13:21:59.449 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:59.449 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:59.449 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:59.449 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:59.449 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:59.450 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:59.450 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 13:21:59.450 +05:30 [INF] User found for email: arun@gmail.com
2025-06-15 13:21:59.450 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:59.450 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:59.450 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:59.450 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:59.450 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:59.450 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 13:21:59.451 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 13:21:59.451 +05:30 [DBG] Context 'DssContext' started tracking 'UserDocument' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:59.451 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:59.451 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:59.451 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:59.452 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:59.452 +05:30 [INF] Fetched all documents Count: 1
2025-06-15 13:21:59.452 +05:30 [INF] Document Coding.txt fetched for uploader arun@gmail.com
2025-06-15 13:21:59.452 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:59.452 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:59.452 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:59.452 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:59.452 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:59.452 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 13:21:59.453 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 13:21:59.453 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentShare' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:59.453 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:59.453 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:59.453 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:59.453 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:59.453 +05:30 [INF] Fetched all document shares Count: 1
2025-06-15 13:21:59.453 +05:30 [DBG] 'DssContext' generated a value for the property 'DocumentView.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:59.453 +05:30 [DBG] The navigation 'DocumentView.Document' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:59.453 +05:30 [DBG] The navigation 'DocumentView.ViewedBy' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:59.454 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentView' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:59.454 +05:30 [DBG] SaveChanges starting for 'DssContext'.
2025-06-15 13:21:59.454 +05:30 [DBG] DetectChanges starting for 'DssContext'.
2025-06-15 13:21:59.454 +05:30 [DBG] DetectChanges completed for 'DssContext'.
2025-06-15 13:21:59.454 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:59.454 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:59.454 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:59.454 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:59.455 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:59.455 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 13:21:59.456 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 13:21:59.456 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:59.456 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:59.456 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:59.457 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:59.457 +05:30 [DBG] An entity of type 'DocumentView' tracked by 'DssContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:21:59.457 +05:30 [DBG] SaveChanges completed for 'DssContext' with 1 entities written to the database.
2025-06-15 13:21:59.457 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:59.457 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:59.457 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:59.457 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:59.457 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:59.457 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:21:59.458 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:21:59.458 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:59.458 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:59.458 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:59.459 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:59.459 +05:30 [INF] Fetched document with ID: "0197686f-6512-767c-8e7d-c893fdb41259"
2025-06-15 13:21:59.459 +05:30 [INF] Fetching user by ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 13:21:59.459 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:59.459 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:59.459 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:59.459 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:59.459 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:59.459 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:21:59.460 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:21:59.460 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:59.460 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:59.461 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:59.461 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:59.461 +05:30 [INF] Fetched user with ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 13:21:59.461 +05:30 [INF] Fetching user by ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 13:21:59.461 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:59.461 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:59.461 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:21:59.461 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:59.461 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:21:59.462 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:21:59.462 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:21:59.462 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:59.462 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:21:59.462 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:59.462 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:59.462 +05:30 [INF] Fetched user with ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 13:21:59.462 +05:30 [INF] Sending notification to group: arun@gmail.com
2025-06-15 13:21:59.463 +05:30 [INF] Executing FileContentResult, sending file with download name 'Coding.txt' ...
2025-06-15 13:21:59.463 +05:30 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2025-06-15 13:21:59.463 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 33.5707ms
2025-06-15 13:21:59.463 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:21:59.463 +05:30 [DBG] Connection id "0HNDBRS4TNMQJ" completed keep alive response.
2025-06-15 13:21:59.463 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 13:21:59.463 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:21:59.463 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:21:59.464 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - 200 5164 text/plain 35.9543ms
2025-06-15 13:22:43.432 +05:30 [DBG] Waiting for the application to finish sending data.
2025-06-15 13:22:43.432 +05:30 [DBG] OnConnectedAsync ending.
2025-06-15 13:22:43.432 +05:30 [DBG] Socket closed.
2025-06-15 13:22:43.432 +05:30 [DBG] Removing connection DZ_dIJLm_OkGcZ8YLXuLrg from the list of connections.
2025-06-15 13:22:43.433 +05:30 [INF] Executed endpoint '/notificationhub'
2025-06-15 13:22:43.433 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/notificationhub?id=DZ_dIJLm_OkGcZ8YLXuLrg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIwMTk3Njg2ZS03YjFjLTcxMmYtODFmZC01ZDMzMTU4MzNhZGIiLCJlbWFpbCI6ImFydW5AZ21haWwuY29tIiwicm9sZSI6IkFkbWluIiwibmJmIjoxNzQ5OTczMDY0LCJleHAiOjE3NDk5NzM5NjQsImlhdCI6MTc0OTk3MzA2NH0.hw4lpgljolBkymE7zsgUYsoH7XJXSBTl5dHFDkXncpo - 101 null null 73805.4584ms
2025-06-15 13:22:43.433 +05:30 [DBG] Connection id "0HNDBRS4TNMQH" disconnecting.
2025-06-15 13:22:43.433 +05:30 [DBG] Connection id "0HNDBRS4TNMQH" received FIN.
2025-06-15 13:22:43.433 +05:30 [DBG] Connection id "0HNDBRS4TNMQH" stopped.
2025-06-15 13:22:43.433 +05:30 [DBG] Connection id "0HNDBRS4TNMQH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 13:22:54.601 +05:30 [DBG] Connection id "0HNDBRS4TNMQK" accepted.
2025-06-15 13:22:54.602 +05:30 [DBG] Connection id "0HNDBRS4TNMQK" started.
2025-06-15 13:22:54.602 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - null 0
2025-06-15 13:22:54.602 +05:30 [DBG] OPTIONS requests are not supported
2025-06-15 13:22:54.603 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub/negotiate'
2025-06-15 13:22:54.603 +05:30 [DBG] Request matched endpoint '/notificationhub/negotiate'
2025-06-15 13:22:54.603 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-15 13:22:54.603 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:22:54.603 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:22:54.603 +05:30 [DBG] The request is a preflight request.
2025-06-15 13:22:54.603 +05:30 [DBG] Connection id "0HNDBRS4TNMQK" completed keep alive response.
2025-06-15 13:22:54.603 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - 204 null null 1.2551ms
2025-06-15 13:22:54.605 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - null 0
2025-06-15 13:22:54.605 +05:30 [DBG] POST requests are not supported
2025-06-15 13:22:54.605 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub/negotiate'
2025-06-15 13:22:54.606 +05:30 [DBG] Request matched endpoint '/notificationhub/negotiate'
2025-06-15 13:22:54.606 +05:30 [DBG] Successfully validated the token.
2025-06-15 13:22:54.606 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 13:22:54.606 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:22:54.606 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:22:54.606 +05:30 [INF] Executing endpoint '/notificationhub/negotiate'
2025-06-15 13:22:54.606 +05:30 [DBG] New connection 3RXgIxpq_a5h4ta-9nFY4w created.
2025-06-15 13:22:54.607 +05:30 [DBG] Sending negotiation response.
2025-06-15 13:22:54.607 +05:30 [INF] Executed endpoint '/notificationhub/negotiate'
2025-06-15 13:22:54.607 +05:30 [DBG] Connection id "0HNDBRS4TNMQK" completed keep alive response.
2025-06-15 13:22:54.607 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - 200 316 application/json 2.0231ms
2025-06-15 13:22:54.612 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/notificationhub?id=jtVV_zaG20QXh7hkveBlVg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIwMTk3Njg2ZS03YjFjLTcxMmYtODFmZC01ZDMzMTU4MzNhZGIiLCJlbWFpbCI6ImFydW5AZ21haWwuY29tIiwicm9sZSI6IkFkbWluIiwibmJmIjoxNzQ5OTczMDY0LCJleHAiOjE3NDk5NzM5NjQsImlhdCI6MTc0OTk3MzA2NH0.hw4lpgljolBkymE7zsgUYsoH7XJXSBTl5dHFDkXncpo - null null
2025-06-15 13:22:54.612 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 13:22:54.612 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub'
2025-06-15 13:22:54.612 +05:30 [DBG] Request matched endpoint '/notificationhub'
2025-06-15 13:22:54.612 +05:30 [DBG] Successfully validated the token.
2025-06-15 13:22:54.612 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 13:22:54.613 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:22:54.613 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:22:54.613 +05:30 [INF] Executing endpoint '/notificationhub'
2025-06-15 13:22:54.613 +05:30 [DBG] Establishing new connection.
2025-06-15 13:22:54.613 +05:30 [DBG] OnConnectedAsync started.
2025-06-15 13:22:54.613 +05:30 [DBG] Socket opened using Sub-Protocol: 'null'.
2025-06-15 13:22:54.614 +05:30 [DBG] Found protocol implementation for requested protocol: json.
2025-06-15 13:22:54.615 +05:30 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2025-06-15 13:24:10.198 +05:30 [DBG] Connection id "0HNDBRS4TNMQJ" disconnecting.
2025-06-15 13:24:10.198 +05:30 [DBG] Connection id "0HNDBRS4TNMQJ" stopped.
2025-06-15 13:24:10.198 +05:30 [DBG] Connection id "0HNDBRS4TNMQJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 13:27:02.918 +05:30 [DBG] Waiting for the application to finish sending data.
2025-06-15 13:27:02.918 +05:30 [DBG] OnConnectedAsync ending.
2025-06-15 13:27:02.918 +05:30 [DBG] Socket closed.
2025-06-15 13:27:02.918 +05:30 [DBG] Removing connection jtVV_zaG20QXh7hkveBlVg from the list of connections.
2025-06-15 13:27:02.919 +05:30 [INF] Executed endpoint '/notificationhub'
2025-06-15 13:27:02.919 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/notificationhub?id=jtVV_zaG20QXh7hkveBlVg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIwMTk3Njg2ZS03YjFjLTcxMmYtODFmZC01ZDMzMTU4MzNhZGIiLCJlbWFpbCI6ImFydW5AZ21haWwuY29tIiwicm9sZSI6IkFkbWluIiwibmJmIjoxNzQ5OTczMDY0LCJleHAiOjE3NDk5NzM5NjQsImlhdCI6MTc0OTk3MzA2NH0.hw4lpgljolBkymE7zsgUYsoH7XJXSBTl5dHFDkXncpo - 101 null null 248307.7666ms
2025-06-15 13:27:02.919 +05:30 [DBG] Connection id "0HNDBRS4TNMQK" disconnecting.
2025-06-15 13:27:02.919 +05:30 [DBG] Connection id "0HNDBRS4TNMQK" received FIN.
2025-06-15 13:27:02.919 +05:30 [DBG] Connection id "0HNDBRS4TNMQK" stopped.
2025-06-15 13:27:02.919 +05:30 [DBG] Connection id "0HNDBRS4TNMQK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 13:27:06.165 +05:30 [DBG] Connection id "0HNDBRS4TNMQL" accepted.
2025-06-15 13:27:06.166 +05:30 [DBG] Connection id "0HNDBRS4TNMQL" started.
2025-06-15 13:27:06.167 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - null 0
2025-06-15 13:27:06.167 +05:30 [DBG] OPTIONS requests are not supported
2025-06-15 13:27:06.167 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub/negotiate'
2025-06-15 13:27:06.167 +05:30 [DBG] Request matched endpoint '/notificationhub/negotiate'
2025-06-15 13:27:06.167 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-15 13:27:06.168 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:27:06.168 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:27:06.168 +05:30 [DBG] The request is a preflight request.
2025-06-15 13:27:06.168 +05:30 [DBG] Connection id "0HNDBRS4TNMQL" completed keep alive response.
2025-06-15 13:27:06.168 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - 204 null null 1.6353ms
2025-06-15 13:27:06.170 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - null 0
2025-06-15 13:27:06.170 +05:30 [DBG] POST requests are not supported
2025-06-15 13:27:06.170 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub/negotiate'
2025-06-15 13:27:06.170 +05:30 [DBG] Request matched endpoint '/notificationhub/negotiate'
2025-06-15 13:27:06.171 +05:30 [DBG] Successfully validated the token.
2025-06-15 13:27:06.171 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 13:27:06.171 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:27:06.171 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:27:06.171 +05:30 [INF] Executing endpoint '/notificationhub/negotiate'
2025-06-15 13:27:06.172 +05:30 [DBG] New connection utsTslBeYN2VTXSH5s_QWw created.
2025-06-15 13:27:06.172 +05:30 [DBG] Sending negotiation response.
2025-06-15 13:27:06.172 +05:30 [INF] Executed endpoint '/notificationhub/negotiate'
2025-06-15 13:27:06.172 +05:30 [DBG] Connection id "0HNDBRS4TNMQL" completed keep alive response.
2025-06-15 13:27:06.172 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - 200 316 application/json 2.2874ms
2025-06-15 13:27:06.178 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/notificationhub?id=kh8strs_jxRAZsUjDVMQxQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIwMTk3Njg2ZS03YjFjLTcxMmYtODFmZC01ZDMzMTU4MzNhZGIiLCJlbWFpbCI6ImFydW5AZ21haWwuY29tIiwicm9sZSI6IkFkbWluIiwibmJmIjoxNzQ5OTczMDY0LCJleHAiOjE3NDk5NzM5NjQsImlhdCI6MTc0OTk3MzA2NH0.hw4lpgljolBkymE7zsgUYsoH7XJXSBTl5dHFDkXncpo - null null
2025-06-15 13:27:06.178 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 13:27:06.178 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub'
2025-06-15 13:27:06.179 +05:30 [DBG] Request matched endpoint '/notificationhub'
2025-06-15 13:27:06.179 +05:30 [DBG] Successfully validated the token.
2025-06-15 13:27:06.179 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 13:27:06.179 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:27:06.179 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:27:06.179 +05:30 [INF] Executing endpoint '/notificationhub'
2025-06-15 13:27:06.179 +05:30 [DBG] Establishing new connection.
2025-06-15 13:27:06.179 +05:30 [DBG] OnConnectedAsync started.
2025-06-15 13:27:06.179 +05:30 [DBG] Socket opened using Sub-Protocol: 'null'.
2025-06-15 13:27:06.181 +05:30 [DBG] Found protocol implementation for requested protocol: json.
2025-06-15 13:27:06.181 +05:30 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2025-06-15 13:27:15.811 +05:30 [DBG] Connection id "0HNDBRS4TNMQM" accepted.
2025-06-15 13:27:15.811 +05:30 [DBG] Connection id "0HNDBRS4TNMQM" received FIN.
2025-06-15 13:27:15.811 +05:30 [DBG] Connection id "0HNDBRS4TNMQM" started.
2025-06-15 13:27:15.811 +05:30 [DBG] Connection id "0HNDBRS4TNMQN" accepted.
2025-06-15 13:27:15.811 +05:30 [DBG] Connection id "0HNDBRS4TNMQM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 13:27:15.811 +05:30 [DBG] Connection id "0HNDBRS4TNMQN" started.
2025-06-15 13:27:15.811 +05:30 [DBG] Connection id "0HNDBRS4TNMQM" disconnecting.
2025-06-15 13:27:15.812 +05:30 [DBG] Connection id "0HNDBRS4TNMQM" stopped.
2025-06-15 13:27:15.812 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 13:27:15.812 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 13:27:15.812 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 13:27:15.812 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 13:27:15.812 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:27:15.813 +05:30 [DBG] Successfully validated the token.
2025-06-15 13:27:15.813 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 13:27:15.813 +05:30 [DBG] Authorization was successful.
2025-06-15 13:27:15.813 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:27:15.813 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 13:27:15.813 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 13:27:15.813 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 13:27:15.813 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 13:27:15.813 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 13:27:15.813 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 13:27:15.813 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 13:27:15.814 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 13:27:15.814 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 13:27:15.814 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 13:27:15.814 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 13:27:15.814 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 13:27:15.814 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 13:27:15.814 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 13:27:15.814 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 13:27:15.814 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 13:27:15.814 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 13:27:15.814 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 13:27:15.814 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 13:27:15.815 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 13:27:15.815 +05:30 [INF] Fetching user by email: arun@gmail.com
2025-06-15 13:27:15.815 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 13:27:15.815 +05:30 [DBG] Creating DbConnection.
2025-06-15 13:27:15.815 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 13:27:15.815 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:27:15.835 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:27:15.835 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:27:15.835 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:27:15.835 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:27:15.835 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 13:27:15.837 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 13:27:15.837 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:27:15.837 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:27:15.837 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:27:15.837 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:27:15.837 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:27:15.838 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:27:15.838 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 13:27:15.838 +05:30 [INF] User found for email: arun@gmail.com
2025-06-15 13:27:15.838 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:27:15.838 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:27:15.838 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:27:15.838 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:27:15.838 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:27:15.838 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 13:27:15.839 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 13:27:15.839 +05:30 [DBG] Context 'DssContext' started tracking 'UserDocument' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:27:15.839 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:27:15.839 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:27:15.839 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:27:15.840 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:27:15.840 +05:30 [INF] Fetched all documents Count: 1
2025-06-15 13:27:15.840 +05:30 [INF] Document Coding.txt fetched for uploader arun@gmail.com
2025-06-15 13:27:15.840 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:27:15.840 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:27:15.840 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:27:15.840 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:27:15.840 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:27:15.840 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 13:27:15.841 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 13:27:15.841 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentShare' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:27:15.841 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:27:15.841 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:27:15.841 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:27:15.842 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:27:15.842 +05:30 [INF] Fetched all document shares Count: 1
2025-06-15 13:27:15.842 +05:30 [DBG] 'DssContext' generated a value for the property 'DocumentView.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:27:15.842 +05:30 [DBG] The navigation 'DocumentView.Document' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:27:15.842 +05:30 [DBG] The navigation 'DocumentView.ViewedBy' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:27:15.842 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentView' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:27:15.842 +05:30 [DBG] SaveChanges starting for 'DssContext'.
2025-06-15 13:27:15.842 +05:30 [DBG] DetectChanges starting for 'DssContext'.
2025-06-15 13:27:15.842 +05:30 [DBG] DetectChanges completed for 'DssContext'.
2025-06-15 13:27:15.843 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:27:15.843 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:27:15.843 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:27:15.843 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:27:15.843 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:27:15.843 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 13:27:15.845 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 13:27:15.845 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:27:15.845 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:27:15.845 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:27:15.845 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:27:15.846 +05:30 [DBG] An entity of type 'DocumentView' tracked by 'DssContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:27:15.846 +05:30 [DBG] SaveChanges completed for 'DssContext' with 1 entities written to the database.
2025-06-15 13:27:15.846 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:27:15.846 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:27:15.846 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:27:15.846 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:27:15.846 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:27:15.846 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:27:15.847 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:27:15.847 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:27:15.847 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:27:15.847 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:27:15.847 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:27:15.847 +05:30 [INF] Fetched document with ID: "0197686f-6512-767c-8e7d-c893fdb41259"
2025-06-15 13:27:15.848 +05:30 [INF] Fetching user by ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 13:27:15.848 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:27:15.848 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:27:15.848 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:27:15.848 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:27:15.848 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:27:15.848 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:27:15.849 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:27:15.849 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:27:15.849 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:27:15.849 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:27:15.849 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:27:15.849 +05:30 [INF] Fetched user with ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 13:27:15.849 +05:30 [INF] Fetching user by ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 13:27:15.849 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:27:15.849 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:27:15.849 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:27:15.849 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:27:15.850 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:27:15.850 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:27:15.850 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:27:15.850 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:27:15.850 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:27:15.851 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:27:15.851 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:27:15.851 +05:30 [INF] Fetched user with ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 13:27:15.851 +05:30 [INF] Sending notification to group: arun@gmail.com
2025-06-15 13:27:15.851 +05:30 [INF] Executing FileContentResult, sending file with download name 'Coding.txt' ...
2025-06-15 13:27:15.851 +05:30 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2025-06-15 13:27:15.852 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 38.1539ms
2025-06-15 13:27:15.852 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:27:15.852 +05:30 [DBG] Connection id "0HNDBRS4TNMQN" completed keep alive response.
2025-06-15 13:27:15.853 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 13:27:15.853 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:27:15.853 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:27:15.854 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - 200 5164 text/plain 41.9012ms
2025-06-15 13:27:23.131 +05:30 [DBG] Waiting for the application to finish sending data.
2025-06-15 13:27:23.132 +05:30 [DBG] Socket closed.
2025-06-15 13:27:23.132 +05:30 [DBG] OnConnectedAsync ending.
2025-06-15 13:27:23.132 +05:30 [DBG] Removing connection kh8strs_jxRAZsUjDVMQxQ from the list of connections.
2025-06-15 13:27:23.132 +05:30 [INF] Executed endpoint '/notificationhub'
2025-06-15 13:27:23.132 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/notificationhub?id=kh8strs_jxRAZsUjDVMQxQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIwMTk3Njg2ZS03YjFjLTcxMmYtODFmZC01ZDMzMTU4MzNhZGIiLCJlbWFpbCI6ImFydW5AZ21haWwuY29tIiwicm9sZSI6IkFkbWluIiwibmJmIjoxNzQ5OTczMDY0LCJleHAiOjE3NDk5NzM5NjQsImlhdCI6MTc0OTk3MzA2NH0.hw4lpgljolBkymE7zsgUYsoH7XJXSBTl5dHFDkXncpo - 101 null null 16976.7769ms
2025-06-15 13:27:23.132 +05:30 [DBG] Connection id "0HNDBRS4TNMQL" disconnecting.
2025-06-15 13:27:23.132 +05:30 [DBG] Connection id "0HNDBRS4TNMQL" stopped.
2025-06-15 13:27:23.132 +05:30 [DBG] Connection id "0HNDBRS4TNMQL" received FIN.
2025-06-15 13:27:23.132 +05:30 [DBG] Connection id "0HNDBRS4TNMQL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 13:27:30.285 +05:30 [DBG] Connection id "0HNDBRS4TNMQO" accepted.
2025-06-15 13:27:30.286 +05:30 [DBG] Connection id "0HNDBRS4TNMQO" started.
2025-06-15 13:27:30.286 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - null 0
2025-06-15 13:27:30.286 +05:30 [DBG] OPTIONS requests are not supported
2025-06-15 13:27:30.286 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub/negotiate'
2025-06-15 13:27:30.286 +05:30 [DBG] Request matched endpoint '/notificationhub/negotiate'
2025-06-15 13:27:30.286 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-15 13:27:30.287 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:27:30.287 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:27:30.287 +05:30 [DBG] The request is a preflight request.
2025-06-15 13:27:30.287 +05:30 [DBG] Connection id "0HNDBRS4TNMQO" completed keep alive response.
2025-06-15 13:27:30.287 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - 204 null null 0.8564ms
2025-06-15 13:27:30.289 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - null 0
2025-06-15 13:27:30.289 +05:30 [DBG] POST requests are not supported
2025-06-15 13:27:30.289 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub/negotiate'
2025-06-15 13:27:30.289 +05:30 [DBG] Request matched endpoint '/notificationhub/negotiate'
2025-06-15 13:27:30.289 +05:30 [DBG] Successfully validated the token.
2025-06-15 13:27:30.290 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 13:27:30.290 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:27:30.290 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:27:30.290 +05:30 [INF] Executing endpoint '/notificationhub/negotiate'
2025-06-15 13:27:30.290 +05:30 [DBG] New connection lXybyPcVFPoocmiDSeOWvQ created.
2025-06-15 13:27:30.290 +05:30 [DBG] Sending negotiation response.
2025-06-15 13:27:30.290 +05:30 [INF] Executed endpoint '/notificationhub/negotiate'
2025-06-15 13:27:30.290 +05:30 [DBG] Connection id "0HNDBRS4TNMQO" completed keep alive response.
2025-06-15 13:27:30.290 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - 200 316 application/json 1.7232ms
2025-06-15 13:27:30.295 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/notificationhub?id=4iwXd57Hpz5YS6WXpb60GQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIwMTk3Njg2ZS03YjFjLTcxMmYtODFmZC01ZDMzMTU4MzNhZGIiLCJlbWFpbCI6ImFydW5AZ21haWwuY29tIiwicm9sZSI6IkFkbWluIiwibmJmIjoxNzQ5OTczMDY0LCJleHAiOjE3NDk5NzM5NjQsImlhdCI6MTc0OTk3MzA2NH0.hw4lpgljolBkymE7zsgUYsoH7XJXSBTl5dHFDkXncpo - null null
2025-06-15 13:27:30.295 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 13:27:30.295 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub'
2025-06-15 13:27:30.295 +05:30 [DBG] Request matched endpoint '/notificationhub'
2025-06-15 13:27:30.296 +05:30 [DBG] Successfully validated the token.
2025-06-15 13:27:30.296 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 13:27:30.296 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:27:30.296 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:27:30.296 +05:30 [INF] Executing endpoint '/notificationhub'
2025-06-15 13:27:30.296 +05:30 [DBG] Establishing new connection.
2025-06-15 13:27:30.296 +05:30 [DBG] OnConnectedAsync started.
2025-06-15 13:27:30.296 +05:30 [DBG] Socket opened using Sub-Protocol: 'null'.
2025-06-15 13:27:30.299 +05:30 [DBG] Found protocol implementation for requested protocol: json.
2025-06-15 13:27:30.299 +05:30 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2025-06-15 13:29:18.424 +05:30 [DBG] Waiting for the application to finish sending data.
2025-06-15 13:29:18.425 +05:30 [DBG] OnConnectedAsync ending.
2025-06-15 13:29:18.425 +05:30 [DBG] Socket closed.
2025-06-15 13:29:18.426 +05:30 [DBG] Removing connection 4iwXd57Hpz5YS6WXpb60GQ from the list of connections.
2025-06-15 13:29:18.426 +05:30 [INF] Executed endpoint '/notificationhub'
2025-06-15 13:29:18.426 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/notificationhub?id=4iwXd57Hpz5YS6WXpb60GQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIwMTk3Njg2ZS03YjFjLTcxMmYtODFmZC01ZDMzMTU4MzNhZGIiLCJlbWFpbCI6ImFydW5AZ21haWwuY29tIiwicm9sZSI6IkFkbWluIiwibmJmIjoxNzQ5OTczMDY0LCJleHAiOjE3NDk5NzM5NjQsImlhdCI6MTc0OTk3MzA2NH0.hw4lpgljolBkymE7zsgUYsoH7XJXSBTl5dHFDkXncpo - 101 null null 108138.0344ms
2025-06-15 13:29:18.427 +05:30 [DBG] Connection id "0HNDBRS4TNMQO" disconnecting.
2025-06-15 13:29:18.427 +05:30 [DBG] Connection id "0HNDBRS4TNMQO" received FIN.
2025-06-15 13:29:18.427 +05:30 [DBG] Connection id "0HNDBRS4TNMQO" stopped.
2025-06-15 13:29:18.427 +05:30 [DBG] Connection id "0HNDBRS4TNMQO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 13:29:20.768 +05:30 [DBG] Connection id "0HNDBRS4TNMQP" accepted.
2025-06-15 13:29:20.768 +05:30 [DBG] Connection id "0HNDBRS4TNMQP" started.
2025-06-15 13:29:20.769 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - null 0
2025-06-15 13:29:20.769 +05:30 [DBG] OPTIONS requests are not supported
2025-06-15 13:29:20.770 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub/negotiate'
2025-06-15 13:29:20.770 +05:30 [DBG] Request matched endpoint '/notificationhub/negotiate'
2025-06-15 13:29:20.770 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-15 13:29:20.770 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:29:20.770 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:29:20.770 +05:30 [DBG] The request is a preflight request.
2025-06-15 13:29:20.770 +05:30 [DBG] Connection id "0HNDBRS4TNMQP" completed keep alive response.
2025-06-15 13:29:20.770 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - 204 null null 1.1978ms
2025-06-15 13:29:20.772 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - null 0
2025-06-15 13:29:20.772 +05:30 [DBG] POST requests are not supported
2025-06-15 13:29:20.772 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub/negotiate'
2025-06-15 13:29:20.772 +05:30 [DBG] Request matched endpoint '/notificationhub/negotiate'
2025-06-15 13:29:20.773 +05:30 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-06-15 13:29:20.774 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-06-15 13:29:20.774 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:29:20.774 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:29:20.775 +05:30 [INF] Executing endpoint '/notificationhub/negotiate'
2025-06-15 13:29:20.775 +05:30 [DBG] New connection KnTYlqrmtUW3tX0-i6rNpw created.
2025-06-15 13:29:20.775 +05:30 [DBG] Sending negotiation response.
2025-06-15 13:29:20.776 +05:30 [INF] Executed endpoint '/notificationhub/negotiate'
2025-06-15 13:29:20.776 +05:30 [DBG] Connection id "0HNDBRS4TNMQP" completed keep alive response.
2025-06-15 13:29:20.776 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - 200 316 application/json 3.8637ms
2025-06-15 13:29:20.780 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/notificationhub?id=waibk_zE_bO0gO_lZMI4pA&access_token=background-color%3A%20%23f1f5f9%3B%20%2F*%20light%20slate%20*%2F%20%20%20%20%20border-left%3A%204px%20solid%20%233b82f6%3B%20%2F*%20blue-500%20*%2F%20%20%20%20%20padding%3A%2012px%2016px%3B%20%20%20%20%20margin-bottom%3A%2010px%3B%20%20%20%20%20border-radius%3A%206px%3B%20%20%20%20%20font-family%3A%20%27Segoe%20UI%27%2C%20sans-serif%3B%20%20%20%20%20box-shadow%3A%200%202px%204px%20rgba(0%2C0%2C0%2C0.05)%3B%20%20%20%20%20transition%3A%20transform%200.2s%20ease%3B - null null
2025-06-15 13:29:20.780 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 13:29:20.780 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub'
2025-06-15 13:29:20.781 +05:30 [DBG] Request matched endpoint '/notificationhub'
2025-06-15 13:29:20.781 +05:30 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-06-15 13:29:20.781 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-06-15 13:29:20.781 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:29:20.781 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:29:20.782 +05:30 [INF] Executing endpoint '/notificationhub'
2025-06-15 13:29:20.782 +05:30 [DBG] Establishing new connection.
2025-06-15 13:29:20.782 +05:30 [DBG] OnConnectedAsync started.
2025-06-15 13:29:20.782 +05:30 [DBG] Socket opened using Sub-Protocol: 'null'.
2025-06-15 13:29:20.784 +05:30 [DBG] Found protocol implementation for requested protocol: json.
2025-06-15 13:29:20.784 +05:30 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2025-06-15 13:29:23.387 +05:30 [DBG] Waiting for the application to finish sending data.
2025-06-15 13:29:23.387 +05:30 [DBG] OnConnectedAsync ending.
2025-06-15 13:29:23.387 +05:30 [DBG] Socket closed.
2025-06-15 13:29:23.387 +05:30 [DBG] Removing connection waibk_zE_bO0gO_lZMI4pA from the list of connections.
2025-06-15 13:29:23.387 +05:30 [INF] Executed endpoint '/notificationhub'
2025-06-15 13:29:23.388 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/notificationhub?id=waibk_zE_bO0gO_lZMI4pA&access_token=background-color%3A%20%23f1f5f9%3B%20%2F*%20light%20slate%20*%2F%20%20%20%20%20border-left%3A%204px%20solid%20%233b82f6%3B%20%2F*%20blue-500%20*%2F%20%20%20%20%20padding%3A%2012px%2016px%3B%20%20%20%20%20margin-bottom%3A%2010px%3B%20%20%20%20%20border-radius%3A%206px%3B%20%20%20%20%20font-family%3A%20%27Segoe%20UI%27%2C%20sans-serif%3B%20%20%20%20%20box-shadow%3A%200%202px%204px%20rgba(0%2C0%2C0%2C0.05)%3B%20%20%20%20%20transition%3A%20transform%200.2s%20ease%3B - 101 null null 2607.4305ms
2025-06-15 13:29:23.388 +05:30 [DBG] Connection id "0HNDBRS4TNMQP" disconnecting.
2025-06-15 13:29:23.388 +05:30 [DBG] Connection id "0HNDBRS4TNMQP" stopped.
2025-06-15 13:29:23.388 +05:30 [DBG] Connection id "0HNDBRS4TNMQP" received FIN.
2025-06-15 13:29:23.388 +05:30 [DBG] Connection id "0HNDBRS4TNMQP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 13:29:27.364 +05:30 [DBG] Connection id "0HNDBRS4TNMQN" disconnecting.
2025-06-15 13:29:27.364 +05:30 [DBG] Connection id "0HNDBRS4TNMQN" stopped.
2025-06-15 13:29:27.364 +05:30 [DBG] Connection id "0HNDBRS4TNMQN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 13:29:28.420 +05:30 [DBG] Connection id "0HNDBRS4TNMQQ" accepted.
2025-06-15 13:29:28.420 +05:30 [DBG] Connection id "0HNDBRS4TNMQQ" started.
2025-06-15 13:29:28.421 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - null 0
2025-06-15 13:29:28.421 +05:30 [DBG] OPTIONS requests are not supported
2025-06-15 13:29:28.421 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub/negotiate'
2025-06-15 13:29:28.421 +05:30 [DBG] Request matched endpoint '/notificationhub/negotiate'
2025-06-15 13:29:28.422 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-15 13:29:28.422 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:29:28.422 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:29:28.422 +05:30 [DBG] The request is a preflight request.
2025-06-15 13:29:28.422 +05:30 [DBG] Connection id "0HNDBRS4TNMQQ" completed keep alive response.
2025-06-15 13:29:28.422 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - 204 null null 0.8436ms
2025-06-15 13:29:28.424 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - null 0
2025-06-15 13:29:28.424 +05:30 [DBG] POST requests are not supported
2025-06-15 13:29:28.424 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub/negotiate'
2025-06-15 13:29:28.424 +05:30 [DBG] Request matched endpoint '/notificationhub/negotiate'
2025-06-15 13:29:28.424 +05:30 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-06-15 13:29:28.425 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-06-15 13:29:28.425 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:29:28.425 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:29:28.426 +05:30 [INF] Executing endpoint '/notificationhub/negotiate'
2025-06-15 13:29:28.426 +05:30 [DBG] New connection SnJVlC-wioxQIma9D6NxtA created.
2025-06-15 13:29:28.426 +05:30 [DBG] Sending negotiation response.
2025-06-15 13:29:28.426 +05:30 [INF] Executed endpoint '/notificationhub/negotiate'
2025-06-15 13:29:28.426 +05:30 [DBG] Connection id "0HNDBRS4TNMQQ" completed keep alive response.
2025-06-15 13:29:28.426 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - 200 316 application/json 2.3739ms
2025-06-15 13:29:28.430 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/notificationhub?id=_L2RDMG37fjEGi1YLginlg&access_token=background-color%3A%20%23f1f5f9%3B%20%2F*%20light%20slate%20*%2F%20%20%20%20%20border-left%3A%204px%20solid%20%233b82f6%3B%20%2F*%20blue-500%20*%2F%20%20%20%20%20padding%3A%2012px%2016px%3B%20%20%20%20%20margin-bottom%3A%2010px%3B%20%20%20%20%20border-radius%3A%206px%3B%20%20%20%20%20font-family%3A%20%27Segoe%20UI%27%2C%20sans-serif%3B%20%20%20%20%20box-shadow%3A%200%202px%204px%20rgba(0%2C0%2C0%2C0.05)%3B%20%20%20%20%20transition%3A%20transform%200.2s%20ease%3B - null null
2025-06-15 13:29:28.430 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 13:29:28.430 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub'
2025-06-15 13:29:28.430 +05:30 [DBG] Request matched endpoint '/notificationhub'
2025-06-15 13:29:28.431 +05:30 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-06-15 13:29:28.431 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-06-15 13:29:28.431 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:29:28.431 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:29:28.431 +05:30 [DBG] Rate limits exceeded, rejecting this request.
2025-06-15 13:29:28.432 +05:30 [DBG] Connection id "0HNDBRS4TNMQQ" completed keep alive response.
2025-06-15 13:29:28.432 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/notificationhub?id=_L2RDMG37fjEGi1YLginlg&access_token=background-color%3A%20%23f1f5f9%3B%20%2F*%20light%20slate%20*%2F%20%20%20%20%20border-left%3A%204px%20solid%20%233b82f6%3B%20%2F*%20blue-500%20*%2F%20%20%20%20%20padding%3A%2012px%2016px%3B%20%20%20%20%20margin-bottom%3A%2010px%3B%20%20%20%20%20border-radius%3A%206px%3B%20%20%20%20%20font-family%3A%20%27Segoe%20UI%27%2C%20sans-serif%3B%20%20%20%20%20box-shadow%3A%200%202px%204px%20rgba(0%2C0%2C0%2C0.05)%3B%20%20%20%20%20transition%3A%20transform%200.2s%20ease%3B - 429 0 null 1.7275ms
2025-06-15 13:29:28.466 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - null 0
2025-06-15 13:29:28.466 +05:30 [DBG] POST requests are not supported
2025-06-15 13:29:28.466 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub/negotiate'
2025-06-15 13:29:28.466 +05:30 [DBG] Request matched endpoint '/notificationhub/negotiate'
2025-06-15 13:29:28.466 +05:30 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-06-15 13:29:28.466 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-06-15 13:29:28.467 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:29:28.467 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:29:28.467 +05:30 [DBG] Rate limits exceeded, rejecting this request.
2025-06-15 13:29:28.467 +05:30 [DBG] Connection id "0HNDBRS4TNMQQ" completed keep alive response.
2025-06-15 13:29:28.467 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - 429 0 null 1.5011ms
2025-06-15 13:29:41.738 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - null 0
2025-06-15 13:29:41.738 +05:30 [DBG] OPTIONS requests are not supported
2025-06-15 13:29:41.738 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub/negotiate'
2025-06-15 13:29:41.739 +05:30 [DBG] Request matched endpoint '/notificationhub/negotiate'
2025-06-15 13:29:41.739 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-15 13:29:41.739 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:29:41.739 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:29:41.739 +05:30 [DBG] The request is a preflight request.
2025-06-15 13:29:41.739 +05:30 [DBG] Connection id "0HNDBRS4TNMQQ" completed keep alive response.
2025-06-15 13:29:41.739 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - 204 null null 1.1289ms
2025-06-15 13:29:41.741 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - null 0
2025-06-15 13:29:41.741 +05:30 [DBG] POST requests are not supported
2025-06-15 13:29:41.741 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub/negotiate'
2025-06-15 13:29:41.741 +05:30 [DBG] Request matched endpoint '/notificationhub/negotiate'
2025-06-15 13:29:41.741 +05:30 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-06-15 13:29:41.742 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-06-15 13:29:41.742 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:29:41.742 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:29:41.742 +05:30 [INF] Executing endpoint '/notificationhub/negotiate'
2025-06-15 13:29:41.742 +05:30 [DBG] New connection k5k6lIfqnb1mIzGpJT_vIQ created.
2025-06-15 13:29:41.742 +05:30 [DBG] Sending negotiation response.
2025-06-15 13:29:41.742 +05:30 [INF] Executed endpoint '/notificationhub/negotiate'
2025-06-15 13:29:41.742 +05:30 [DBG] Connection id "0HNDBRS4TNMQQ" completed keep alive response.
2025-06-15 13:29:41.742 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - 200 316 application/json 1.4673ms
2025-06-15 13:29:41.745 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/notificationhub?id=4D05JwLOLwTtVNCTlElP2A&access_token=background-color%3A%20%23f1f5f9%3B%20%2F*%20light%20slate%20*%2F%20%20%20%20%20border-left%3A%204px%20solid%20%233b82f6%3B%20%2F*%20blue-500%20*%2F%20%20%20%20%20padding%3A%2012px%2016px%3B%20%20%20%20%20margin-bottom%3A%2010px%3B%20%20%20%20%20border-radius%3A%206px%3B%20%20%20%20%20font-family%3A%20%27Segoe%20UI%27%2C%20sans-serif%3B%20%20%20%20%20box-shadow%3A%200%202px%204px%20rgba(0%2C0%2C0%2C0.05)%3B%20%20%20%20%20transition%3A%20transform%200.2s%20ease%3B - null null
2025-06-15 13:29:41.745 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 13:29:41.745 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub'
2025-06-15 13:29:41.745 +05:30 [DBG] Request matched endpoint '/notificationhub'
2025-06-15 13:29:41.746 +05:30 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-06-15 13:29:41.746 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-06-15 13:29:41.746 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:29:41.746 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:29:41.746 +05:30 [INF] Executing endpoint '/notificationhub'
2025-06-15 13:29:41.746 +05:30 [DBG] Establishing new connection.
2025-06-15 13:29:41.746 +05:30 [DBG] OnConnectedAsync started.
2025-06-15 13:29:41.747 +05:30 [DBG] Socket opened using Sub-Protocol: 'null'.
2025-06-15 13:29:41.748 +05:30 [DBG] Found protocol implementation for requested protocol: json.
2025-06-15 13:29:41.748 +05:30 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2025-06-15 13:29:43.870 +05:30 [DBG] Removing connection _L2RDMG37fjEGi1YLginlg from the list of connections.
2025-06-15 13:30:34.015 +05:30 [DBG] Waiting for the application to finish sending data.
2025-06-15 13:30:34.015 +05:30 [DBG] Socket closed.
2025-06-15 13:30:34.015 +05:30 [DBG] OnConnectedAsync ending.
2025-06-15 13:30:34.015 +05:30 [DBG] Removing connection 4D05JwLOLwTtVNCTlElP2A from the list of connections.
2025-06-15 13:30:34.015 +05:30 [INF] Executed endpoint '/notificationhub'
2025-06-15 13:30:34.015 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/notificationhub?id=4D05JwLOLwTtVNCTlElP2A&access_token=background-color%3A%20%23f1f5f9%3B%20%2F*%20light%20slate%20*%2F%20%20%20%20%20border-left%3A%204px%20solid%20%233b82f6%3B%20%2F*%20blue-500%20*%2F%20%20%20%20%20padding%3A%2012px%2016px%3B%20%20%20%20%20margin-bottom%3A%2010px%3B%20%20%20%20%20border-radius%3A%206px%3B%20%20%20%20%20font-family%3A%20%27Segoe%20UI%27%2C%20sans-serif%3B%20%20%20%20%20box-shadow%3A%200%202px%204px%20rgba(0%2C0%2C0%2C0.05)%3B%20%20%20%20%20transition%3A%20transform%200.2s%20ease%3B - 101 null null 52270.6076ms
2025-06-15 13:30:34.016 +05:30 [DBG] Connection id "0HNDBRS4TNMQQ" disconnecting.
2025-06-15 13:30:34.016 +05:30 [DBG] Connection id "0HNDBRS4TNMQQ" stopped.
2025-06-15 13:30:34.016 +05:30 [DBG] Connection id "0HNDBRS4TNMQQ" received FIN.
2025-06-15 13:30:34.016 +05:30 [DBG] Connection id "0HNDBRS4TNMQQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 13:30:36.224 +05:30 [DBG] Connection id "0HNDBRS4TNMQR" accepted.
2025-06-15 13:30:36.224 +05:30 [DBG] Connection id "0HNDBRS4TNMQR" started.
2025-06-15 13:30:36.225 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - null 0
2025-06-15 13:30:36.226 +05:30 [DBG] OPTIONS requests are not supported
2025-06-15 13:30:36.226 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub/negotiate'
2025-06-15 13:30:36.226 +05:30 [DBG] Request matched endpoint '/notificationhub/negotiate'
2025-06-15 13:30:36.226 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-15 13:30:36.226 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:30:36.226 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:30:36.226 +05:30 [DBG] The request is a preflight request.
2025-06-15 13:30:36.226 +05:30 [DBG] Connection id "0HNDBRS4TNMQR" completed keep alive response.
2025-06-15 13:30:36.226 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - 204 null null 0.9524ms
2025-06-15 13:30:36.228 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - null 0
2025-06-15 13:30:36.228 +05:30 [DBG] POST requests are not supported
2025-06-15 13:30:36.228 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub/negotiate'
2025-06-15 13:30:36.228 +05:30 [DBG] Request matched endpoint '/notificationhub/negotiate'
2025-06-15 13:30:36.228 +05:30 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-06-15 13:30:36.229 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-06-15 13:30:36.229 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:30:36.229 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:30:36.229 +05:30 [INF] Executing endpoint '/notificationhub/negotiate'
2025-06-15 13:30:36.229 +05:30 [DBG] New connection osXfgbWi2ty8WFYMzjhlTA created.
2025-06-15 13:30:36.229 +05:30 [DBG] Sending negotiation response.
2025-06-15 13:30:36.229 +05:30 [INF] Executed endpoint '/notificationhub/negotiate'
2025-06-15 13:30:36.229 +05:30 [DBG] Connection id "0HNDBRS4TNMQR" completed keep alive response.
2025-06-15 13:30:36.229 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - 200 316 application/json 1.5881ms
2025-06-15 13:30:36.236 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/notificationhub?id=5TtmD6LXXo_9-T_fSvva_w&access_token=background-color%3A%20%23f1f5f9%3B%20%2F*%20light%20slate%20*%2F%20%20%20%20%20border-left%3A%204px%20solid%20%233b82f6%3B%20%2F*%20blue-500%20*%2F%20%20%20%20%20padding%3A%2012px%2016px%3B%20%20%20%20%20margin-bottom%3A%2010px%3B%20%20%20%20%20border-radius%3A%206px%3B%20%20%20%20%20font-family%3A%20%27Segoe%20UI%27%2C%20sans-serif%3B%20%20%20%20%20box-shadow%3A%200%202px%204px%20rgba(0%2C0%2C0%2C0.05)%3B%20%20%20%20%20transition%3A%20transform%200.2s%20ease%3B - null null
2025-06-15 13:30:36.236 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 13:30:36.237 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub'
2025-06-15 13:30:36.237 +05:30 [DBG] Request matched endpoint '/notificationhub'
2025-06-15 13:30:36.237 +05:30 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-06-15 13:30:36.238 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-06-15 13:30:36.238 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:30:36.238 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:30:36.238 +05:30 [INF] Executing endpoint '/notificationhub'
2025-06-15 13:30:36.238 +05:30 [DBG] Establishing new connection.
2025-06-15 13:30:36.239 +05:30 [DBG] OnConnectedAsync started.
2025-06-15 13:30:36.239 +05:30 [DBG] Socket opened using Sub-Protocol: 'null'.
2025-06-15 13:30:36.241 +05:30 [DBG] Found protocol implementation for requested protocol: json.
2025-06-15 13:30:36.241 +05:30 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2025-06-15 13:30:59.531 +05:30 [DBG] Connection id "0HNDBRS4TNMQS" accepted.
2025-06-15 13:30:59.531 +05:30 [DBG] Connection id "0HNDBRS4TNMQT" accepted.
2025-06-15 13:30:59.531 +05:30 [DBG] Connection id "0HNDBRS4TNMQS" received FIN.
2025-06-15 13:30:59.531 +05:30 [DBG] Connection id "0HNDBRS4TNMQS" started.
2025-06-15 13:30:59.531 +05:30 [DBG] Connection id "0HNDBRS4TNMQT" started.
2025-06-15 13:30:59.531 +05:30 [DBG] Connection id "0HNDBRS4TNMQS" disconnecting.
2025-06-15 13:30:59.531 +05:30 [DBG] Connection id "0HNDBRS4TNMQS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 13:30:59.531 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 13:30:59.531 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 13:30:59.531 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 13:30:59.531 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 13:30:59.532 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:30:59.532 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/15/2025 7:53:10AM', Current time (UTC): '6/15/2025 8:00:59AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-15 13:30:59.532 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/15/2025 7:53:10AM', Current time (UTC): '6/15/2025 8:00:59AM'.
2025-06-15 13:30:59.532 +05:30 [DBG] Connection id "0HNDBRS4TNMQS" stopped.
2025-06-15 13:30:59.533 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-06-15 13:30:59.533 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-15 13:30:59.538 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-15 13:30:59.538 +05:30 [DBG] Connection id "0HNDBRS4TNMQT" completed keep alive response.
2025-06-15 13:30:59.538 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - 401 0 null 7.2384ms
2025-06-15 13:31:07.578 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/api/v1/Auth/login - application/json 63
2025-06-15 13:31:07.578 +05:30 [DBG] POST requests are not supported
2025-06-15 13:31:07.579 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-06-15 13:31:07.579 +05:30 [DBG] Endpoint 'DSS.Controllers.AuthController.Login (Document Sharing System)' with route pattern 'api/v1/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-06-15 13:31:07.579 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.AuthController.Login (Document Sharing System)'
2025-06-15 13:31:07.579 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-15 13:31:07.579 +05:30 [INF] Executing endpoint 'DSS.Controllers.AuthController.Login (Document Sharing System)'
2025-06-15 13:31:07.579 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[DSS.Models.DTOs.AuthResponse]] Login(DSS.Models.DTOs.LoginRequestDto) on controller DSS.Controllers.AuthController (Document Sharing System).
2025-06-15 13:31:07.579 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 13:31:07.579 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 13:31:07.579 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 13:31:07.580 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 13:31:07.580 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 13:31:07.580 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.AuthController (Document Sharing System)
2025-06-15 13:31:07.580 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.AuthController (Document Sharing System)
2025-06-15 13:31:07.581 +05:30 [DBG] Attempting to bind parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto' ...
2025-06-15 13:31:07.581 +05:30 [DBG] Attempting to bind parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto' using the name '' in request data ...
2025-06-15 13:31:07.581 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-15 13:31:07.581 +05:30 [DBG] Connection id "0HNDBRS4TNMQT", Request id "0HNDBRS4TNMQT:00000002": started reading request body.
2025-06-15 13:31:07.581 +05:30 [DBG] Connection id "0HNDBRS4TNMQT", Request id "0HNDBRS4TNMQT:00000002": done reading request body.
2025-06-15 13:31:07.581 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'DSS.Models.DTOs.LoginRequestDto'
2025-06-15 13:31:07.582 +05:30 [DBG] Done attempting to bind parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto'.
2025-06-15 13:31:07.582 +05:30 [DBG] Done attempting to bind parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto'.
2025-06-15 13:31:07.582 +05:30 [DBG] Attempting to validate the bound parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto' ...
2025-06-15 13:31:07.582 +05:30 [DBG] Done attempting to validate the bound parameter 'user' of type 'DSS.Models.DTOs.LoginRequestDto'.
2025-06-15 13:31:07.582 +05:30 [INF] Fetching user by email: nithish@gmail.com
2025-06-15 13:31:07.582 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 13:31:07.583 +05:30 [DBG] Creating DbConnection.
2025-06-15 13:31:07.583 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 13:31:07.583 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:07.583 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:07.583 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:31:07.583 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:31:07.583 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:31:07.583 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 13:31:07.584 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 13:31:07.584 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:31:07.584 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:31:07.584 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:07.584 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:31:07.585 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:07.585 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:31:07.585 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 13:31:07.585 +05:30 [INF] User found for email: nithish@gmail.com
2025-06-15 13:31:07.718 +05:30 [DBG] 'DssContext' generated a value for the property 'AuthSession.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:31:07.718 +05:30 [DBG] The navigation 'AuthSession.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:31:07.718 +05:30 [DBG] Context 'DssContext' started tracking 'AuthSession' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:31:07.718 +05:30 [DBG] SaveChanges starting for 'DssContext'.
2025-06-15 13:31:07.718 +05:30 [DBG] DetectChanges starting for 'DssContext'.
2025-06-15 13:31:07.718 +05:30 [DBG] DetectChanges completed for 'DssContext'.
2025-06-15 13:31:07.718 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:07.719 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:07.719 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:31:07.719 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:31:07.719 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:31:07.719 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuthSessions" ("Id", "CreatedAt", "ExpiresAt", "IsRevoked", "RefreshToken", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-15 13:31:07.720 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuthSessions" ("Id", "CreatedAt", "ExpiresAt", "IsRevoked", "RefreshToken", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-15 13:31:07.720 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:07.720 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:31:07.720 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:07.720 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:31:07.720 +05:30 [DBG] An entity of type 'AuthSession' tracked by 'DssContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:31:07.721 +05:30 [DBG] SaveChanges completed for 'DssContext' with 1 entities written to the database.
2025-06-15 13:31:07.721 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-15 13:31:07.721 +05:30 [DBG] No information found on request to perform content negotiation.
2025-06-15 13:31:07.721 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-15 13:31:07.721 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-15 13:31:07.721 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-15 13:31:07.721 +05:30 [INF] Executing OkObjectResult, writing value of type 'DSS.Models.DTOs.AuthResponse'.
2025-06-15 13:31:07.721 +05:30 [INF] Executed action DSS.Controllers.AuthController.Login (Document Sharing System) in 141.7073ms
2025-06-15 13:31:07.722 +05:30 [INF] Executed endpoint 'DSS.Controllers.AuthController.Login (Document Sharing System)'
2025-06-15 13:31:07.722 +05:30 [DBG] Connection id "0HNDBRS4TNMQT" completed keep alive response.
2025-06-15 13:31:07.722 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 13:31:07.722 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:07.722 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:31:07.722 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5015/api/v1/Auth/login - 200 null application/json; charset=utf-8 143.7918ms
2025-06-15 13:31:11.562 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - null null
2025-06-15 13:31:11.562 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 13:31:11.562 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 13:31:11.562 +05:30 [DBG] Endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)' with route pattern 'api/v1/UserDoc/GetDocument' is valid for the request path '/api/v1/UserDoc/GetDocument'
2025-06-15 13:31:11.562 +05:30 [DBG] Request matched endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:31:11.562 +05:30 [DBG] Successfully validated the token.
2025-06-15 13:31:11.562 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-15 13:31:11.563 +05:30 [DBG] Authorization was successful.
2025-06-15 13:31:11.563 +05:30 [INF] Executing endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:31:11.563 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "UserDoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DownloadFile(System.String, System.String) on controller DSS.Controllers.UserDocController (Document Sharing System).
2025-06-15 13:31:11.563 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-15 13:31:11.563 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-15 13:31:11.563 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-15 13:31:11.563 +05:30 [DBG] Execution plan of exception filters (in the following order): ["DSS.Misc.CustomExceptionFilter (Order: 0)"]
2025-06-15 13:31:11.563 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-15 13:31:11.563 +05:30 [DBG] Executing controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 13:31:11.563 +05:30 [DBG] Executed controller factory for controller DSS.Controllers.UserDocController (Document Sharing System)
2025-06-15 13:31:11.564 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' ...
2025-06-15 13:31:11.564 +05:30 [DBG] Attempting to bind parameter 'filename' of type 'System.String' using the name 'filename' in request data ...
2025-06-15 13:31:11.564 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 13:31:11.564 +05:30 [DBG] Done attempting to bind parameter 'filename' of type 'System.String'.
2025-06-15 13:31:11.564 +05:30 [DBG] Attempting to validate the bound parameter 'filename' of type 'System.String' ...
2025-06-15 13:31:11.564 +05:30 [DBG] Done attempting to validate the bound parameter 'filename' of type 'System.String'.
2025-06-15 13:31:11.564 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 13:31:11.564 +05:30 [DBG] Attempting to bind parameter 'UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2025-06-15 13:31:11.564 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 13:31:11.564 +05:30 [DBG] Done attempting to bind parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 13:31:11.564 +05:30 [DBG] Attempting to validate the bound parameter 'UploaderEmail' of type 'System.String' ...
2025-06-15 13:31:11.564 +05:30 [DBG] Done attempting to validate the bound parameter 'UploaderEmail' of type 'System.String'.
2025-06-15 13:31:11.564 +05:30 [INF] Fetching user by email: arun@gmail.com
2025-06-15 13:31:11.565 +05:30 [DBG] Entity Framework Core 9.0.5 initialized 'DssContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: None
2025-06-15 13:31:11.565 +05:30 [DBG] Creating DbConnection.
2025-06-15 13:31:11.565 +05:30 [DBG] Created DbConnection. (0ms).
2025-06-15 13:31:11.565 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:11.565 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:11.565 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:31:11.565 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:31:11.565 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:31:11.565 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 13:31:11.566 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
2025-06-15 13:31:11.566 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:31:11.566 +05:30 [DBG] Context 'DssContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:31:11.566 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:11.566 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:31:11.566 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:11.566 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:31:11.566 +05:30 [INF] Fetched all users. Count: 2
2025-06-15 13:31:11.566 +05:30 [INF] User found for email: arun@gmail.com
2025-06-15 13:31:11.567 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:11.567 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:11.567 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:31:11.567 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:31:11.567 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:31:11.567 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 13:31:11.568 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
2025-06-15 13:31:11.568 +05:30 [DBG] Context 'DssContext' started tracking 'UserDocument' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:31:11.568 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:11.568 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:31:11.568 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:11.568 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:31:11.568 +05:30 [INF] Fetched all documents Count: 1
2025-06-15 13:31:11.569 +05:30 [INF] Document Coding.txt fetched for uploader arun@gmail.com
2025-06-15 13:31:11.569 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:11.569 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:11.569 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:31:11.569 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:31:11.569 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:31:11.569 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 13:31:11.569 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."DocumentId", d."IsRevoked", d."SharedWithUserId"
FROM "DocumentShares" AS d
2025-06-15 13:31:11.570 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentShare' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:31:11.570 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:11.570 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:31:11.570 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:11.570 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:31:11.570 +05:30 [INF] Fetched all document shares Count: 1
2025-06-15 13:31:11.570 +05:30 [DBG] 'DssContext' generated a value for the property 'DocumentView.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:31:11.570 +05:30 [DBG] The navigation 'DocumentView.Document' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:31:11.570 +05:30 [DBG] The navigation 'DocumentView.ViewedBy' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:31:11.570 +05:30 [DBG] Context 'DssContext' started tracking 'DocumentView' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:31:11.570 +05:30 [DBG] SaveChanges starting for 'DssContext'.
2025-06-15 13:31:11.570 +05:30 [DBG] DetectChanges starting for 'DssContext'.
2025-06-15 13:31:11.571 +05:30 [DBG] DetectChanges completed for 'DssContext'.
2025-06-15 13:31:11.571 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:11.571 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:11.571 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:31:11.571 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:31:11.571 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:31:11.571 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 13:31:11.572 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DocumentViews" ("Id", "DocumentId", "ViewedAt", "ViewedByUserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-15 13:31:11.572 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:11.572 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:31:11.573 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:11.573 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:31:11.573 +05:30 [DBG] An entity of type 'DocumentView' tracked by 'DssContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-15 13:31:11.574 +05:30 [DBG] SaveChanges completed for 'DssContext' with 1 entities written to the database.
2025-06-15 13:31:11.574 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:11.574 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:11.574 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:31:11.575 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:31:11.575 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:31:11.575 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:31:11.575 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."ContentType", u."FileData", u."FileName", u."IsDeleted", u."UploadedAt", u."UploadedById"
FROM "UserDocuments" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:31:11.576 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:11.576 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:31:11.576 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:11.576 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:31:11.576 +05:30 [INF] Fetched document with ID: "0197686f-6512-767c-8e7d-c893fdb41259"
2025-06-15 13:31:11.576 +05:30 [INF] Fetching user by ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 13:31:11.577 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:11.577 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:11.577 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:31:11.577 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:31:11.577 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:31:11.577 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:31:11.578 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:31:11.578 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:11.578 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:31:11.578 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:11.578 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:31:11.578 +05:30 [INF] Fetched user with ID: "0197686e-9115-7334-a59b-ccc3d8ad6781"
2025-06-15 13:31:11.578 +05:30 [INF] Fetching user by ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 13:31:11.579 +05:30 [DBG] Opening connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:11.579 +05:30 [DBG] Opened connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:11.579 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-15 13:31:11.579 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:31:11.579 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-15 13:31:11.579 +05:30 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:31:11.580 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash", u."RegisteredAt", u."Role", u."UpdatedAt", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__key_0
LIMIT 2
2025-06-15 13:31:11.580 +05:30 [DBG] Closing data reader to 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:11.580 +05:30 [DBG] A data reader for 'DocSS' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-15 13:31:11.580 +05:30 [DBG] Closing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:11.580 +05:30 [DBG] Closed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:31:11.580 +05:30 [INF] Fetched user with ID: "0197686e-7b1c-712f-81fd-5d3315833adb"
2025-06-15 13:31:11.580 +05:30 [INF] Sending notification to group: arun@gmail.com
2025-06-15 13:31:11.581 +05:30 [INF] Executing FileContentResult, sending file with download name 'Coding.txt' ...
2025-06-15 13:31:11.581 +05:30 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2025-06-15 13:31:11.581 +05:30 [INF] Executed action DSS.Controllers.UserDocController.DownloadFile (Document Sharing System) in 17.6054ms
2025-06-15 13:31:11.581 +05:30 [INF] Executed endpoint 'DSS.Controllers.UserDocController.DownloadFile (Document Sharing System)'
2025-06-15 13:31:11.581 +05:30 [DBG] Connection id "0HNDBRS4TNMQT" completed keep alive response.
2025-06-15 13:31:11.581 +05:30 [DBG] 'DssContext' disposed.
2025-06-15 13:31:11.581 +05:30 [DBG] Disposing connection to database 'DocSS' on server 'tcp://localhost:5432'.
2025-06-15 13:31:11.581 +05:30 [DBG] Disposed connection to database 'DocSS' on server 'tcp://localhost:5432' (0ms).
2025-06-15 13:31:11.581 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/v1/UserDoc/GetDocument?filename=Coding.txt&UploaderEmail=arun@gmail.com - 200 5164 text/plain 19.4828ms
2025-06-15 13:31:23.283 +05:30 [DBG] Connection id "0HNDBRS4TNMQU" accepted.
2025-06-15 13:31:23.283 +05:30 [DBG] Connection id "0HNDBRS4TNMQU" started.
2025-06-15 13:31:23.284 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - null 0
2025-06-15 13:31:23.284 +05:30 [DBG] OPTIONS requests are not supported
2025-06-15 13:31:23.284 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub/negotiate'
2025-06-15 13:31:23.284 +05:30 [DBG] Request matched endpoint '/notificationhub/negotiate'
2025-06-15 13:31:23.284 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-15 13:31:23.284 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:31:23.284 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:31:23.284 +05:30 [DBG] The request is a preflight request.
2025-06-15 13:31:23.284 +05:30 [DBG] Connection id "0HNDBRS4TNMQU" completed keep alive response.
2025-06-15 13:31:23.284 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - 204 null null 0.8368ms
2025-06-15 13:31:23.286 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - null 0
2025-06-15 13:31:23.286 +05:30 [DBG] POST requests are not supported
2025-06-15 13:31:23.286 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub/negotiate'
2025-06-15 13:31:23.286 +05:30 [DBG] Request matched endpoint '/notificationhub/negotiate'
2025-06-15 13:31:23.287 +05:30 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-06-15 13:31:23.287 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-06-15 13:31:23.287 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:31:23.287 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:31:23.287 +05:30 [INF] Executing endpoint '/notificationhub/negotiate'
2025-06-15 13:31:23.287 +05:30 [DBG] New connection f0QrCF_sBLCwP1il3DT1jA created.
2025-06-15 13:31:23.287 +05:30 [DBG] Sending negotiation response.
2025-06-15 13:31:23.287 +05:30 [INF] Executed endpoint '/notificationhub/negotiate'
2025-06-15 13:31:23.287 +05:30 [DBG] Connection id "0HNDBRS4TNMQU" completed keep alive response.
2025-06-15 13:31:23.288 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5015/notificationhub/negotiate?negotiateVersion=1 - 200 316 application/json 1.5313ms
2025-06-15 13:31:23.294 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/notificationhub?id=GIBz32HAHQPw70XytMu9kQ&access_token=background-color%3A%20%23f1f5f9%3B%20%2F*%20light%20slate%20*%2F%20%20%20%20%20border-left%3A%204px%20solid%20%233b82f6%3B%20%2F*%20blue-500%20*%2F%20%20%20%20%20padding%3A%2012px%2016px%3B%20%20%20%20%20margin-bottom%3A%2010px%3B%20%20%20%20%20border-radius%3A%206px%3B%20%20%20%20%20font-family%3A%20%27Segoe%20UI%27%2C%20sans-serif%3B%20%20%20%20%20box-shadow%3A%200%202px%204px%20rgba(0%2C0%2C0%2C0.05)%3B%20%20%20%20%20transition%3A%20transform%200.2s%20ease%3B - null null
2025-06-15 13:31:23.295 +05:30 [DBG] The request path  does not match the path filter
2025-06-15 13:31:23.295 +05:30 [DBG] 1 candidate(s) found for the request path '/notificationhub'
2025-06-15 13:31:23.295 +05:30 [DBG] Request matched endpoint '/notificationhub'
2025-06-15 13:31:23.295 +05:30 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-06-15 13:31:23.295 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-06-15 13:31:23.295 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-06-15 13:31:23.295 +05:30 [INF] CORS policy execution successful.
2025-06-15 13:31:23.295 +05:30 [INF] Executing endpoint '/notificationhub'
2025-06-15 13:31:23.296 +05:30 [DBG] Establishing new connection.
2025-06-15 13:31:23.296 +05:30 [DBG] OnConnectedAsync started.
2025-06-15 13:31:23.296 +05:30 [DBG] Socket opened using Sub-Protocol: 'null'.
2025-06-15 13:31:23.298 +05:30 [DBG] Found protocol implementation for requested protocol: json.
2025-06-15 13:31:23.298 +05:30 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2025-06-15 13:31:37.901 +05:30 [DBG] Waiting for the application to finish sending data.
2025-06-15 13:31:37.901 +05:30 [DBG] Waiting for the application to finish sending data.
2025-06-15 13:31:37.901 +05:30 [DBG] OnConnectedAsync ending.
2025-06-15 13:31:37.901 +05:30 [DBG] Socket closed.
2025-06-15 13:31:37.901 +05:30 [DBG] OnConnectedAsync ending.
2025-06-15 13:31:37.902 +05:30 [DBG] Removing connection 5TtmD6LXXo_9-T_fSvva_w from the list of connections.
2025-06-15 13:31:37.902 +05:30 [INF] Executed endpoint '/notificationhub'
2025-06-15 13:31:37.902 +05:30 [DBG] Socket closed.
2025-06-15 13:31:37.902 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/notificationhub?id=5TtmD6LXXo_9-T_fSvva_w&access_token=background-color%3A%20%23f1f5f9%3B%20%2F*%20light%20slate%20*%2F%20%20%20%20%20border-left%3A%204px%20solid%20%233b82f6%3B%20%2F*%20blue-500%20*%2F%20%20%20%20%20padding%3A%2012px%2016px%3B%20%20%20%20%20margin-bottom%3A%2010px%3B%20%20%20%20%20border-radius%3A%206px%3B%20%20%20%20%20font-family%3A%20%27Segoe%20UI%27%2C%20sans-serif%3B%20%20%20%20%20box-shadow%3A%200%202px%204px%20rgba(0%2C0%2C0%2C0.05)%3B%20%20%20%20%20transition%3A%20transform%200.2s%20ease%3B - 101 null null 61665.8316ms
2025-06-15 13:31:37.903 +05:30 [DBG] Connection id "0HNDBRS4TNMQR" disconnecting.
2025-06-15 13:31:37.905 +05:30 [DBG] Connection id "0HNDBRS4TNMQR" stopped.
2025-06-15 13:31:37.902 +05:30 [DBG] Removing connection GIBz32HAHQPw70XytMu9kQ from the list of connections.
2025-06-15 13:31:37.905 +05:30 [DBG] Connection id "0HNDBRS4TNMQR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 13:31:37.905 +05:30 [INF] Executed endpoint '/notificationhub'
2025-06-15 13:31:37.906 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/notificationhub?id=GIBz32HAHQPw70XytMu9kQ&access_token=background-color%3A%20%23f1f5f9%3B%20%2F*%20light%20slate%20*%2F%20%20%20%20%20border-left%3A%204px%20solid%20%233b82f6%3B%20%2F*%20blue-500%20*%2F%20%20%20%20%20padding%3A%2012px%2016px%3B%20%20%20%20%20margin-bottom%3A%2010px%3B%20%20%20%20%20border-radius%3A%206px%3B%20%20%20%20%20font-family%3A%20%27Segoe%20UI%27%2C%20sans-serif%3B%20%20%20%20%20box-shadow%3A%200%202px%204px%20rgba(0%2C0%2C0%2C0.05)%3B%20%20%20%20%20transition%3A%20transform%200.2s%20ease%3B - 101 null null 14611.2076ms
2025-06-15 13:31:37.906 +05:30 [DBG] Connection id "0HNDBRS4TNMQU" disconnecting.
2025-06-15 13:31:37.906 +05:30 [DBG] Connection id "0HNDBRS4TNMQU" stopped.
2025-06-15 13:31:37.906 +05:30 [DBG] Connection id "0HNDBRS4TNMQU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 13:31:54.084 +05:30 [INF] Application is shutting down...
2025-06-15 13:31:54.085 +05:30 [DBG] Hosting stopping
2025-06-15 13:31:54.090 +05:30 [DBG] Connection id "0HNDBRS4TNMQT" disconnecting.
2025-06-15 13:31:54.090 +05:30 [DBG] Connection id "0HNDBRS4TNMQT" stopped.
2025-06-15 13:31:54.090 +05:30 [DBG] Connection id "0HNDBRS4TNMQT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-15 13:31:54.094 +05:30 [DBG] Hosting stopped
